(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[32938,51798,90907,39395,75970],{34541:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="1cff41f3f84318480329ef28ad3f8ca3",e.exports=n},166379:function(e){"use strict";var t,n,r,o,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[o],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"ab55ea9f382837bc92cb5dab03686e16868a27912a9e4237e2ddbe7a15540d21",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};i.hash="9c91c46b70b37b163403747442a8c1d4",e.exports=i},380465:function(e){"use strict";var t,n,r,o,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[r],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[o],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"8d8e9da7f5f5830ad00711d5fa1aa68c48b859aac0680cc0e49d58d3c1ccea88",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};i.hash="e485abf49d319ba9c47587981f2a86be",e.exports=i},656177:function(e){"use strict";var t,n,r,o,i,a,l,c,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},r={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[i,c={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,r],kind:"Operation",name:"ShareInviteMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[c],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"30e03e1f3b6dded5c6d93bfecfb50065b254f1307aec34dfa67719890b615b82",metadata:{},name:"ShareInviteMutation",operationKind:"mutation",text:null}};s.hash="c33b898a613c3dc2792113fb7e97b0f5",e.exports=s},850115:function(e){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:function(e){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:function(e){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:function(e){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:function(e){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},832654:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(349700);function o(e,t){var n=e.alt_text,o=e.auto_alt_text;return n?(0,r.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:n}).join(""):o?(0,r.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:o}).join(""):null}},695014:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(76911),o=n(506979),i=n(616211),a=n(898781),l=n(214494);function c(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))}}function u(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}function d(e){return function(){var t=s(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callCreate();case 2:n(u(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function p(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}function f(e){return function(){var t=s(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callDelete();case 2:n(p(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var _=n(908390),h=n(515198);function m(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.favorited,n=e.favoriteCount,l=e.isCloseupButton,c=e.onFavorite,s=e.onUnfavorite,u=e.pinId,p=e.size,v=(0,a.ZP)(),g=(0,o.useDispatch)(),b=y((0,r.useState)(!1),2),P=b[0],w=b[1],S=y((0,r.useState)(t),2),x=S[0],O=S[1],A=y((0,r.useState)(null!=n?n:0),2),j=A[0],E=A[1],T=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!x),w(!0),!x){e.next=10;break}return E(j-1),e.next=6,g(f(u));case 6:s(),w(!1),e.next=15;break;case 10:return E(j+1),e.next=13,g(d(u));case 13:c(),w(!1);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,l,"next",e)}function l(e){m(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),I=j<10?j:v._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,h.jsxs)(_.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==n&&j>0&&(0,h.jsx)(_.xv,{size:"200",weight:"bold",children:I}),(0,h.jsx)(i.Z,{isCloseupButton:l,isDisabled:P,isFavorited:x,onTap:function(){T()},size:p})]})}},578722:function(e,t,n){"use strict";n.d(t,{H1:function(){return s},HW:function(){return i},iL:function(){return c},pN:function(){return l},s_:function(){return a}});var r=n(19121),o=n(773285),i=new Date(2022,1,1);function a(){var e=(0,o.F)().checkExperiment,t=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),n=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,r=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return t||n||r}function l(e){var t=e.isOwnPin,n=e.isStoryPin,a=e.pinCreationDate,l=e.surface,c=(0,r.Z)(),s=(0,o.F)().checkExperiment,u=s("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,d=!!("CreatorProfileStoryPinGrid"===l&&n&&a&&a.getTime()>=i.getTime()&&u&&c.isPartner&&t)&&s("web_ip_plays").anyEnabled,p=["enabled_public","employees"].includes(s("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===l&&n&&a&&a.getTime()>=i.getTime()){if(c.isPartner)return t&&d||!t&&p;if(s("web_ip_pinner_plays").anyEnabled)return!0}return!1}function c(e){var t=e.isOwnPin,n=e.isPartner,r=(0,o.F)().checkExperiment,i=["enabled_public","employees"].includes(r("web_ip_plays",{dangerouslySkipActivation:!0}).group),a=r("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(t||!(a&&!n||i&&n))}function s(e){var t=e.isOwnPin,n=e.isPartner,r=(0,o.F)().checkExperiment,i=r("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=r("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!t||!(i&&n||a&&!n))}},955362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(76911),o=n(506979),i=n(205202),a=n(248975),l=n(705147),c=n(883561),s=n(898781),u=n(199387),d=n(447948),p=n(623568),f=n(116674),_=n(576440),h=n(908390),m=n(515198);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n,v,g=e.feedbackData,b=e.feedbackType,P=e.pin,w=e.pinTitle,S=e.setForcePrimary,x=e.transparentBackground,O=(0,s.ZP)(),A=(0,o.useDispatch)(),j=(0,_.E)(),E=j.viewParameter,T=j.viewType,I=(0,f.f)().reportPin,C=y((0,r.useState)(!1),2),D=C[0],R=C[1],k=y((0,r.useState)(),2),z=k[0],L=k[1],M=P.ad_match_reason,N=P.show_ad_reasons,B=P.board,F=P.category,Z=P.description,U=P.id,G=void 0===U?"":U,V=P.images,H=P.is_promoted,W=P.pinner,K=P.promoter,Y=P.recommendation_reason,X=P.source_interest,q=P.videos,J=(v=H?60:50,function(e){return(0,c.ZP)((e||"").trim(),v)})(null!=Z?Z:""),$=(0,i.Z)(V,"236x"),Q=(0,p.iR)(q),ee=(0,u.Z)(101,{component:0,element:981,object_id_str:G,aux_data:{feedback_type:b}}),te=function(){N||(S(!1),A((0,d.i0)(G)),R(!1))};return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(h.xu,{"data-test-id":"feedback-button",ref:L,children:(0,m.jsx)(h.hU,{accessibilityLabel:O._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:x?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){D?te():(S(!0),R(!0)),ee()},size:"sm"})}),D&&(0,m.jsx)(h.xu,{onFocus:function(e){return e.stopPropagation()},children:(0,m.jsx)(l.Z,{anchor:z,ad_match_reason:M,bestPinImgSrc:(0,a.Z)({images:P.images,embedSrc:null===(t=P.embed)||void 0===t?void 0:t.src,embedType:null===(n=P.embed)||void 0===n?void 0:n.type}),board:B,feedbackData:g,feedbackType:b,hideDownload:Q,isPromoted:H,onLinkClick:function(){D&&te()},onDismiss:te,onHide:te,onDownloadHideFlyout:function(){S(!1),R(!1)},pinCategory:F,pinDescription:J,pinId:G,pinImgSrc:$,pinner:W,pinTitle:w,promoter:K,recommendationReason:Y,reportPin:function(){I(P,E,T),te()},sourceInterest:X,viewParameter:E,viewType:T})})]})}},705147:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(76911),o=n(506979),i=n(238771),a=n(920085),l=n(149230),c=n(379884),s=n(852964),u=n(814197),d=n(760372),p=n(407043),f=n(350118),_=n(813401),h=n(827896),m=n(898781),y=n(680046),v=n(349700),g=n(447948),b=n(908390),P=n(55275),w=n(609500),S=n(515198);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(f,e);var t,n,o,p=C(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),z(R(t=p.call(this,e)),"getRecommendationDescription",(function(){var e=t.props,n=e.i18n,r=e.ad_match_reason,o=e.board,i=e.feedbackType,a=e.pinner,l=e.promoter,c=e.recommendationReason,s=e.sourceInterest,u={i18n:n,makeNavigateLink:t.makeNavigateLink};switch(i){case"pfy":return(0,y.Ud)(E(E({},u),{},{feedback:{type:"pfy"}}));case"pfyBoard":return(0,y.Ud)(E(E({},u),{},{feedback:{type:"pfyBoard",recommendationReasonBoard:(null==c?void 0:c.board)&&{name:c.board.name,url:c.board.url}}}));case"topic":return(0,y.Ud)(E(E({},u),{},{feedback:{type:"topic",sourceInterest:s&&s.name&&s.url_name?{name:s.name,url_name:s.url_name}:null}}));case"followed":return(0,y.Ud)(E(E({},u),{},{feedback:{type:"followed",followed:a&&a.explicitly_followed_by_me?{type:"pinner",pinner:a.full_name?{full_name:a.full_name,username:a.username}:null}:{type:"board",board:o&&o.name&&o.url?{name:o.name,url:o.url}:null}}}));case"promoted":return(0,y.Ud)(E(E({},u),{},{feedback:{type:"promoted",promoter:!r&&l&&l.full_name?{full_name:l.full_name,username:l.username}:null}}));default:return null}})),z(R(t),"getRecommendationDescriptionImage",(function(){var e,n,r,o=t.props,i=o.board,a=o.feedbackType,l=o.pinner,c=o.recommendationReason;return"followed"!==a&&"pfyBoard"!==a?null:(l&&l.explicitly_followed_by_me?(e=l.image_small_url,n="50%",r="/".concat(l.username)):i&&i.image_thumbnail_url&&(e=i.image_thumbnail_url,n="4px",r=c&&c.board&&c.board.url||i.url),e?(0,S.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:n}},flex:"none",marginStart:3,overflow:"hidden",children:(0,S.jsx)(b.iP,{onTap:function(){var e;return t.props.history.push(null!==(e=r)&&void 0!==e?e:"")},children:(0,S.jsx)(b.zd,{height:40,wash:!0,width:40,children:(0,S.jsx)(b.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:e})})})}):null)})),z(R(t),"getUnfollowAction",(function(){var e=t.props,n=e.board,r=e.feedbackType,o=e.i18n,i=e.pinner,a=e.sourceInterest;switch(r){case"followed":return i&&n?(0,y.oK)({i18n:o,makeNavigateLink:t.makeNavigateLink,boardId:n.id,display:i.explicitly_followed_by_me?{type:"pinner",data:{full_name:i.full_name,username:i.username}}:{type:"board",data:{name:n.name,url:n.url}}}):null;case"topic":if(!a)return null;var l=a.id,c=a.name,s=a.url_name;return l&&c&&s?(0,y.Iv)({i18n:o,makeNavigateLink:t.makeNavigateLink,sourceInterest:{id:l,name:c,url_name:s}}):null;default:return null}})),z(R(t),"getUndoText",(function(e){return"unfollowPinner"===e||"unfollowBoard"===e?t.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):""})),z(R(t),"makeNavigateLink",(function(e,n,r,o){return(0,S.jsx)(b.rU,{onClick:t.props.onLinkClick,href:n,display:"inlineBlock",underline:"hover",children:(0,S.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:o?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:r})},e)})),z(R(t),"reportPinOption",(function(){return{action:"reportPin",elementType:974,text:t.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:t.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:t.props.reportPin,dataTestId:"report-pin-option"}})),z(R(t),"hidePinOption",(function(e){var n=t.props,r=n.clientTrackingParams,o=n.feedbackData,i=n.feedbackType,a=n.pinId,l=n.recommendationReason,c="search"===i?973:982,u=(0,y.fJ)({feedbackData:o,feedbackType:i,pinId:a,recommendationReasonId:(0,s.Z)(l),pinFeedbackType:"pfy"===i?4:10,throughId:l&&(0,y.yl)(l),throughProperties:l&&(0,y.XZ)(l),clientTrackingParams:r(a)}),d=u.action,p=u.actionOptions,f=t.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:d,actionOptions:p,feedbackText:t.pinHiddenFeedbackText(e),text:f,description:t.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:c}})),z(R(t),"stopRecommendationOption",(function(){var e=t.props,n=e.clientTrackingParams,r=e.feedbackData,o=e.feedbackType,i=e.pinId,a=e.recommendationReason,l=(null!=a?a:{}).board,c=(0,s.Z)(a),u=a&&(0,y.yl)(a),d=a&&(0,y.XZ)(a),p="pfyBoard"===o,f=(0,y.fJ)({feedbackData:r,feedbackType:o,pinId:i,recommendationReasonId:c,pinFeedbackType:p?2:4,throughId:u,throughProperties:d,clientTrackingParams:n(i)}),_=f.action,h=f.actionOptions,m=l?t.makeNavigateLink("boardUrl",l.url,l.name,!0):"";return{action:_,actionOptions:h,feedbackText:{subTitle:p&&l?(0,v.nk)(t.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:m}):t.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:p&&l?(0,v.nk)(t.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:l.name}):t.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),z(R(t),"unfollowBoardOption",(function(){var e,n,r=t.props.board,o=r?t.makeNavigateLink("boardUrl",null!==(e=r.url)&&void 0!==e?e:"",null!==(n=r.name)&&void 0!==n?n:"",!0):"",i=(0,v.nk)(t.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==r?void 0:r.name}),a=(0,v.nk)(t.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:o});return{action:"unfollowBoard",actionOptions:{board_id:null==r?void 0:r.id},feedbackText:{title:"",subTitle:a},text:i,description:(0,v.nk)(t.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==r?void 0:r.name}),elementType:10614}})),z(R(t),"unfollowTopicOption",(function(){var e=t.props.sourceInterest;if(e){var n=e.id,r=e.name,o=void 0===r?"":r,i=e.url_name,a="/topics/".concat(void 0===i?"":i),l=t.makeNavigateLink("topicUrl",a,o,!0),c=(0,v.nk)(t.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:o}),s=(0,v.nk)(t.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:d.X},feedbackText:{title:"",subTitle:s},text:c,description:(0,v.nk)(t.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),z(R(t),"unfollowUserOption",(function(){var e=t.props.pinner,n=null!=e?e:{},r=n.id,o=n.username,i=n.full_name,a="/".concat(o),l=e?t.makeNavigateLink("pinnerUrl",a,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:r},feedbackText:{title:"",subTitle:(0,v.nk)(t.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:l})},text:(0,v.nk)(t.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:i}),description:t.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),z(R(t),"downloadPinOption",(function(){return{action:"downloadPin",text:t.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}})),z(R(t),"_pinFeedbackText",(function(){var e,n,r,o,i=t.props,a=i.location,l=i.feedbackType,c=i.hideDownload,s=i.pinner,u="followed"===t.props.feedbackType,d=a.pathname.includes("following"),p=(u||"topic"===l)&&!d,f=t.hidePinOption(p),_=t.reportPinOption(),h="promoted"!==l&&!c;switch(l){case"followed":var m=d,y=!m&&t.getRecommendationDescription(),v=null!=s&&s.explicitly_followed_by_me?t.unfollowUserOption():t.unfollowBoardOption(),g=[f].concat(O(p||m?[v]:[]),O("promoted"!==l?[t.downloadPinOption()]:[]),[_]);return E(E({},y?{description:y}:{}),{},{options:g});case"promoted":var b=t.props,P=b.pinId,w=b.showAdReasonsModal,S=[f,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:t.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:function(){w(P)}},_];return{description:null!==(e=t.getRecommendationDescription())&&void 0!==e?e:void 0,options:S};case"topic":var x=t.unfollowTopicOption(),A=[f].concat(O(p&&x?[x]:[]),O(h?[t.downloadPinOption()]:[]),[_]);return{description:null!==(n=t.getRecommendationDescription())&&void 0!==n?n:void 0,options:A};case"pfy":case"pfyBoard":var j=[f].concat(O("pfyBoard"===l?[t.stopRecommendationOption()]:[]),O(h?[t.downloadPinOption()]:[]),[_]);return{description:null!==(r=t.getRecommendationDescription())&&void 0!==r?r:void 0,options:j};default:var T=[f].concat(O(h?[t.downloadPinOption()]:[]),[_]);return{description:null!==(o=t.getRecommendationDescription())&&void 0!==o?o:void 0,options:T}}})),z(R(t),"pinHiddenFeedbackText",(function(e){var n=t.props,r=n.isPromoted,o=n.promoter,i=e?null:t.getUnfollowAction();return r&&null!=o&&o.full_name?{title:"",subTitle:(0,v.nk)(t.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:o.full_name})}:i?{title:"",subTitle:t.getRecommendationDescription(),unfollow:i}:{title:"",subTitle:t.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));var n=t._pinFeedbackText();return t.state={pinFeedbackConfig:n,showSecondary:!1},t}return t=f,(n=[{key:"onPinFeedbackActionButtonClick",value:function(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,P.t)(t.action,t.actionOptions,n)}},{key:"onPinHide",value:function(e,t,n,r){var o=this.props,i=o.hidePinFeedback,a=o.onHide,l=o.pinId,c=o.showPinFeedback,s=o.showPinFeedbackOverlay,u=o.showPinFeedbackUndo,d=o.viewParameter,p=o.viewType,f=o.logContextEvent;t&&n&&r?u(l,e,(0,y.EF)(n,r,l,p,d,i,f),this.getUndoText(r)):c(l,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?a():(this.setState({showSecondary:!0}),s(l))}},{key:"handleClickLogging",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.feedbackType,o=n.viewParameter,i=n.viewType,a=n.logContextEvent;a({event_type:101,view_type:i,view_parameter:o,element:e,component:(0,y.nb)(r),aux_data:E({},t)})}},{key:"renderButtons",value:function(){for(var e=this,t=this.props,n=t.hideDownload,r=t.onDownloadHideFlyout,o=t.pinId,i=t.viewType,c=t.viewParameter,s=t.logContextEvent,u=t.isWindowsPwa,d=this.state.pinFeedbackConfig.options,p=[],f=d.length,_=function(t){var f=d[t],_=P.P.includes(f.action),h=f.callback?f.callback:function(){return e.onPinHide(f.feedbackText,_,f.actionOptions,f.action)};if("downloadPin"!==f.action){var m=(0,l.Z)({url:f.link||""}),y="";Array.isArray(f.text)?y=f.text.join(""):"string"!=typeof f.text&&"number"!=typeof f.text||(y=f.text.toString()),p.push(f.link?(0,S.jsx)(b.Lt.Link,{href:f.link,isExternal:m,option:{value:f.action||"",label:y},dataTestId:f.dataTestId||""}):(0,S.jsx)(b.Lt.Item,{onSelect:function(t){var n=t.event;return e.onPinFeedbackActionButtonClick(n,f,h)},option:{value:f.action||"",label:y},dataTestId:f.dataTestId||""}))}else if(!n&&!1===u){var v=e.props,g=v.bestPinImgSrc,w=v.pinTitle,x=v.pinDescription,O=v.pinCategory;p.push((0,S.jsx)(b.Lt.Item,{onSelect:function(){(0,a.Z)({category:O,filename:w||x,imageDownloadSuccessCallback:function(){r&&r()},imgSrc:g,pinId:o,viewParameter:c,viewType:i},s)},option:{value:"downloadImage",label:e.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}},h=0;h<f;h+=1)_(h);return p}},{key:"render",value:function(){var e=this.state,t=e.pinFeedbackConfig,n=e.showSecondary,o=this.props,a=o.anchor,l=o.onDismiss,s=o.feedbackData,d=o.feedbackType,p=o.hideAdReasonsModal,f=o.pinId,_=o.onHide,h=o.recommendationReason,m=o.showAdReasons,y=o.viewParameter,v=o.viewType,g=t.description,P=this.getRecommendationDescriptionImage();return(0,S.jsxs)(r.Fragment,{children:[n?(0,S.jsx)(c.Z,{anchor:a,feedbackData:s,feedbackType:d,pinId:f,onDismiss:l,onHide:_,recommendationReason:h,viewParameter:y,viewType:v}):(0,S.jsx)(b.Lt,{anchor:a,id:"pin-action-dropdown",idealDirection:"down",onDismiss:l,zIndex:u.lI,headerContent:g&&(0,S.jsxs)(b.kC,{alignItems:"center",children:[(0,S.jsx)(b.xu,{"data-pin-recommendation-reason":null==h?void 0:h.reason,maxHeight:56,overflow:"hidden",children:(0,S.jsx)(b.xv,{color:"default",overflow:"normal",size:"200",children:g})}),P]}),children:this.renderButtons()}),m&&(0,S.jsx)(i.ZP,{onDismiss:function(){return p(f)},pinId:f})]})}}])&&T(t.prototype,n),o&&T(t,o),f}(r.Component);function M(e){var t=(0,p.v)().logContextEvent,n=(0,h.Z)(),r=(0,m.ZP)(),i=(0,f.S6)()(e.pinId),a=null!=i?i:{},l=a.ad_targeting_attribution,c=a.show_ad_reasons,s=void 0!==c&&c,u=(0,_.kf)(),d=(0,o.useDispatch)();return(0,S.jsx)(L,E(E({},e),{},{clientTrackingParams:n,showAdReasons:s,adTargetingAttribution:l,history:(0,w.useHistory)(),i18n:r,isWindowsPwa:u,location:(0,w.useLocation)(),logContextEvent:t,hidePinFeedback:function(e){return d((0,g.I1)(e))},showPinFeedback:function(e,t){return d((0,g.q1)(e,t))},showPinFeedbackOverlay:function(e){return d((0,g.Ib)(e))},showPinFeedbackUndo:function(e,t,n,r){return d((0,g.NA)({id:e,text:t,undoAction:n,undoText:r}))},showAdReasonsModal:function(e){return d((0,g.b9)(e))},hideAdReasonsModal:function(e){return d((0,g.yj)(e))}}))}},438908:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(206134),o=n.n(r),i=n(876371),a=n(832654),l=n(784521),c=n(908390),s=n(515198);function u(e){var t=e.alt,n=e.onError,r=void 0===n?function(){}:n,o=e.onLoad,i=void 0===o?function(){}:o,a=e.pin,u=a.dominant_color,d=a.images,p=function(e){var t;return"number"==typeof(null===(t=e["474x"])||void 0===t?void 0:t.width)&&"number"==typeof e["474x"].height&&e["474x"].width>e["474x"].height?e["736x"]:e["474x"]}(void 0===d?{}:d)||{},f=p.height,_=p.width,h=p.url;return(0,s.jsx)(c.xu,{width:"100%",dangerouslySetInlineStyle:{__style:{zIndex:l.Z.storyPinImage}},children:(0,s.jsx)(c.Ee,{alt:t,color:u||"transparent",naturalHeight:null!=f?f:1,naturalWidth:null!=_?_:1,onError:r,onLoad:i,src:h||""})})}var d=n(898781),p=n(349700),f=n(310227),_=n(243943),h=function(e){var t,n,r,l=e.cropHeight,h=e.cropWidth,m=e.fallbackColor,y=e.highResOnly,v=e.imageFit,g=e.lowResOnly,b=e.mediumResOnly,P=e.minHeight,w=e.onError,S=e.onLoad,x=e.pin,O=e.saved,A=void 0!==O&&O,j=e.animateGif,E=(0,d.ZP)(),T=(0,_.Xx)(),I=x.carousel_data,C=x.description,D=void 0===C?"":C,R=x.dominant_color,k=x.grid_title,z=x.id,L=x.images,M=x.title,N=(0,p.nk)(E._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:M||k}).join(""),B=(0,a.Z)(x,E)||D.trim().length>0&&D||N;if(I)return(0,s.jsx)(i.Z,{onError:w,onLoad:S,highResOnly:y,lowResOnly:g,pinId:z});var F,Z="",U=0,G=0;if(L){var V,H,W,K,Y,X,q,J,$=L["236x"];if(y?$=L["736x"]||L.orig||L["474x"]||L["236x"]:b&&($=L["474x"]||L.orig||L["236x"]),U=null===(V=$)||void 0===V?void 0:V.height,G=null===(H=$)||void 0===H?void 0:H.width,Z=null===(W=$)||void 0===W?void 0:W.url,g||b||y)F=null!==(K=$)&&void 0!==K&&K.url?"".concat($.url," 1x"):"";else F=[(null===(Y=L["236x"])||void 0===Y?void 0:Y.url)&&"".concat(L["236x"].url," 1x"),(null===(X=L["474x"])||void 0===X?void 0:X.url)&&"".concat(L["474x"].url," 2x"),(null===(q=L["736x"])||void 0===q?void 0:q.url)&&"".concat(L["736x"].url," 3x"),(null===(J=L.orig)||void 0===J?void 0:J.url)&&"".concat(L.orig.url," 4x")].filter(Boolean).join(", ")}if(j){var Q=Math.max(x.embed&&x.embed.width||0,236),ee=Math.max(x.embed&&x.embed.height||0,236),te=x.embed?x.embed.src:"";te&&(U=ee,G=Q,Z=te,F="")}return null!=T&&T.image&&(U=T.image.height,G=T.image.width,Z=T.image.url),(0,s.jsx)(c.kC,{alignItems:"center",justifyContent:"start",minHeight:P||f.Ml,children:(0,s.jsx)(c.xu,{flex:"grow",children:(0,s.jsx)("div",{className:o()({savedGradient:A}),children:x.story_pin_data_id?(0,s.jsx)(u,{alt:B,pin:x,onError:w,onLoad:S}):(0,s.jsx)(c.xu,{height:h?l:void 0,width:h||void 0,"data-test-id":"non-story-pin-image",children:(0,s.jsx)(c.Ee,{alt:B,color:"dominant"===m?R:m,fit:v,naturalHeight:null!==(t=U)&&void 0!==t?t:1,naturalWidth:null!==(n=G)&&void 0!==n?n:1,onError:w,onLoad:S,src:null!==(r=Z)&&void 0!==r?r:"",srcSet:F})})})})})}},453782:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r=n(76911),o=n(964082),i=n(983722),a=n(357787),l=n(36971),c=n(463045),s=n(965900),u=n(108529),d=n(438908),p=n(350445),f=n(898781),_=n(46584),h=n(908390),m=n(515198);function y(e){var t=e.aspectRatio,n=e.children;return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:t}},children:n})}var v=n(926749),g=n(623568);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=new Set(["ConversationView","TodayTabFeed"]);function A(e){var t,n,o=e.inAdsDesktopVideoExperiment,i=e.isAutoplay,a=e.cropHeight,l=e.currentTime,c=e.lowResOnly,b=e.highResOnly,w=e.onLoad,x=e.onError,A=e.saved,j=e.onTimeChange,E=e.isExperimentalPinRep,T=e.pin,I=e.surface,C=e.playing,D=e.rootMargin,R=e.viewType,k=e.viewParameter,z=e.onVisibilityChanged,L=e.trackFullVisible,M=e.inVisibilityChangedHookExperiment,N=e.imageHeightModifier,B=e.cropWidth,F=(0,f.ZP)(),Z=S((0,r.useState)(!1),2),U=Z[0],G=Z[1],V=S((0,r.useState)(!0),2),H=V[0],W=V[1],K=T.is_downstream_promotion,Y=T.promoter,X=(0,g.jL)(K,Y),q=X&&!T.is_eligible_for_web_closeup,J=E&&X&&T.is_eligible_for_web_closeup&&!O.has(I),$=(0,s.I)().setCurrentVideo,Q=q||!E||!X,ee=(0,_.Z)({onVisibilityChanged:z,inAdsDesktopVideoExperiment:o,trackFullVisible:L,rootMargin:D}),te=!C;o&&(te=H,i&&C&&H&&W(!1));var ne=((null===(t=T.images)||void 0===t?void 0:t["236x"])||{}).url,re=T.id,oe=T.is_promoted,ie=(0,r.useCallback)((function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),$({pinId:re,isPromoted:Boolean(oe),currentTime:0}),G(!1)}),[oe,re,$]),ae=(0,r.useCallback)((function(){oe&&G(J)}),[J,oe]);if(!T.videos||null===(n=T.videos.video_list)||void 0===n||!n.V_HLSV4)return null;var le,ce=T.videos.video_list.V_HLSV4||{},se=ce.height,ue=ce.thumbnail,de=ce.width,pe=ce.url,fe=T.videos.id,_e=[{type:"video/m3u8",src:pe}],he=(null!=de?de:1)/(null!=se?se:1),me=o&&I&&(0,u.Z)(I);if(me&&(he=1,le="transparent",N&&(he-=N-1)),U&&X)return(0,m.jsx)(h.xu,{ref:M?ee:null,children:(0,m.jsx)(p.Z,{backgroundImage:null!=ne?ne:"",naturalHeight:null!=se?se:1,naturalWidth:null!=de?de:1,pin:T,onRestartVideo:ie})});if(te){var ye={highResOnly:b,lowResOnly:c,onError:x,onLoad:w,pin:T,saved:A};return me&&(ye=P(P({},ye),{},{cropHeight:a,cropWidth:B,imageFit:"contain"})),(0,m.jsx)(h.xu,{ref:M?ee:null,children:(0,m.jsx)(y,{aspectRatio:he,children:(0,m.jsx)(d.Z,P({},ye))})})}return(0,m.jsx)(h.xu,{ref:M?ee:null,children:(0,m.jsx)(v.ZP,{isAutoPlay:!!i,cropHeight:a,rootMargin:D,surface:I,inAdsDesktopVideoExperiment:o,contextLogData:{viewParameter:k,component:0,objectId:T.id,video_id:fe,view:R},accessibilityMaximizeLabel:F._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:F._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:F._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:F._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:F._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:F._('Progress bar', 'PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:F._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:he,backgroundColor:le,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:l||-1},loop:Q,onTimeChange:j,playing:C,onPlay:function(){},onPlayError:function(){},poster:ne||ue,src:null!=_e?_e:[],videoStartTime:l,volume:0,onEnded:ae})})}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=(0,a.Z)(A),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(s,e);var t,n,r,a=R(s);function s(){var e;I(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(z(e=a.call.apply(a,[this].concat(n))),"calculateCurrentVideoTime",(function(){var t=e.props,n=t.currentTimeFromPinRep,r=t.pin,o=t.videosAutoplaying,i=r.id,a=(0,l.Z)(i,o);return e.currentVideoCurrentTime||a||n})),M(z(e),"handleVisibilityChanged",(function(t){var n=e.props,r=n.currentTimeFromPinRep,a=n.pin,l=n.setCurrentVideo,s=n.pauseAutoplay,u=n.videosAutoplaying,d=a.id,p=a.is_promoted,f=(0,c.Z)(d,u),_=(0,o.Z)(d,u);if(t){if(p)l({pinId:d,isPromoted:p,currentTime:e.calculateCurrentVideoTime()});else if(_){var h=(0,i.Z)(),m=((null==h?void 0:h.experimentsClient.checkExperiment("hfp_web_video_autoplay_in_grid"))||{}).anyEnabled;l({pinId:d,isPromoted:Boolean(p),currentTime:e.calculateCurrentVideoTime(),inVideoGridAutoplayExp:m})}}else!t&&f&&s({pinId:d,isPromoted:Boolean(p),currentTime:r||e.currentVideoCurrentTime})})),M(z(e),"handleVideoTimeChange",(function(t){var n=e.props,r=n.pin,o=n.onTimeChange,i=n.videosAutoplaying,a=r.id;(0,c.Z)(a,i)&&(e.currentVideoCurrentTime=t.time),o&&o(t)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,r=n.appInFocus,o=n.currentTimeFromPinRep,i=n.pauseAutoplay,a=n.pin,l=n.setCurrentVideo,s=n.videosAutoplaying,u=a.id,d=a.is_promoted,p=(0,c.Z)(u,s);r!==t&&!r&&p?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:u,isPromoted:Boolean(d),currentTime:o||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&r&&(this.pausedDueToBrowserOutOfFocus=!1,l({pinId:u,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.currentTimeFromPinRep,n=e.pauseAutoplay,r=e.pin,o=e.videosAutoplaying,i=r.id,a=r.is_promoted;(0,c.Z)(i,o)&&n({pinId:i,isPromoted:Boolean(a),currentTime:t||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=e.cropHeight,n=e.isAutoplay,r=e.pin,o=e.surface,i=e.videosAutoplaying,a=e.viewParameter,s=e.viewType,u=e.highResOnly,d=e.lowResOnly,p=e.onError,f=e.onLoad,_=e.saved,h=e.inAdsDesktopVideoExperiment,y=e.isExperimentalPinRep,v=e.rootMargin,g=e.cropWidth,b=e.imageHeightModifier,P=r.id,w=(0,l.Z)(P,i),S=(0,c.Z)(P,i)&&n;return(0,m.jsx)(N,{cropHeight:t,rootMargin:v,currentTime:w,inAdsDesktopVideoExperiment:h,isAutoplay:n,viewParameter:a,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:r,surface:o,playing:S,trackFullVisible:!1,highResOnly:u,lowResOnly:d,onError:p,onLoad:f,saved:_,isExperimentalPinRep:y,cropWidth:g,imageHeightModifier:b})}}])&&C(t.prototype,n),r&&C(t,r),s}(r.Component);function F(e){var t=(0,s.I)(),n=t.appUI,r=n.appInFocus,o=n.isAutoplay,i=n.videosAutoplaying,a=t.pauseAutoplay,l=t.setCurrentVideo;return(0,m.jsx)(B,T(T({},e),{},{appInFocus:r,isAutoplay:o,pauseAutoplay:a,setCurrentVideo:l,videosAutoplaying:i}))}},779298:function(e,t,n){"use strict";n.d(t,{Z:function(){return ro}});var r=n(76911),o=n(506979),i=n(41233),a=n(605028),l=n(333155);function c(e){var t=e.isGroupBoard,n=e.pin,r=e.surface,o=n.carousel_data,i=n.grid_title,c=n.rich_summary,s=n.title,u=(0,a.Z)(n),d=u.isOwnPin,p=u.isPromoted;if(o){var f=o.carousel_slots,_=void 0===f?[]:f,h=o.index,m=void 0===h?0:h;if(_[m]&&_[m].title)return _[m].title.trim()}if(p){if(l.ZF.includes(r))return i||"";if(d&&!t&&!o&&"UserProfilePinGrid"!==r)return"";var y=c&&"mobile application"!==c.type_name&&c.display_name;return s||y||i||""}return i||""}var s=n(623568),u=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n(35495);function p(e,t){return((0,a.Z)(e).isProduct||"ShoppingGridShippedMetadataWithVisitButton"===t&&(0,d.bA)(e))&&(0,d.QY)(e)||""}var f=n(807592),_=n(4294),h=n(18857),m=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function y(e){var t,n=e.attributionOption,r=e.board,o=e.contentType,i=e.experimentsClient,l=e.feedbackData,s=e.feedbackType,u=e.hasCarouselData,d=e.isGroupBoard,y=e.isORBACProfileManager,v=e.isOwnBoard,g=e.pin,b=e.showImageOnly,P=e.showNativeReactions,w=e.showPromotedShoppingPrice,S=e.surface,x=e.viewer,O=e.variantData,A=(0,a.Z)(g),j=A.isPromoted,E=A.isSponsored,T=g.pin_note,I=function(e){var t=e.attributionOption,n=e.feedbackType,r=e.isGroupBoard,o=e.pin,i=e.showImageOnly,a=e.surface,l=o.is_downstream_promotion,c=o.native_creator,s=o.promoter,u=o.sponsorship,d=o.story_pin_data_id;if("promoted"===n||s&&!l||u)return"default";if("ConversationView"!==a&&m.includes(a))return"none";if(r)return"none";var p="default";return"SearchItem"===a&&d?p:(t&&("image-only"===t?p="image-only-credit":"hide"===t&&(p="none")),"followed"!==n||i?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===t?p:"TodayArticleFeed"===a&&"show"===t?"show-for-claimed-content":c?"default":"none":p)}({attributionOption:n,feedbackType:s,isGroupBoard:d,pin:g,showImageOnly:b,surface:S}),C=null!=O&&O.title?O.title:c({isGroupBoard:d,pin:g,surface:S}),D=b?"":C,R=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(S)&&!j&&!b&&Boolean(p(g,S)),k=["ShoppingGridShippedMetadataWithVisitButton"].includes(S),z="BaseBoardPinGrid"===S&&T?null===(t=T.text)||void 0===t?void 0:t.trim():null,L=j,M="shopping"===o;"AuthHomefeed"!==S||j||(P=!1);var N,B,F,Z,U=2;if(j?U=3:(R||"none"!==I)&&(U=M?2:1),M||w){var G,V,H=((null===(G=g.rich_summary)||void 0===G||null===(V=G.products)||void 0===V?void 0:V[0])||{}).offer_summary;N=H?H.standard_price:void 0,B=H?(0,f.Z)(H):void 0}if(O){var W=O.offerSummary;N=W?W.standard_price:void 0,B=W?W.price||W.max_price:void 0}if(M&&!j){var K,Y,X,q=(null===(K=g.rich_summary)||void 0===K?void 0:K.aggregate_rating)||{},J=q.rating_count,$=q.rating_value,Q=q.review_count;(J||Q)&&parseFloat($)&&(F={count:J||Q,rating:$}),Z=null===(Y=g.rich_metadata)||void 0===Y||null===(X=Y.products)||void 0===X?void 0:X[0].shipping_info}var ee=(0,h.rh)(g,x,i),te="CreatorProfileStoryPinGrid"===S||"CreatorProfileActivityPinGrid"===S,ne=!te,re=d&&!E;return{attributionType:I,board:r,contentType:o,feedbackData:l,feedbackType:s,pinNoteText:z,pinTitle:D,productCurrentPrice:B,productOriginalPrice:N,productRating:F,productShipping:Z,showCarouselEllipsis:u,showFavoriteButton:!y&&("BaseBoardPinGrid"===S&&v||Boolean((null==r?void 0:r.is_collaborative)&&(0,_.Z)({board:r,viewer:x})))&&!te,showGroupBoardAvatar:re,showNativeReactions:P,showOverflowMenu:L,showPinStats:ee,showSource:R,showTextContent:ne,showVisitSiteButton:k,showAttribution:!0,titleLines:U}}var v=n(27255),g=n(957161),b=n(121630),P=n(841478),w=n(53325);var S=["ShoppingCatalogsProductsMetadata"];var x=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],O=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var A=n(221263),j=n(319915),E=n(675725),T=n(687551),I=n(926275);var C=n(976071),D=n(411938),R=n(108529),k=n(463045),z=n(947599),L=n(717615),M=n(436395),N=n(512076),B=n(19121),F=n(908390),Z=n(898781),U=n(407043),G=n(515198);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],K={component:210,view_type:4,view_parameter:3106},Y={view_type:5,view_parameter:3069},X={component:13668,view_type:4,view_parameter:3106};function q(e){var t,n=e.pinId,r=e.surface,o=(0,U.v)().logContextEvent,i=(0,Z.ZP)(),a=function(){var e=W.includes(r)?X:"BaseBoardPinGrid"===r?Y:"UserProfilePinGrid"===r?K:{};o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_type:101,element:10573},e))},l=i._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,G.jsx)(F.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:W.includes(r)?(0,G.jsx)(F.zx,{role:"link",accessibilityLabel:i._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:"/pin/".concat(n,"/analytics"),onClick:a,size:"sm",text:(t=l,t.length>14?"".concat(t.substring(0,12).trim(),"..."):t)}):(0,G.jsx)(F.hU,{role:"link",accessibilityLabel:i._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:"/pin/".concat(n,"/analytics"),icon:"ads-stats",iconColor:"darkGray",onClick:a,size:"sm"})})}var J=n(681227),$=n(697247),Q=n(576440),ee=n(965900),te=n(773285),ne=n(578722),re=n(130460),oe=n(350118),ie=n(329734),ae=n(243943),le=n(99137),ce=n(698330),se=n(241244),ue=n(95551),de=n(699825),pe=n(768559),fe=n(89254);function _e(e,t){var n=e.carousel_data,r=e.domain,o=e.ad_destination_url,i=r||"";return o&&(i=(0,fe.Z)(o).hostname||""),n&&n.id&&(i=function(e,t){var n=t||e&&e.index||0,r=e&&e.carousel_slots||[],o=r[n]&&r[n].link||"";return o&&(0,fe.Z)(o).hostname||""}(n,t)),i.replace("www.","")}var he=n(287072),me=n(199387),ye=n(609500);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function xe(e){var t,n,o=e.pin,i=e.sourceLinkStyle,a=e.surface,l=e.url,c=(0,Z.ZP)(),s=Pe((0,r.useState)(!1),2),u=s[0],p=s[1],f=o.id,_=_e(o),h=(0,ye.useLocation)(),m=(0,d.Kl)(o)||{},y=(0,Q.E)().slotIndex,v=(0,pe.Z)({boardUrl:null===(t=o.board)||void 0===t?void 0:t.url,callToCreateSourcePinId:o.call_to_create_source_pin_id,location:h,pinId:o.id,pinnerUserName:null===(n=o.pinner)||void 0===n?void 0:n.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map}),g=(0,me.Z)(12,{object_id_str:f,clientTrackingParams:v,aux_data:ge({grid_index:y},(0,d.Kl)(o)||{})}),b=(0,me.Z)(101,{element:162,object_id_str:f,clientTrackingParams:v,aux_data:ge({},(0,d.Kl)(o)||{})}),P=(0,me.Z)(8948,{object_id_str:f,clientTrackingParams:v,aux_data:ge({click_type:"clickthrough",closeup_navigation_type:"click",grid_index:y},(0,d.Kl)(o)||{})}),w=function(){g(),b(),P()},S=(0,he.Z)({href:l,target:"blank",externalData:{auxData:m,pin:o,surface:a}});return"icon-only"===i?(0,G.jsx)(F.hU,{accessibilityLabel:c._('link', 'Website url link', 'Website url link'),bgColor:"white",href:l,icon:"arrow-up-right",iconColor:"darkGray",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),w(),S({event:t})},role:"link",rel:"nofollow",size:"sm"}):(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:ge(ge(ge({},Se.container),u?Se.containerHovered:Object.freeze({})),"truncated-text"===i?Se.containerTruncated:Object.freeze({}))},"data-test-id":"pinrep-source-link",onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},position:"relative",children:(0,G.jsx)(de.Z,{hovered:u,pin:o,slotIndex:y,viewType:1,children:(0,G.jsx)(F.iP,{fullWidth:!1,href:l,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),w(),S({event:t})},rel:"nofollow",role:"link",rounding:4,children:(0,G.jsxs)(F.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:Se.text},display:"flex",justifyContent:"between",children:[(0,G.jsx)(F.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,G.jsx)(F.JO,{accessibilityLabel:c._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,G.jsx)(F.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,G.jsx)(F.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:_})})]})})})})}var Oe=n(538232),Ae=n(50286),je=n(780280);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(41007),n.e(50192),n.e(58209),n.e(48035)]).then(n.bind(n,43819))})),ke=(0,r.lazy)((function(){return Promise.resolve().then(n.bind(n,955362))})),ze=(0,r.lazy)((function(){return n.e(5035).then(n.bind(n,351326))}));var Le=function(e){var t=e.pinId,n=(0,Oe.R)().onSendButtonClick,r=(0,me.Z)(101,{element:72,object_id_str:t});return(0,G.jsx)(ue.Z,{onSendButtonClick:n,trackShareTap:r,size:"sm",bgColor:"white"})},Me=(0,r.memo)((function(e){var t,n,o=e.actionBarEditBeforeShare,i=e.feedbackData,a=e.feedbackType,l=e.layout,c=e.onToggleFlyout,s=e.pin,u=e.pinTitle,d=e.setForcePrimary,p=e.showEditButton,f=e.showOverflowMenu,_=e.showShareButton,h=e.showSourceLinkButton,m=e.sourceLinkStyle,y=e.surface,v=(0,Z.ZP)(),g=(0,F.JZ)(),b=(0,je.B)().isRTL,P=!(0,Ae.HG)(),w=(0,Q.E)(),S=w.viewParameter,x=w.viewType,O=s.carousel_data,A=s.id,E=s.savedInfo,T=s.tracked_link,I=s.link,C=s.ad_destination_url,D=null!==(t=null!==(n=null!=C?C:T)&&void 0!==n?n:I)&&void 0!==t?t:"",R=(0,N.Z)(s).showLeadPinStdAlpha,k=Ce((0,r.useState)(p),2),L=k[0],M=k[1],B=Ce((0,r.useState)(p),2),U=B[0],V=B[1],H=Ce((0,r.useState)(p),2),W=H[0],K=H[1],Y=Te(Te({},b?{marginLeft:p&&f?-44:0}:{marginRight:p&&f?-44:0}),{},{transition:b?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"}),X={opacity:W?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},q=Te(Te({},b?{marginRight:U?4:0}:{marginLeft:U?4:0}),{},{transition:b?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"});(0,r.useEffect)((function(){var e;return p&&f?(V(!0),e=setTimeout((function(){requestAnimationFrame((function(){M(!0),requestAnimationFrame((function(){K(!0)}))}))}),800)):(V(p),M(p),requestAnimationFrame((function(){K(p)}))),function(){clearTimeout(e)}}),[p,f]);var J=null;if(h){var $="/pin/".concat(A);J=(0,G.jsx)(se.Z,{children:R?(0,G.jsx)(F.zx,{role:"link",accessibilityLabel:v._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),size:"sm",href:$,text:v._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,G.jsx)(xe,{pin:s,sourceLinkStyle:m,surface:y,url:D})})}var ee=_&&(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(F.xu,{"data-test-id":"send-share-link",children:(0,G.jsx)(se.Z,{children:P?(0,G.jsx)(Le,{pinId:s.id}):(0,G.jsx)(ze,{pin:s,setForcePrimary:d})})})})}),te=Boolean(null==E?void 0:E.localPinId)?null==E?void 0:E.localPinId:A,ne=L&&(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(F.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:g?void 0:{__style:X},children:(0,G.jsx)(se.Z,{children:(0,G.jsx)(Re,{carouselSlotCurrentIndex:O&&O.index,component:0,onToggleModal:c,pinId:te,style:{size:"sm"},view:x,viewParameter:S,useLegoStyles:!0})})})})});return"equally-spaced"===l?(0,G.jsxs)(F.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:J}),o?ne:ee,o?ee:ne]}):(0,G.jsxs)(F.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,G.jsx)(F.xu,{flex:"shrink",children:J}),(0,G.jsx)(F.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:g?void 0:{__style:Y},children:(0,G.jsxs)(F.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[o?ne:ee,o?ee:ne,f&&(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(F.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:g?void 0:{__style:q},children:(0,G.jsx)(se.Z,{children:(0,G.jsx)(ke,{feedbackData:i,feedbackType:a,pin:s,pinTitle:u,setForcePrimary:d})})})})})]})})]})})),Ne=n(834911),Be=n(447948);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e){var t=e.direction,n=e.swipeHandler,r=(0,Z.ZP)(),o={left:r._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:r._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,G.jsx)(F.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===t,right:"right"===t,children:(0,G.jsx)(F.iP,{fullHeight:!0,fullWidth:!0,onTap:n,children:(0,G.jsx)(F.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-".concat(t),children:(0,G.jsx)(F.JO,{accessibilityLabel:o[t],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[t]})})})})}var Ve=(0,o.connect)(null,(function(e){return{changeCarouselSlotIndex:function(t,n){return e((0,Be.yR)(t,n))}}}))((function(e){var t=e.pin,n=e.changeCarouselSlotIndex,r=(0,U.v)().logContextEvent,o=(0,Q.E)(),i=o.componentType,a=o.viewParameter,l=o.viewType,c=(0,Ne.Z)({carouselData:t.carousel_data,images:t.images,richMetadata:t.rich_metadata,richSummary:t.rich_summary});if(!c)return null;var s=t.id,u=void 0===s?"":s,p=c.carousel_slots,f=void 0===p?[]:p,_=c.index,h=void 0===_?0:_,m=c.id;function y(e){return function(){var o="left"===e?h-1:h+1;n(u,o),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;r({event_type:108,object_id_str:u,component:i,view_type:l,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:f[e]&&Number(f[e].id),carouselDataId:Number(m),carouselSlotIndex:e,toCarouselSlotIndex:n}},aux_data:Ze({},(0,d.Kl)(t)||{})})}(h,o)}}return(0,G.jsxs)(F.xu,{height:"100%",position:"relative",width:"100%",children:[h>0&&(0,G.jsx)(se.Z,{children:(0,G.jsx)(Ge,{direction:"left",swipeHandler:y("left")})}),h<f.length-1&&(0,G.jsx)(se.Z,{children:(0,G.jsx)(Ge,{direction:"right",swipeHandler:y("right")})})]})})),He=n(337986),We=n(116303);function Ke(e){var t=e.accessibilityLabel,n=e.attributionNameLink,r=e.avatarUrl,o=e.fullWidth,i=void 0===o||o,a=e.name,l=void 0===a?"":a,c=e.onClick,s=e.outline,u=void 0!==s&&s,d=e.size,p=void 0===d?32:d,f=e.shouldRenderAdsOnlyProfileClick,_=void 0!==f&&f,h=(0,G.jsx)(F.xu,{"data-test-id":"attribution-avatar",height:p,width:p,children:(0,G.jsx)(We.Z,{name:l,src:r,accessibilityLabel:"",outline:u})});return n?(0,G.jsx)(F.iP,{fullWidth:i,role:"link",href:n,rel:_?"nofollow":void 0,target:_?"blank":void 0,onTap:c,accessibilityLabel:t,children:h}):h}function Ye(e){var t=e.isHover,n=e.attributionNameLink,r=e.name,o=e.onClick,i=e.regularWeight,a=(0,te.F)().checkExperiment,l=!n&&a("web_disable_ads_blocker").anyEnabled;return(0,G.jsx)(F.xu,{children:(0,G.jsx)(F.xv,{underline:t,size:"200",lineClamp:1,weight:i?"normal":"bold",children:n?(0,G.jsx)(F.rU,{onClick:o,href:n,children:r}):l?(0,G.jsx)("span",{children:r}):r})})}function Xe(e){var t=e.isHover,n=e.link,r=e.onClick,o=e.title,i=e.weight;return o?(0,G.jsx)(F.xv,{inline:!0,underline:t,size:"200",weight:i,children:n?(0,G.jsx)(F.rU,{onClick:r,href:n,children:o}):o}):null}var qe=n(865607),Je=n(807532);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rt(e){var t=e.attributionNameLink,n=e.attributionTitle,o=e.avatarUrl,i=e.display,l=void 0===i?"default":i,c=e.isPromotedByPinCreator,s=e.pin,u=e.name,d=e.url,p=e.verifiedIdentity,f=e.isVerifiedMerchant,_=e.shouldRenderAdsOnlyProfileClick,h=(0,Je.f)(),m=tt((0,r.useState)(!1),2),y=m[0],v=m[1],g=s.id,b=s.sponsorship,P=s.story_pin_data_id,w=(0,a.Z)(s).isPromoted,S=(0,U.v)().logContextEvent,x=((b||{}).creator||{}).id,O=!!P,A=(0,me.Z)(101,{view_type:3,element:w?283:27,object_id_str:g,component:O?230:void 0,aux_data:Qe({},x?{creator_id:x,pin_id:g}:{})}),j=function(){h.setMostRecentPinId(g),A()},E=function(){v((function(e){return!e}))},T=d&&!t,I=T?"":u,C="overlay"===l,D=(0,G.jsxs)(F.xu,{alignItems:"center",display:C?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,G.jsx)(F.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:C?"flex":void 0,justifyContent:"center",children:(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:C?{__style:{marginTop:-45}}:void 0,children:(0,G.jsx)(Ke,{attributionNameLink:I?t:void 0,avatarUrl:o,name:I,onClick:function(){return j()},accessibilityLabel:I,size:C?64:32,outline:C})})}),(0,G.jsxs)(F.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:C?"flex":void 0,justifyContent:"center",marginTop:C?2:void 0,children:[(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,G.jsxs)(F.kC,{gap:{row:1,column:0},children:[(0,G.jsx)(Ye,{attributionNameLink:t,name:u,onClick:function(){return j()},regularWeight:!(w&&!b||c),isHover:y}),(0,G.jsx)(qe.Z,{size:"sm",hasVerifiedIdentity:p,isVerifiedMerchant:f})]})}),(0,G.jsx)(Xe,{isHover:y,title:n,weight:"normal"})]})]});return T?(0,G.jsx)(F.iP,{role:"link",onTap:function(e){var t=e.event;_&&S({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),t.stopPropagation(),j()},href:d,rel:_?"nofollow":void 0,target:_?"blank":void 0,onMouseEnter:E,onMouseLeave:E,children:D}):D}var ot=n(356725),it=n(333312),at=n(695014),lt=n(676464),ct=n(596493),st=n(422946),ut=n(956800),dt=n(852025);function pt(e){var t=e.board,n=e.favoriteCount,i=e.favorited,a=e.pinId,l=(0,U.v)().logContextEvent,c=(0,o.useDispatch)(),s=(0,Q.E)().slotIndex,u=(0,dt.s)(),d=u.currentFilter,p=u.eligibleFilters,f=u.refreshData,_=void 0===f?function(){}:f,h=u.sectionId,m=u.setShowExperienceTooltip,y=(0,r.useRef)(null),v=(0,B.Z)(),g=(0,A.Z)(v,t),b=d===ct.Ac&&(!n||1===n),P=(0,lt.E)(p,ct.Ac),w=function(e){l({event_type:101,component:0,element:e?12225:12226,object_id_str:a,view_type:5,view_parameter:g?3069:3070})};return(0,G.jsxs)(r.Fragment,{children:[(0,G.jsx)(F.xu,{ref:y,children:(0,G.jsx)(at.Z,{favorited:i,favoriteCount:n,onFavorite:function(){w(!0),P&&_(),m&&m(!0)},onUnfavorite:function(){w(!1),t&&b&&c((0,ut.EX)({feedId:h||t.id,feedType:h?st.DV.BOARD_SECTION_PINS:st.DV.BOARDFEED,itemIds:[a],itemType:"pin"}))},pinId:a,size:20})}),y&&!i&&!h&&0===s&&(0,G.jsx)(F.mh,{children:(0,G.jsx)(it.default,{anchor:y.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ft,_t=n(850115),ht=n.n(_t),mt=n(379507),yt=n.n(mt),vt=n(637956),gt=n.n(vt),bt=n(694379),Pt=n(909745),wt=n.n(Pt),St=n(128206),xt=n.n(St);function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var At={goodIdea:ht(),love:gt(),thanks:wt(),wow:xt(),haha:yt()},jt=(Ot(ft={},7,"goodIdea"),Ot(ft,1,"love"),Ot(ft,13,"thanks"),Ot(ft,11,"wow"),Ot(ft,5,"haha"),ft),Et=["CreatorProfileStoryPinGrid"];var Tt=function(e){var t=e.alignment,n=void 0===t?"start":t,r=e.pinId,o=e.pinner,i=e.reactionCounts,a=e.surface,l=(0,B.Z)(),c=i?(0,J.At)(i):null,s=i?(0,J.Ud)(i):0,u=Boolean(l.isAuth&&(null==o?void 0:o.id)===l.id),d=!!c&&c.length>0&&c.map((function(e,t){var n=At[jt[e]];return(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,G.jsx)(F.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(n,")"),backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),p=!!d&&(0,G.jsx)(F.iP,{role:"link",href:"/pin/".concat(r,"/"),children:(0,G.jsxs)(F.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:n,height:19,paddingY:3,children:[(0,G.jsx)(F.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,G.jsx)(F.xu,{paddingX:1,children:(0,G.jsx)(F.xv,{size:"200",children:(0,G.jsx)(bt.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),f=u&&Et.includes(a)&&(0,G.jsx)(F.xu,{height:24});return p||f},It=n(62700),Ct=n(862628);function Dt(e){var t=e.feedbackType,n=e.pin,r=(0,Z.ZP)(),o=n.pinner,i=n.source_interest,a=o||{},l=a.full_name,c=a.username,s=(i||{}).name,u="topic"===t,d=!u&&"followed"===t,p="/".concat(c,"/"),f=(0,Ct.Z)(s),_="/search/pins/?q=".concat(encodeURIComponent(f),"&rs=image_only_attribution"),h=u?_:p,m={topic:r._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:r._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:r._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:r._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[t];if(!m)return null;if(d||u){var y=0===m.indexOf("{"),v=u?s:l,g=y?m.slice(m.indexOf("}")+1):m.slice(0,m.indexOf("{"));return y?(0,G.jsxs)(F.xu,{children:[(0,G.jsx)(F.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,G.jsx)(F.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:v})}),(0,G.jsx)(F.xv,{inline:!0,size:"200",children:g})]}):(0,G.jsxs)(F.xu,{children:[(0,G.jsx)(F.xv,{inline:!0,size:"200",children:g}),(0,G.jsx)(F.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,G.jsx)(F.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:v})})]})}return(0,G.jsx)(F.xu,{children:(0,G.jsx)(It.Z,{pin:n,children:(0,G.jsx)(F.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:m})})})}var Rt=n(955362),kt=n(397066),zt=n(48714);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ht(e);if(t){var o=Ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(i,e);var t,n,r,o=Ut(i);function i(){var e;Bt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wt(Vt(e=o.call.apply(o,[this].concat(n))),"state",{spamCheck:null}),Wt(Vt(e),"mounted",!1),Wt(Vt(e),"handleSpammyDomainCheck",(function(){var t=e.props,n=t.location,r=t.pin,o=t.surface,i=t.url;i&&r&&(0,zt.$3)({location:n,pin:r,surface:o})&&(0,zt.iw)({isMounted:e.mounted,pin:r,location:n,spamCheckCallback:function(t){return e.setState({spamCheck:t})},href:i})})),Wt(Vt(e),"handleClick",(function(t){var n=e.props,r=n.auxData,o=n.location,i=n.onClick,a=n.pin,l=n.pinId,c=n.url,s=n.logContextEvent;(0,zt.gV)({isOffsiteUrl:!0,event:t})||(t.preventDefault(),i&&i(t),c&&(0,kt.h)({href:c,pinId:l,pin:a,location:o,auxData:r},s))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.handleSpammyDomainCheck()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.pin,r=e.url;return(0,G.jsx)("a",{"aria-label":(null==n?void 0:n.domain)||"",href:r,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:t})}}])&&Ft(t.prototype,n),r&&Ft(t,r),i}(r.Component);function Yt(e){var t,n=(0,U.v)().logContextEvent,r=(0,oe.S6)()(null!==(t=e.pinId)&&void 0!==t?t:"");return(0,G.jsx)(Kt,Nt(Nt({},e),{},{history:(0,ye.useHistory)(),location:(0,ye.useLocation)(),logContextEvent:n,match:(0,ye.useRouteMatch)(),pin:r}))}function Xt(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}var qt=n(941646),Jt=n(385740);function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){en(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tn(e){var t,n=e.children,r=e.componentType,o=e.contextLogData,i=e.pin,a=e.surface,l=e.viewParameter,c=e.viewType,s=(0,U.v)().logContextEvent,u=(0,Q.E)(),d=i.ad_destination_url,p=i.carousel_data,f=i.id,_=i.link,h=i.tracked_link,m=d||h||_||"",y="one-tap-desktop",v=(0,Jt.SU)();if(p){var g=p.carousel_slots,b=void 0===g?[]:g,P=p.id,w=p.index,S=void 0===w?0:w;b[S]&&b[S].link&&(m=b[S].link),t={carousel_slot_id:b[S]&&b[S].id,carousel_data_id:P,carousel_slot_index:S},y+="-carousel"}return(0,G.jsx)(F.xu,{"data-test-id":"otpp",children:(0,G.jsx)(qt.Z,{id:y,children:(0,G.jsx)(Yt,{auxData:t,onClick:function(){s({event_type:12,view_type:c||u.viewType,view_parameter:l||u.viewParameter,component:r||u.componentType,object_id_str:f,aux_data:Qt(Qt({},o),{},{grid_index:u.slotIndex,pin_id:f,prefetch_percentage_complete:Xt(_||"")})}),s({event_type:8948,view_type:c||u.viewType,view_parameter:l||u.viewParameter,component:r||u.componentType,object_id_str:f,aux_data:Qt(Qt({},o),{},{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:u.slotIndex,pin_id:f,prefetch_percentage_complete:Xt(_||"")})}),s({event_type:13,object_id_str:f,component:r||u.componentType,view_type:3,aux_data:Qt(Qt({closeup_navigation_type:"web_closeup"},u.contextLogData),o)}),s({event_type:13,view_type:v.viewType,view_parameter:v.viewParameter,view_data:v.viewData})},pinId:f,surface:a,url:m,children:n})})})}var nn=["surface"];function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ln(e){var t=e.surface,n=an(e,nn),r=(0,a.Z)(e.pin),o=r.isOneTap,i=r.isVideo,l=r.isPromoted,c=!r.isLeadPin&&(o||i&&l)?tn:It.Z;return(0,G.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({surface:o?t:void 0},n))}function cn(e){var t=e.pin,n=e.pinNoteText;return(0,G.jsx)(ln,{pin:t,children:(0,G.jsx)(F.xv,{lineClamp:1,overflow:"normal",size:"200",children:n})})}var sn=n(81226);function un(e){var t=e.value,n=e.valueFormat,r=(0,Z.ZP)();return t||0===t?"TIME"===n?(0,sn.Z)(t):(0,G.jsx)(bt.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:t}):(0,G.jsx)(F.u,{idealDirection:"up",text:r._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}var dn=n(539002);function pn(e){var t,n,r=e.pin,o=(0,Z.ZP)(),i=(0,B.Z)(),l=(0,a.Z)(r),c=l.isStoryPin,s=l.isVideo,u=i.isAuth&&(null===(t=r.pinner)||void 0===t?void 0:t.id)===i.id&&!r.is_repin,d=i.isAuth&&i.isPartner,p=(0,dn.Z)("pinStats"),f=!!d&&p(),_=(0,ne.iL)({isOwnPin:u,isPartner:d}),h=(0,ne.H1)({isOwnPin:u,isPartner:d}),m=r.created_at?new Date(r.created_at):null,y=(_||h)&&m&&m.getTime()<=ne.HW.getTime(),v=_?function(e){var t=e.public_creator_analytics;return(0,a.Z)(e).isStoryPin&&t?t:null}(r):function(e){var t=e.aggregated_pin_data,n=e.creator_analytics,r=(t||{}).creator_analytics,o=(0,a.Z)(e).isStoryPin;return!n||!o&&r?r:n}(r),g=function(e){var t=e.isVideo,n=e.isStoryPin,r=e.i18n,o=e.showPublicPinStats,i=e.showPrivateFullScreenPinStats;return e.showSCEMetrics&&!o?[{align:"start",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:r._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"},{align:"center",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:r._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:r._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]:n?o?[{align:"start",displayText:r._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:i?[{align:"start",displayText:r._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:r._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:r._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}({isVideo:s,isStoryPin:c,i18n:o,showPublicPinStats:_,showPrivateFullScreenPinStats:h,showSCEMetrics:f});return n=f?(null==v?void 0:v.all_time_realtime)||(null==v?void 0:v["30d_realtime"]):s||c?null==v?void 0:v.all_time_realtime:null==v?void 0:v["30d_realtime"],(0,G.jsx)(F.kC,{alignItems:"stretch",justifyContent:"start",children:g.map((function(e){var t,r=e.align,o=e.displayText,i=e.field,a=e.iconType,l=e.iconSize,c=void 0===l?12:l,s=e.valueFormat;return(0,G.jsxs)(F.xu,{alignItems:"center",column:4,display:"flex",justifyContent:r,children:[(0,G.jsx)(F.xu,{display:"inlineBlock",marginEnd:1,children:(0,G.jsx)(F.JO,{accessibilityLabel:o,color:"default",icon:a,size:c})}),(0,G.jsx)(F.xv,{inline:!0,size:"200",children:(0,G.jsx)(un,{value:"full_screen_play"===i&&y?null:null===(t=n)||void 0===t?void 0:t[i],valueFormat:s})})]},i)}))})}function fn(e){var t=e.currentPrice,n=e.disableLink,r=e.originalPrice,o=e.pin,i=e.surface,a=r&&r!==t,l=(0,G.jsxs)(F.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[t&&(0,G.jsx)(F.xv,{color:"default",size:"200",weight:"bold",children:t}),a&&(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,G.jsx)(F.xv,{color:"subtle",size:"200",weight:"bold",children:r})})]});return n?l:(0,G.jsx)(ln,{pin:o,surface:i,children:l})}function _n(e){var t=e.disableLink,n=e.pin,r=e.surface,o=(0,G.jsx)(F.kC,{alignItems:"stretch",justifyContent:"start",children:(0,G.jsx)(F.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:p(n,r)})});return t?o:(0,G.jsx)(ln,{pin:n,surface:r,children:o})}var hn=n(202870);function mn(e){var t=e.disableLink,n=e.numberOfLines,r=void 0===n?2:n,o=e.pin,i=e.pinTitle,a=e.surface,l=t?i:(0,G.jsx)(ln,{pin:o,surface:a,children:i});return(0,G.jsx)(F.xv,{color:"default",lineClamp:r,size:"200",weight:"bold",children:l})}var yn=n(327476),vn=n(225692),gn={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:"opacity ".concat(vn.X,"ms ease")},visible:{opacity:1}}};function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(e){var t,n,i,l,c=e.attributionType,s=e.board,u=e.feedbackData,d=e.feedbackType,p=e.hasTextContent,f=e.hasTitleOrSource,h=e.hoverTransitionState,m=e.pin,y=e.pinNoteText,v=e.pinTitle,g=e.productCurrentPrice,b=e.productOriginalPrice,P=e.setForcePrimary,w=e.showCarouselEllipsis,S=e.showFavoriteButton,x=e.showGroupBoardAvatar,O=e.showNativeReactions,A=e.showOverflowMenu,j=e.showPinStats,E=e.showSource,T=e.showTextContent,I=e.showAttribution,C=e.surface,D=e.titleLines,R=(0,Z.ZP)(),k=(0,B.Z)(),z=(0,o.useDispatch)(),L=m.favorited_by_me,M=m.favorite_user_count,N=m.id,U=m.pinner,V=m.reaction_counts,H=m.sponsorship,W=(m.story_pin_data||{}).has_affiliate_products,K=(0,te.F)().checkExperiment,Y=(0,yn.Z)(),X=function(e,t,n,r,o){var i,l,c,s,u,d,p,f,_,h,m,y,v,g=e.board,b=e.link_domain,P=void 0===b?{}:b,w=e.promoter,S=e.sponsorship,x=e.native_creator,O=(S||{}).sponsor,A=(0,a.Z)(e).isPromoted,j=(P||{}).official_user,E=A&&!!S&&(null==x?void 0:x.id)!==(null==w?void 0:w.id),T=e.pinner||{},I="",C="",D="",R="",k="",z="",L=!1,M=!1,N=!1;function B(e,t){return r&&!!e&&!!t}if(E)I=null!==(d=null!==(p=null==x?void 0:x.image_medium_url)&&void 0!==p?p:null==x?void 0:x.image_small_url)&&void 0!==d?d:"",C=B(null==x?void 0:x.is_ads_only_profile,null==x?void 0:x.ads_only_profile_site)?null!==(f=x.ads_only_profile_site)&&void 0!==f?f:"":"/".concat(null!==(_=null==x?void 0:x.username)&&void 0!==_?_:"","/"),D=null==w?void 0:w.full_name,R=null==x?void 0:x.full_name,z=B(null==x?void 0:x.is_ads_only_profile,null==x?void 0:x.ads_only_profile_site)?null!==(h=x.ads_only_profile_site)&&void 0!==h?h:"":"/".concat(null!==(m=null==x?void 0:x.username)&&void 0!==m?m:"","/"),k="/".concat(null!==(y=null==w?void 0:w.username)&&void 0!==y?y:"","/"),L=null==x||null===(v=x.verified_identity)||void 0===v?void 0:v.verified,M=null==x?void 0:x.is_verified_merchant,N=B(null==x?void 0:x.is_ads_only_profile,null==x?void 0:x.ads_only_profile_site);else if(A&&w)I=w.image_medium_url||w.image_small_url,D=w.full_name,R=n._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),o&&(R=o(R)),z=B(w.is_ads_only_profile,w.ads_only_profile_site)?w.ads_only_profile_site:"/".concat(w.username,"/"),N=B(w.is_ads_only_profile,w.ads_only_profile_site);else if(S&&null!=O&&O.username){var F,Z,U,G,V,H,W,K,Y;I=null!==(F=null!==(Z=null!==(U=null==x?void 0:x.image_large_url)&&void 0!==U?U:null==x?void 0:x.image_medium_url)&&void 0!==Z?Z:null==x?void 0:x.image_small_url)&&void 0!==F?F:"",C=B(null==x?void 0:x.is_ads_only_profile,null==x?void 0:x.ads_only_profile_site)?null!==(G=x.ads_only_profile_site)&&void 0!==G?G:"":"/".concat(null!==(V=null==x?void 0:x.username)&&void 0!==V?V:"","/"),D=O.full_name,R=null==x?void 0:x.full_name,z=B(null==x?void 0:x.is_ads_only_profile,null==x?void 0:x.ads_only_profile_site)?null!==(H=x.ads_only_profile_site)&&void 0!==H?H:"":"/".concat(null!==(W=null==x?void 0:x.username)&&void 0!==W?W:"","/"),k="/".concat(null!==(K=O.username)&&void 0!==K?K:"","/"),L=null==x||null===(Y=x.verified_identity)||void 0===Y?void 0:Y.verified,M=null==x?void 0:x.is_verified_merchant,N=B(null==x?void 0:x.is_ads_only_profile,null==x?void 0:x.ads_only_profile_site)}else if(x){var X,q,J,$;I=null!==(X=null!==(q=null!==(J=x.image_large_url)&&void 0!==J?J:x.image_medium_url)&&void 0!==q?q:x.image_small_url)&&void 0!==X?X:"",R=x.full_name,z=B(x.is_ads_only_profile,x.ads_only_profile_site)?x.ads_only_profile_site:"/".concat(x.username,"/"),L=null===($=x.verified_identity)||void 0===$?void 0:$.verified,M=x.is_verified_merchant,N=B(x.is_ads_only_profile,x.ads_only_profile_site)}else if("show-for-claimed-content"===t){var Q,ee,te,ne,re;null!=j&&j.is_primary_website_verified&&j.username&&(I=null!==(Q=null!==(ee=null!==(te=j.image_large_url)&&void 0!==te?te:j.image_medium_url)&&void 0!==ee?ee:j.image_small_url)&&void 0!==Q?Q:"",R=j.full_name,z=B(j.is_ads_only_profile,j.ads_only_profile_site)?j.ads_only_profile_site:"/".concat(null!==(ne=j.username)&&void 0!==ne?ne:"","/"),L=null===(re=j.verified_identity)||void 0===re?void 0:re.verified,M=j.is_verified_merchant,N=B(j.is_ads_only_profile,j.ads_only_profile_site))}else{var oe,ie,ae,le;I=null!==(oe=null!==(ie=null!==(ae=T.image_large_url)&&void 0!==ae?ae:T.image_medium_url)&&void 0!==ie?ie:T.image_small_url)&&void 0!==oe?oe:"",C="/".concat(T.username,"/"),R=T.full_name,z=g?g.url:"",L=null===(le=T.verified_identity)||void 0===le?void 0:le.verified,M=T.is_verified_merchant}return{avatarUrl:null!==(i=I)&&void 0!==i?i:"",attributionNameLink:null!==(l=C)&&void 0!==l?l:"",attributionTitle:null!==(c=D)&&void 0!==c?c:"",name:null!==(s=R)&&void 0!==s?s:"",sponsorUrl:k,url:null!==(u=z)&&void 0!==u?u:"",verifiedIdentity:!!L,isVerifiedMerchant:!!M,shouldRenderAdsOnlyProfileClick:!!N}}(m,c,R,K("web_ads_only_profiles_link_redirect").anyEnabled,Y),q=X.avatarUrl,J=X.attributionNameLink,$=X.attributionTitle,Q=X.name,ee=X.sponsorUrl,ne=X.url,re=X.verifiedIdentity,oe=X.isVerifiedMerchant,ie=X.shouldRenderAdsOnlyProfileClick,ae=!!m.promoter&&!m.is_downstream_promotion,le=ae&&(null===(t=m.native_creator)||void 0===t?void 0:t.id)===(null===(n=m.promoter)||void 0===n?void 0:n.id),ce=(0,me.Z)(101,{view_type:3,element:27,object_id_str:N,component:m.story_pin_data_id?230:void 0,aux_data:Pn({pin_id:N},null!=H&&null!==(i=H.creator)&&void 0!==i&&i.id&&null!==(l=H.sponsor)&&void 0!==l&&l.id?{creator_id:H.creator.id,sponsor_id:H.sponsor.id}:{})}),se=function e(t){return z(e(t))},ue=((null==H?void 0:H.sponsor)||{}).full_name,de="ConversationView"===C?{padding:"8px"}:gn.container;return(0,G.jsxs)(F.xu,{dangerouslySetInlineStyle:{__style:de},children:[w&&(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:f||x||"none"!==c?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,G.jsx)(ot.default,{pinId:N})}),j&&(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,G.jsx)(pn,{pin:m})}),(0,G.jsx)(F.kC,{alignItems:"stretch",justifyContent:"start",children:(0,G.jsxs)(F.xu,{flex:"grow",children:[(!!H||W&&!ae)&&!le&&(0,G.jsx)(F.xu,{marginBottom:1,children:(0,G.jsx)(F.xu,{flex:"grow",overflow:"hidden",children:(0,G.jsx)(hn.Z,{hasAffiliateProducts:W,href:ee||ne,isPromoted:ae,sponsorName:ue,sponsorshipStatus:null==H?void 0:H.status,onNavigateSponsorClick:function(){se(N),ce()},textWeight:"bold"})})}),(T&&p||S)&&(0,G.jsxs)(F.xu,{marginBottom:1,children:[(b||g)&&(0,G.jsx)(F.xu,{marginBottom:1,children:(0,G.jsx)(fn,{currentPrice:g,originalPrice:b,pin:m,surface:C})}),S?(0,G.jsxs)(F.kC,{alignItems:"start",children:[(0,G.jsx)(F.kC,{flex:"grow",children:(0,G.jsx)(mn,{numberOfLines:D,pin:m,pinTitle:v,surface:C})}),(0,G.jsx)(F.xu,{marginStart:3,children:(0,G.jsx)(pt,{board:s,favorited:!!L,favoriteCount:null!=s&&s.is_collaborative&&(0,_.Z)({board:s,viewer:k})?null!=M?M:0:void 0,pinId:N})})]}):(0,G.jsx)(mn,{numberOfLines:D,pin:m,pinTitle:v,surface:C}),E&&(0,G.jsx)(F.xu,{marginBottom:2,children:(0,G.jsx)(_n,{pin:m,surface:C})})]}),I&&(0,G.jsxs)(F.kC,{alignItems:"center",justifyContent:"start",children:[(0,G.jsx)(F.xu,{flex:"grow",children:function(){var e=(0,G.jsx)(rt,{attributionNameLink:J,attributionTitle:ae&&!H||le?$:"",avatarUrl:q,isPromotedByPinCreator:!!le,isVerifiedMerchant:oe,shouldRenderAdsOnlyProfileClick:ie,name:Q,pin:m,url:ne,verifiedIdentity:re});switch(c){case"none":return null;case"image-only-credit":return(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:gn.imageOnlyAttribution["active"===h?"visible":"hidden"]},children:(0,G.jsx)(Dt,{pin:m,feedbackType:d})});default:return Object.values(X).some((function(e){return Boolean(e)}))?e:null}}()}),A&&(0,G.jsx)(F.xu,{flex:"none",children:(0,G.jsx)(Rt.default,{feedbackData:u,feedbackType:d,pin:m,pinTitle:v,setForcePrimary:P,transparentBackground:!0})})]}),O&&!!V&&Object.keys(V).length>0&&(0,G.jsx)(F.xu,{marginTop:"ConversationView"===C?2:void 0,children:(0,G.jsx)(Tt,{pinId:N,pinner:U,reactionCounts:V,surface:C})}),y&&(0,G.jsx)(F.xu,{marginBottom:1,children:(0,G.jsx)(cn,{pin:m,pinNoteText:y})}),x&&!S&&(0,G.jsx)(F.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,G.jsxs)(r.Fragment,{children:[(0,G.jsx)(Ke,{attributionNameLink:J||ne,avatarUrl:q,fullWidth:!1,name:Q,accessibilityLabel:Q,shouldRenderAdsOnlyProfileClick:ie}),(0,G.jsx)(F.xu,{marginStart:2,flex:"grow",children:(0,G.jsx)(F.xv,{size:"200",children:Q})})]})})]})},"".concat(m.id,"-sponsor-name-link"))]})}var xn=n(149230);function On(){var e=(0,Z.ZP)();return(0,G.jsx)(F.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}var An=n(104389);function jn(){var e=(0,Z.ZP)();return(0,G.jsx)(F.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}var En=18;function Tn(e){var t,n,r,o=e.dimension,i=e.color,a=e.isSelected,l=e.img,c=e.selectVariant,s=(0,Z.ZP)(),u=(0,G.jsx)(F.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),c({dimensionName:o,variant:i})},onFocus:function(){c({dimensionName:o,variant:i})},children:(0,G.jsx)(F.xu,{"data-test-id":"primary-variant-preview-icon-".concat(i),height:En,width:En,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:a?"1px solid black":"1px solid #EFEFEF"}},children:(0,G.jsx)(F.xu,{height:14,width:14,position:"absolute",rounding:1,overflow:"hidden",children:(0,G.jsx)(F.xu,{"data-test-id":"".concat(i,"-variant-preview-wrapper"),dangerouslySetInlineStyle:{__style:{transform:"scale(".concat(10,",").concat(10,")")}},children:(0,G.jsx)(F.zd,{height:14,width:14,rounding:1,children:(0,G.jsx)(F.Ee,{alt:s._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(t=l.height)&&void 0!==t?t:1,naturalWidth:null!==(n=l.width)&&void 0!==n?n:1,src:null!==(r=l.url)&&void 0!==r?r:"",fit:"contain"})})})})})});return(0,G.jsx)(F.xu,{"data-test-id":"primary-variant-main-".concat(i),display:"inlineBlock",height:En,rounding:1,width:En,children:u})}function In(){var e=(0,U.v)().logContextEvent,t=(0,ae.Xx)(),n=t&&t.primaryVariants.filter((function(e){return e.image})).length>0;if((0,r.useEffect)((function(){e({event_type:120,component:14092})}),[n,e]),!t)return null;var o=t.primaryVariants,i=t.primaryDimName,a=o.slice(0,6).map((function(e){var n=e.value,r=e.value===t.selectedMap[i],o=e.image;return o?(0,G.jsx)(Tn,{dimension:i,color:n,isSelected:r,img:o,selectVariant:t.selectVariant},n):null})).filter(Boolean);if(o.length>6){var l=o.length-6;a.push((0,G.jsx)(F.xu,{"data-test-id":"plus-number",display:"flex",height:En,rounding:1,width:En,justifyContent:"center",children:(0,G.jsxs)(F.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:function(e){e.event.stopPropagation()},children:["+",l]})},6))}return(0,G.jsx)(F.kC,{justifyContent:"start",alignItems:"center",gap:3,children:a})}function Cn(e){var t,n=e.contentType,o=e.hasTextContent,i=e.pin,a=e.pinTitle,l=e.productCurrentPrice,c=e.productOriginalPrice,s=e.productRating,u=e.productShipping,p=e.showSource,f=e.showVisitSiteButton,_=e.surface,h=e.titleLines,m=(0,U.v)().logContextEvent,y=(0,Z.ZP)(),v=(0,te.F)().checkExperiment,g=v("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}),b=g.anyEnabled,P=g.group,w=(null===(t=i.rich_summary)||void 0===t?void 0:t.url)||i.link;"shopping"!==n||P.includes("pwt")||v("web_shopping_grid_metadata_ratings_shipping");var S=null;(0,ae.Xx)()&&(v("storefront_variant_pins").anyEnabled&&(S=(0,G.jsx)(In,{})));var x=(0,xn.Z)({url:w})?"nofollow":"none";return(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:gn.productContainer},height:"100%",children:(0,G.jsx)(F.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:o&&(0,G.jsxs)(r.Fragment,{children:[(0,G.jsx)(ln,{pin:i,surface:_,children:(0,G.jsxs)(F.kC,{direction:"column",gap:1,children:[(c||l)&&(0,G.jsx)(fn,{currentPrice:l,disableLink:!0,originalPrice:c,pin:i,surface:_}),(0,d.qN)(i)&&(0,G.jsx)(On,{}),(0,d.SP)(i)&&(0,G.jsx)(jn,{}),(0,G.jsx)(mn,{disableLink:!0,numberOfLines:h,pin:i,pinTitle:a,surface:_}),p&&(0,G.jsx)(_n,{disableLink:!0,pin:i,surface:_}),"shopping"===n&&b&&(s||Number.isFinite(null==u?void 0:u.free_shipping_value))&&(0,G.jsx)(An.Z,{count:null==s?void 0:s.count,countFormat:"number",isGridView:!0,ratingValue:null==s?void 0:s.rating,shippingInfo:u}),S]})}),f&&w?(0,G.jsx)(F.xu,{marginTop:2,children:(0,G.jsx)(F.zx,{role:"link",fullWidth:!0,href:w,rel:x,onClick:function(){m({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:y._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}var Dn=(0,r.memo)((function(e){var t=e.attributionType,n=e.blockClickEvents,r=e.board,o=e.contentType,i=e.feedbackData,a=e.feedbackType,l=e.hoverTransitionState,c=e.pin,s=e.pinNoteText,u=e.pinTitle,d=e.productCurrentPrice,p=e.productOriginalPrice,f=e.productRating,_=e.productShipping,h=e.setForcePrimary,m=e.showCarouselEllipsis,y=e.showFavoriteButton,v=e.showGroupBoardAvatar,g=e.showNativeReactions,b=e.showOverflowMenu,P=e.showPinStats,w=e.showSource,S=e.showTextContent,x=e.showVisitSiteButton,O=e.showAttribution,A=void 0===O||O,j=e.surface,E=e.titleLines,T=u||w,I="shopping"===o?(0,G.jsx)(Cn,{contentType:o,hasTextContent:!!T,pin:c,pinTitle:u,productCurrentPrice:d,productOriginalPrice:p,productRating:f,productShipping:_,showSource:w,showVisitSiteButton:x,surface:j,titleLines:E}):(0,G.jsx)(Sn,{attributionType:t,board:r,feedbackData:i,feedbackType:a,hasTextContent:!!T,hasTitleOrSource:!!T,hoverTransitionState:l,pin:c,pinNoteText:s,pinTitle:u,productCurrentPrice:d,productOriginalPrice:p,setForcePrimary:h,showCarouselEllipsis:m,showFavoriteButton:y,showGroupBoardAvatar:v,showNativeReactions:g,showOverflowMenu:b,showPinStats:P,showSource:w,showTextContent:S,showAttribution:A,surface:j,titleLines:E});return n?(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:I}):(0,G.jsx)(F.kC,{flex:"grow",children:(0,G.jsx)(se.Z,{fullWidth:!0,children:I})})})),Rn=n(685909),kn=n(784590),zn=n(990823);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn=(0,r.lazy)((function(){return n.e(34979).then(n.bind(n,91540))})),Fn=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(41007),n.e(50192),n.e(81165),n.e(43473)]).then(n.bind(n,666258))})),Zn=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(41007),n.e(50192),n.e(81165),n.e(22347)]).then(n.bind(n,494424))})),Un=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(67419),n.e(22538)]).then(n.bind(n,450564))})),Gn=(0,r.lazy)((function(){return n.e(1593).then(n.bind(n,331806))}));function Vn(e){var t=e.derivedSaveButtonOptions,n=e.forcePrimaryContent,i=e.showEnabledSaveBehavior,a=e.onToggleFlyout,l=e.onToggleModal,c=e.pin,s=(0,ae.Xx)(),u=function(e){return(0,kn.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==s?void 0:s.variantUrl),d=u&&u.data?u.data:c,p=d.id,f=d.savedInfo,_=(0,r.useRef)(!!f),h=(0,o.useSelector)((function(e){var t=e.experiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),m=(0,zn.tY)(i).saveBehaviorType;void 0!==m&&["classic","controlled","inline"].includes(t.type)&&(t=m);var y=(0,Q.E)(),v=y.viewParameter,g=y.viewType,b=(0,me.Z)(101,{element:0,object_id_str:p}),P=null,w={onToggleModal:a,view:g,viewParameter:v,useLegoStyles:!0};if(!t.hidePinBetterSaveDropdown&&(h||i&&["classic","controlled"].includes(t.type))&&["classic","controlled","inline"].includes(t.type)){var S=t.renderPinSaveTooltip,x=void 0===S?void 0:S;P=(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(se.Z,{children:(0,G.jsx)(Un,{experience:h||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:x,showEnabledSaveBehavior:i,viewParameter:v})})})})}else if("classic"===t.type||"controlled"===t.type){var O=t.renderPinSaveTooltip;P=(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(F.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,G.jsx)(se.Z,{children:(0,G.jsx)(Fn,{onClickCallback:b,onToggleModal:l,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:O,renderSavedStatus:function(){return!!f&&(0,G.jsx)(se.Z,{children:(0,G.jsx)(Rn.Z,{isNewlySaved:!_.current,name:f.title,type:f.type,url:f.url})})},variant:"lego",viewParameter:v})})})})})}else if("inline"===t.type){var A=d,E=t,T=E.initialSelection,I=E.onSave,C=E.renderPinSaveTooltip,D=E.hidePinBetterSaveDropdown;P=(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(F.xu,{"data-test-id":"better-save",children:(0,G.jsx)(se.Z,{children:(0,G.jsx)(Zn,{initialSelection:T,onSave:I,onToggleFlyout:a,onToggleModal:l,pin:A,renderPinSaveTooltip:C,renderSavedStatus:function(e){var t=e.savedInfo;return t&&(0,G.jsx)(se.Z,{children:(0,G.jsx)(Rn.Z,{isNewlySaved:!_.current,name:t.title,type:t.type,url:t.url,shouldUseLegoStyles:!0})})},variant:"pin",viewParameter:v,hideDropdown:D})})})})})}else"persistentOneClickSave"===t.type?P=(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(F.xu,{"data-test-id":"persistent-one-click-save",children:(0,G.jsx)(se.Z,{children:(0,G.jsx)(Bn,Mn(Mn({},w),{},{saveOptions:t,pin:d}))})})})}):"promote"===t.type&&(P=(0,G.jsx)(F.kC,{alignItems:"stretch",justifyContent:"end",children:(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(F.xu,{"data-test-id":"pin-promote-button",children:(0,G.jsx)(se.Z,{children:(0,G.jsx)(Gn,{pin:d})})})})})}));return(0,G.jsx)(j.Z,{name:"PinRepPrimaryContent",children:(0,G.jsx)(F.xu,{display:"flex",margin:3,children:P&&(0,G.jsx)(F.xu,{marginStart:"auto",flex:"grow",children:P})})})}var Hn=n(64446),Wn={marginTop:"1px"};function Kn(e){var t=e.cta,n=(0,Z.ZP)();return(0,G.jsx)(F.iP,{children:(0,G.jsx)(F.xu,{"data-test-id":"pinrep-chin",minHeight:32,color:"secondary",dangerouslySetInlineStyle:{__style:Wn},children:(0,G.jsxs)(F.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,G.jsx)(F.xv,{size:"200",weight:"bold",children:t||n._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,G.jsx)(F.JO,{icon:"arrow-forward",size:12,accessibilityLabel:n._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default"})]})})})}var Yn=n(40706),Xn=n(876371),qn=n(438908),Jn=n(453782),$n={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function Qn(e){var t=e.isSelected,n=(0,Z.ZP)();return(0,G.jsx)(F.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:t?$n:{},children:(0,G.jsx)(F.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,G.jsx)(F.xu,{alignItems:"center",color:t?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,G.jsx)(F.JO,{accessibilityLabel:n._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var er=n(124364),tr=n(802933),nr=n(674915),rr=n(944546),or=n(428258),ir=n(172071),ar={},lr=function(e){ir.Z.increment("web_prefetch_via_xhr.attempt",1);var t=(0,fe.Z)(e);return new Promise((function(n,r){if(window.navigator&&window.navigator.connection){var o=window.navigator.connection;o.saveData&&(ir.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(o.effectiveType)&&(ir.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200===i.status?(ar[e]&&(ar[e].loaded=!0),ir.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(i.response)):(ir.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),r())},ar[e]||(i.send(),ar[e]={added:!0,xhr:i},ir.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},cr={},sr=function(e,t){var n="string"==typeof e?e:e.url;if(t&&n){var r="control"===t?"v3.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",r)}return n};function ur(e,t){return(sr("https://v.pinimg.com/videos/mc/hls/",t)||"")+"".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6),"/").concat(e)}function dr(e){var t=e.id;t&&cr[t]&&cr[t].length>0&&cr[t].forEach((function(e){!function(e){ar[e]&&ar[e].xhr&&!ar[e].loaded&&(ir.Z.increment("web_prefetch_abort_xhr",1),ar[e].xhr.abort(),ar[e].aborted=!0)}(e)}))}function pr(e){var t=e.autoplaySettingOff,n=e.blockClickEvents,o=e.fallbackColor,i=e.imageFit,l=e.imageHeightModifier,c=e.isDenseView,s=e.isHovering,u=e.isSocialSeasonalBoard,d=void 0!==u&&u,p=e.onError,f=e.onLoad,_=e.pin,h=e.pinImageCrop,m=e.resolution,y=void 0===m?"default":m,v=e.rootMargin,g=e.selectionState,b=e.showCarousel,P=e.showPromotedVideos,w=e.showLeadPinStdBeta,S=e.showUnavailablePin,x=e.surface,O=(0,Q.E)(),A=O.contextLogData,j=O.slotIndex,E=O.viewParameter,T=O.viewType,I=(0,te.F)().checkExperiment,C=I("web_prefetch_video_in_feed").group,D=_.id,R=void 0===D?"":D,k=_.aggregated_pin_data,z=_.image_signature,L=_.story_pin_data,M=(k||{}).pin_tags_chips,N=(0,a.Z)(_),B=N.isOneTap,Z=N.isVideo,U=N.isPromoted,V=N.isGif,H=function(e){return"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width}}(h),W=H.cropHeight,K=H.cropWidth,Y=null;if(S)Y=(0,G.jsx)(er.Z,{isDenseView:c,height:c?250:420,rounding:0,width:c?164:236});else if(t||!Z||!P&&U||"BoardCoverSelectablePin"===x)if(b)Y=(0,G.jsx)(F.xu,{"data-test-id":"pinrep-carousel",children:(0,G.jsx)(Xn.Z,{cropHeight:W,cropWidth:K,onError:p,onLoad:f,highResOnly:"high-res"===y,lowResOnly:"low-res"===y,pinId:R,showCarouselBadge:!1,pin:_})});else{var X="backend"===h?function(e){var t,n=e.images,r=e.image_crop,o=n&&(null===(t=n["236x"])||void 0===t?void 0:t.height);if(r&&(0!==r.min_y||1!==r.max_y)){var i=r.min_y,a=void 0===i?0:i,l=r.max_y,c=void 0===l?0:l;return{marginTop:"".concat(a>0?-1*a*(null!=o?o:0):0,"px"),marginBottom:"".concat(c<1?Math.round(-1*(1-c)*(null!=o?o:0)):0,"px")}}return{}}(_):{};Y=(0,G.jsxs)(F.xu,{dangerouslySetInlineStyle:{__style:X},"data-test-id":"pinrep-image",minHeight:55,children:[(0,G.jsx)(qn.Z,{animateGif:V&&d,cropHeight:W,cropWidth:K,fallbackColor:o,imageFit:i,highResOnly:"high-res"===y,lowResOnly:"low-res"===y,mediumResOnly:"medium-res"===y,onLoad:f,onError:p,pin:_}),w&&(0,G.jsx)(Kn,{cta:_.call_to_action_text})]})}else Y=(0,G.jsxs)(F.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:W||void 0,justifyContent:"center",children:[(0,G.jsx)(Jn.Z,{cropHeight:W,cropWidth:K,highResOnly:"high-res"===y,imageHeightModifier:l,inAdsDesktopVideoExperiment:Z&&P,isExperimentalPinRep:!0,lowResOnly:"low-res"===y,onError:p,onLoad:f,pin:_,rootMargin:v,surface:x,viewParameter:E,viewType:T}),w&&(0,G.jsx)(Kn,{cta:_.call_to_action_text})]});var q=(0,G.jsx)(F.zd,{wash:!0,children:(0,G.jsx)(de.Z,{hovered:s,pin:_,slotIndex:j,viewType:1,children:Y})}),J=["selected-image-only","deselected-image-only"].includes(g),$="selected-image-only"===g,ee=(0,r.useRef)(!0),ne=(0,r.useRef)(!1),re=(0,r.useRef)(!1),oe=I("web_video_quic").group;if((0,r.useEffect)((function(){ee.current||!s||B||n||ne.current?s||!ne.current||re.current||(dr(L||_),re.current=!0):L?(!function(e,t){var n,r=e.id,o=e.pages,i=e.pages_preview;if(i||o){var a=i?i[0]:null==o?void 0:o[0],l=null==a||null===(n=a.blocks)||void 0===n?void 0:n.find((function(e){return 3===e.block_type}));if(l&&l.video){var c=(0,or.Z)(l.video)||{},s=c.hlsv3,u=c.mp4||s;if(u&&r){var d,p=null!==(d=sr(u,t))&&void 0!==d?d:"";cr[r]=cr[r]?cr[r].concat(p):[p],lr(p)}}}}(L,oe),ne.current=!0):(!function(e,t){var n=e.id,r=(e.videos||{}).video_list,o=(0,tr.Z)({pin:e}),i=((0,nr.Z)(o)||{}).video||{},a=i.hls,l=i.hlsv3;if(r){var c=(0,or.t)(r)||{},s=l||a||{};if(s.url){var u,d=null!==(u=sr(s.url,t))&&void 0!==u?u:"";cr[n]=cr[n]?cr[n].concat(d):[d],lr(d).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".m3u8")}))),r&&r[rr.VS]){var o=ur(r[rr.VS],t);return cr[n]=cr[n].concat(o),lr(null!=o?o:"")}return null})).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".ts")}))),r&&r[0]){var o=ur(r[0],t);return cr[n]=cr[n].concat(o),lr(null!=o?o:"")}return null}))}else if(c.url){var p,f=null!==(p=sr(c.url,t))&&void 0!==p?p:"";lr(f),cr[n]=cr[n]?cr[n].concat(f):[f]}}}(_,oe),ne.current=!0),ee.current=!1}),[n,s,B,L,_,C,oe]),n)return(0,G.jsxs)(r.Fragment,{children:[q,J&&(0,G.jsx)(Qn,{isSelected:$}),M&&(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,G.jsx)(Yn.Z,{pin:_,enableCloseupLink:!0})})]});var ie=A||{},ae=ie.commerce_data,le=ie.story_type,ce=ie.board_id,se=ie.board_pin_count,ue=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(x);return(0,G.jsxs)(ln,{contextLogData:{commerce_data:ue?ae:void 0,grid_index:j,image_signature:z,story_type:le,board_id:ce,board_pin_count:se},elementType:L?12372:35,pin:_,surface:x,children:[q,M&&(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,G.jsx)(Yn.Z,{pin:_,enableCloseupLink:!1})})]})}var fr=n(2396),_r=n(946984),hr=(0,fr.Z)((function(e){var t=e.handleSendShareFlyoutButtonClick,n=(0,Z.ZP)(),r=(0,_r.Z)();return(0,G.jsx)(F.zx,{fullWidth:!0,onClick:function(e){e.event.stopPropagation(),r?r():t()},text:n._('Send', 'Send a pin', 'Send a pin'),color:"gray",accessibilityLabel:n._('Send', 'Accessible label to send a pin', 'Accessible label to send a pin')})}));function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vr(e){return e<160?"header-only":"none"}function gr(e){var t,n,o,i=mr((0,r.useState)(e.current?vr(e.current.clientHeight||0):"none"),2),a=i[0],l=i[1];return t=e,n=function(e){var t=vr(e.height);t!==a&&l(t)},o=(0,r.useRef)(),(0,r.useEffect)((function(){var e=t.current;if(e){var r=o.current;r&&r.width===e.offsetWidth&&r.height===e.offsetHeight||(o.current={width:e.offsetWidth||0,height:e.offsetHeight||0},n&&n(o.current))}})),o.current,a}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xr=n(485308),Or=n(704115),Ar={impressed:{backgroundColor:"#adebad"}};function jr(e){var t=e.debugImpressionState,n=void 0===t?"paused":t,r=e.slotIndex;return"paused"===n?null:(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:Ar.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,G.jsx)(F.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,G.jsx)(F.xv,{color:"inverse",children:(0,G.jsx)("span",{className:"deprecatedTextSizeXL",children:r})})})})}var Er=n(43671),Tr=n(841509),Ir=n(525199),Cr=n(310227),Dr="#000000",Rr="#ffffff";function kr(e){var t=e.selected,n=void 0!==t&&t,r=(0,Z.ZP)(),o=(0,je.B)().isRTL;return(0,G.jsx)(F.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new F.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:n?Dr:Rr,borderRadius:Cr.Oc,boxShadow:n?"inset 0 0 0 3px #fff":void 0}},children:n?(0,G.jsx)(F.xu,{position:"absolute",bottom:!0,right:!o,left:o,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"dark",children:(0,G.jsx)(F.JO,{accessibilityLabel:r._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,G.jsx)(F.xu,{right:!o,left:o,position:"absolute",top:!0,margin:3,children:(0,G.jsx)(F.JO,{accessibilityLabel:r._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:24})})})}var zr={wrapper:{borderRadius:Cr.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Cr.Dv.VISUAL},savedOverlay:{backgroundColor:Cr.Dv.SAVED},legoWashOverlay:{backgroundColor:Cr.Dv.LEGO_WASH}};function Lr(e){var t=e.children,n=e.savedOverlayVisibility,r=void 0===n?"none":n,o=e.visualOverlayVisibility,i=void 0===o?"none":o,a=e.handleMouseOverPinContent,l=e.handleMouseLeavePinContent,c=e.primaryContent,s=e.primaryContentVisibility,u=void 0===s?"none":s,d=e.secondaryContent,p=e.secondaryContentVisibility,f=void 0===p?"none":p,_=e.accessoryContent,h=e.accessoryContentVisibility,m=void 0===h?"none":h,y=e.actionBar,v=e.actionBarVisibility,g=void 0===v?"none":v,b=e.seeStatsButton,P=e.footer,w=e.selectionState,S=void 0===w?"no-selection":w,x=e.debugContent,O=e.signalDebuggerContent,A=e.signalDebuggerV2Content,j=e.signalDebuggerV2ContentVisibility,E=void 0===j?"none":j,T=e.obscuredPinOverlay,I=e.showNoPinBorderRadius,C=e.showPromotedPinBorderTreatment,D=e.showLeadPinStdBeta,R=e.shouldUseLegoWash;return(0,G.jsx)(F.xu,{dangerouslySetInlineStyle:{__style:C?zr.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,G.jsxs)(F.xu,{dangerouslySetInlineStyle:{__style:I?{}:zr.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(S)&&(0,G.jsx)(kr,{selected:"selected"===S}),(0,G.jsxs)(F.xu,{"aria-hidden":Boolean(T),children:[(0,G.jsxs)(F.xu,{dangerouslySetInlineStyle:{__style:I?{}:zr.wrapper},overflow:"hidden",position:"relative",onFocus:a,onBlur:l,onMouseEnter:a,onMouseLeave:l,children:[t,(0,G.jsx)(Ir.Z,{visibility:i,children:(0,G.jsx)(Tr.Z,{additionalStyles:R?zr.legoWashOverlay:zr.visualOverlay})}),(0,G.jsx)(Ir.Z,{visibility:r,children:(0,G.jsx)(Tr.Z,{additionalStyles:R?zr.legoWashOverlay:zr.savedOverlay})}),_&&(0,G.jsx)(Ir.Z,{visibility:m,children:(0,G.jsx)(Tr.Z,{children:_})}),d&&(0,G.jsx)(Ir.Z,{visibility:f,children:(0,G.jsx)(Tr.Z,{children:d})}),c&&(0,G.jsx)(Ir.Z,{visibility:u,children:(0,G.jsx)(Tr.Z,{children:c})}),A&&(0,G.jsx)(Ir.Z,{visibility:E,children:(0,G.jsx)(Tr.Z,{children:(0,G.jsx)(F.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:A})})}),y&&(0,G.jsx)(Ir.Z,{visibility:g,children:(0,G.jsx)(Tr.Z,{children:(0,G.jsx)(F.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:D?8:0,children:y})})}),b&&(0,G.jsx)(Tr.Z,{children:(0,G.jsx)(F.xu,{position:"absolute",bottom:!0,children:b})}),x&&(0,G.jsx)(Tr.Z,{children:x}),O]}),P]}),T&&(0,G.jsx)(F.xu,{children:T})]})})}function Mr(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Nr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("visible")?"visible":t.includes("hidden")?"hidden":"none"}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){Zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vr=(0,r.memo)((function(e){var t,n,o=e.actionBarProps,i=e.blockClickEvents,a=e.borderStyle,c=e.currentlyPlayingVideo,s=e.disableHover,u=void 0!==s&&s,d=e.footerProps,p=e.impressionsDebuggerProps,f=e.obscuredPinOverlayProps,_=e.onError,h=e.onLoad,m=e.pin,y=e.pinVisualProps,v=e.presentationProps,g=e.primaryContentProps,b=e.rounding,P=e.secondaryContentProps,w=e.authDesktopSelectionState,S=e.showFooter,x=e.showImpressionsDebugger,O=e.showObscuredPinOverlay,A=e.showSeeStatsButton,E=e.showSignalDebugger,T=e.showUnavailablePin,I=e.surface,C=e.visibilityOverrides,D=e.imageHeightModifier,k=m.savedInfo,z=(0,Q.E)().viewType,L=(0,zn.Yh)(l.ZF.includes(I)||(0,R.Z)(I)).showEnabledSaveBehavior,M=Ur((0,r.useState)(!1),2),N=M[0],B=M[1],Z=(0,vn.Z)(N),U=function(){var e=wr((0,r.useState)(!1),2),t=e[0],n=e[1];return{isHovering:t,hoverTransitionState:(0,vn.Z)(t,0,vn.X),handleMouseOver:(0,r.useCallback)((function(){return n(!0)}),[n]),handleMouseLeave:(0,r.useCallback)((function(){return n(!1)}),[n])}}(),V=U.isHovering,H=U.hoverTransitionState,W=U.handleMouseOver,K=U.handleMouseLeave;u&&(V=!1,H="inactive");var Y,X=(0,vn.Z)(!!k),J=Mr(X),$=Mr(H),ee=Mr(H),te=Mr(Z),ne=Mr(X),re=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(I),oe="visible"!==J||re?J:"none",ie={primaryContentVisibility:null!==(t=C.primaryContent)&&void 0!==t?t:Nr(ee,te,"visible"===ne?"none":ne),secondaryContentVisibility:(Y=Nr(ee,te,ne),"none"===Y?"visible":"visible"===Y?"none":"hidden"),actionBarVisibility:Nr(ee,te),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},ae=function(e){return B(e)},le=null;"none"!==ie.primaryContentVisibility&&(le=(0,G.jsx)(Vn,Fr({forcePrimaryContent:function(e){return B(e)},showEnabledSaveBehavior:L,onToggleFlyout:ae,onToggleModal:function(e){B(e),e||K()},pin:m},g)));var ce,ue=(0,r.useRef)(!0),de=ue.current;ue.current=!1;var pe=function(e,t){var n=e.carousel_data,o=(n||{}).index,i=br((0,r.useState)(!n||t),2),a=i[0],l=i[1],c=(0,r.useRef)(o),s=(0,r.useRef)(null);if(n){var u=c.current;c.current=o,(o!==u||t)&&(s.current&&clearTimeout(s.current),l(!0),s.current=setTimeout((function(){l(!1),s.current=null}),4e3))}return(0,r.useEffect)((function(){return function(){s.current&&clearTimeout(s.current)}}),[]),a}(m,de),fe=Mr((0,vn.Z)(pe));ie.secondaryContentVisibility=null!==(n=C.secondaryContent)&&void 0!==n?n:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("none")?"none":t.includes("hidden")?"hidden":"visible"}(ie.secondaryContentVisibility,fe),ce=(P.allowShoppingPriceIndicator||P.shoppingLabelColor||"none"!==ie.secondaryContentVisibility)&&!c&&(0,G.jsx)(F.xu,{margin:2,children:(0,G.jsx)(Hn.Z,Fr({pin:m},P))});var _e=null;"visible"===C.accessoryContent&&(_e=(0,G.jsx)(Ve,{pin:m}),ie.accessoryContentVisibility=Mr(H));var he=Fr({},o);y.isSocialSeasonalBoard&&(he=Fr(Fr({},he),{},{showShareButton:!1}));var me=null;A&&(he=Fr(Fr({},he),{},{showSourceLinkButton:!1}),me=(0,G.jsx)(se.Z,{children:(0,G.jsx)(q,{pinId:m.id,surface:I})})),y.showLeadPinStdBeta&&(he=Fr(Fr({},he),{},{showSourceLinkButton:!1}));var ye="visible"===C.actionBar?(0,G.jsx)(Me,Fr({onToggleFlyout:ae,pin:m,setForcePrimary:B,surface:I},he)):null,ve=null;(S||(0,R.Z)(I))&&(ve=(0,G.jsx)(Dn,Fr({blockClickEvents:i,hoverTransitionState:"image-only-credit"===d.attributionType?H:null,pin:m,setForcePrimary:B,surface:I},d))),y.isSocialSeasonalBoard&&(ve=(0,G.jsx)(F.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,G.jsx)(F.xu,{margin:"auto",width:xr.J,children:(0,G.jsx)(hr,{isFlyoutOpen:N,onFlyoutDismiss:function(){return ae(!N)},onToggleFlyout:function(){return ae(!N)},pinId:m.id,sendType:"pin",shownWithinMasonry:!0,viewType:z,element:72,component:13752})})}));var ge=x&&(0,G.jsx)(jr,Fr({},p)),be=E&&m.debug_info_html&&(0,G.jsx)(F.xu,{paddingY:1,children:(0,G.jsx)("pre",{children:m.debug_info_html})}),Pe=(0,G.jsx)(He.Z,{pin:m}),we=(0,r.useRef)();"header-only"===gr(we)&&(ie.actionBarVisibility="none",ie.accessoryContentVisibility="none");var Se=O?(0,G.jsx)(Er.ZP,Fr({pin:m},f)):null,xe="ShoppingGridShippedMetadataWithVisitButton"===I?{height:"100%"}:{},Oe=S&&"default"===d.attributionType&&l.ZF.includes(I),Ae=!m.is_promoted&&!u&&Oe;return(0,G.jsx)(j.Z,{name:"PinRepContainer",children:(0,G.jsx)(F.xu,{"data-test-id":"pin","data-test-pin-id":m.id,onFocus:W,onBlur:K,onMouseEnter:W,onMouseLeave:K,dangerouslySetInlineStyle:{__style:xe},rounding:"ConversationView"===I?b:void 0,borderStyle:"ConversationView"===I?a:"none",overflow:"ConversationView"===I?"hidden":"visible",children:(0,G.jsx)(Lr,Fr(Fr({visualOverlayVisibility:$,savedOverlayVisibility:oe,handleMouseOverPinContent:Ae?W:function(){},handleMouseLeavePinContent:Ae?K:function(){},primaryContent:le,primaryContentVisibility:ie.primaryContentVisibility,secondaryContent:ce,secondaryContentVisibility:ie.secondaryContentVisibility,accessoryContent:_e,accessoryContentVisibility:ie.accessoryContentVisibility,actionBar:ye,actionBarVisibility:ie.actionBarVisibility,seeStatsButton:me,footer:ve,selectionState:w,debugContent:ge,signalDebuggerV2Content:Pe,signalDebuggerV2ContentVisibility:ie.signalDebuggerV2ContentVisibility,signalDebuggerContent:be,obscuredPinOverlay:Se},v),{},{children:(0,G.jsx)(F.xu,{height:"100%",ref:we,children:(0,G.jsx)(pr,Fr({blockClickEvents:i,showUnavailablePin:T,isHovering:V,onError:_,onLoad:h,pin:m,surface:I,selectionState:w,imageHeightModifier:D},y))})}))})})})),Hr=n(231947),Wr=n(53987),Kr=["attributionOption","blockClickEvents","debugImpressionState","disableReaction","feedback","imageOnlyOption","pin","pinId","pinImageCrop","pinImageFit","resolution","saveButtonOptions","authDesktopSurface","trackingParameters"];function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qr,eo=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(67419),n.e(92982)]).then(n.bind(n,576070))})),to=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],no=["BaseBoardPinGrid","UserProfilePinGrid"].concat(function(e){if(Array.isArray(e))return $r(e)}(Qr=W)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Qr)||function(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}(Qr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function ro(e){var t,n,d,p,f,_,m,F,Z=e.attributionOption,U=e.blockClickEvents,V=e.debugImpressionState,H=e.disableReaction,W=e.feedback,K=e.imageOnlyOption,Y=void 0===K?"default":K,X=e.pin,q=e.pinId,se=e.pinImageCrop,ue=e.pinImageFit,de=e.resolution,pe=void 0===de?"default":de,fe=e.saveButtonOptions,_e=e.authDesktopSurface,he=e.trackingParameters,me=Jr(e,Kr),ve=(0,oe.S6)()(q)||X,ge=null!==(t=null===(n=ve.board)||void 0===n?void 0:n.id)&&void 0!==t?t:"",be=(0,re.gC)()(ge)||ve.board;ve.grid_title=ve.grid_title||X.grid_title;var Pe=(0,te.F)(),we=Pe.checkExperiment,Se=be||{},xe=Se.collaborated_by_me,Oe=Se.collaborator_count,Ae=Se.is_collaborative,je=ve.is_quick_promotable,Ee=ve.pinner,Te=ve.showFeedback,Ie=ve.sponsorship,Ce=(0,a.Z)(ve).isPromoted,De=(0,C.Z)(ve),Re=(0,B.Z)(),ke=(0,L.Z)(),ze=we("web_m10n_business_access_orbac_www").anyEnabled,Le=we("web_m10n_business_access_orbac_ga").anyEnabled,Me=Le?(0,Hr.lJ)(Re,ke):"",Ne=(0,ye.useLocation)(),Be=he.slotIndex,Fe=he.viewParameter,Ze=["AuthHomefeed","BaseBoardPinGrid"].includes(_e)&&we("web_repin_flow").anyEnabled,Ue=(0,le.x)(),Ge=(0,ie.P)(),Ve=(0,ee.I)().appUI.videosAutoplaying,He=(0,k.Z)(ve.id,Ve),We=(0,o.useSelector)((function(e){return e.changeBoardFromToast}))||{},Ke=function(e){var t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(ve),Ye=(0,T.Z)(ve),Xe=Re.isAuth&&Re.isEmployee,qe=Re.isAuth&&((0,I.Z)(Re.createdAt)||(0,D.Z)(null,Re))&&!Re.isPartner,Je=qe;"TodayArticleFeed"===_e&&(Je=!1),"default"!==Y&&(Je="image-only"===Y),(0,R.Z)(_e)&&(Je=!1),"ShoppingSquareGridDomainNoMetadata"===_e&&(Je=!0);var $e=Z;(qe&&!$e||Ge)&&($e="image-only");var Qe=(0,E.Z)({feedbackType:null==W?void 0:W.type,pin:ve,viewParameter:Fe}),et=(W||{}).data,tt="number"==typeof Oe&&Oe>0||Ae,nt=!1;"OtherProfilePinGrid"===_e?nt=!0:"BaseBoardPinGrid"===_e?nt="dense"===(null==Ue?void 0:Ue.boardPinDensity):"UserProfilePinGrid"===_e&&(nt="dense"===(null==Ue?void 0:Ue.profilePinDensity));var rt=Boolean(tt&&"BaseBoardPinGrid"===_e),ot=(0,M.Z)(),it=(0,ce.kW)(),at=it&&it[null!==(d=null===(p=ot.data)||void 0===p?void 0:p.id)&&void 0!==d?d:""]?it[null!==(f=null===(_=ot.data)||void 0===_?void 0:_.id)&&void 0!==f?f:""]:ot.data,lt=(0,A.Z)(Re,be),ct=!1;if(!!(0,ye.matchPath)(Ne.pathname,{path:"/:username/_created/",exact:!0}))ct=(0,Hr.q6)(Re,null==at?void 0:at.id,ke);else if((0,Wr.am)(Ne)||(0,Wr.OJ)(Ne)){var st=be&&be.owner&&be.owner.id||"";ct=(0,Hr.q6)(Re,st,ke)}var ut,dt=Boolean(Re.isAuth&&Ee&&Ee.id===Re.id),pt=Boolean(xe||tt&&lt),ft=Re.isAuth&&Re.isPartner,_t=!(null===(m=ve.story_pin_data)||void 0===m||!m.is_deleted),ht=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDeletedStoryPin,r=e.surface,o={primaryContent:null,secondaryContent:null,actionBar:O.includes(r)||n?"none":"visible",accessoryContent:t?"visible":"none"};return n||x.includes(r)?(o.primaryContent="none",o.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(r)&&(o.primaryContent="visible"),o}({hasCarouselData:Ye,isDeletedStoryPin:_t,surface:_e})}),[Ye,_t,_e]),mt=(0,r.useMemo)((function(){return function(e){var t=e.board,n=e.isDenseView,r=e.isGroupBoard,o=e.isInlineBetterSave,i=e.isOwnBoard,a=e.isORBACProfileManager,c=e.isQuickPromotable,s=e.isRemovable,u=e.saveButtonOptions,d=e.surface,p=e.viewer,f=e.viewerIsCollaborator,_=p.isAuth?p.boardCount:void 0,h=u||function(){return 0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)?{type:"classic"}:{type:"inline"}}(_);c?h={type:"promote"}:(f||i||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?h={type:"classic"}:(f||i)&&["BaseBoardPinGrid"].includes(d)&&null!=t&&t.name&&t.url&&t.id&&(h={type:"inline",initialSelection:{title:t.name,boardId:t.id,url:t.url}});return o&&(h={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(s||S.includes(d)||a)&&(h={type:"none"}),{board:t,derivedSaveButtonOptions:h,showLikeButton:f&&r&&l.UP.includes(d),supportsReactionBar:!n}}({board:be,isInlineBetterSave:Ze,isDenseView:nt,isGroupBoard:rt,isOwnBoard:lt,isOwnPin:dt,isORBACProfileManager:ct,isQuickPromotable:je,isRemovable:De,saveButtonOptions:fe,surface:_e,viewer:Re,viewerIsCollaborator:pt})}),[be,Ze,nt,rt,lt,dt,ct,je,De,fe,_e,Re,pt]),yt=we("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}).anyEnabled;[].concat(["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"]).includes(_e)&&!Ce&&(ut="white");var vt=(0,r.useMemo)((function(){return function(e){var t=e.allowProductCarousel,n=void 0!==t&&t,r=e.shoppingLabelColor,o=e.surface;return{allowProductCarousel:n,allowShoppingPriceIndicator:l.Wv.includes(o),shoppingLabelColor:r}}({allowProductCarousel:Ke,shoppingLabelColor:ut,surface:_e})}),[Ke,ut,_e]),gt=(0,r.useMemo)((function(){return function(e){var t,n=e.board,r=e.feedbackData,o=e.feedbackType,l=e.isDenseView,d=e.isGroupBoard,p=e.isOwnBoard,f=e.isORBACProfileManager,_=e.isORBACBeta,h=e.isORBACGA,m=e.pin,y=e.isRemovable,v=e.surface,g=e.viewer,b=(0,a.Z)(m),P=b.isOwnPin,w=b.isPromoted,S=c({isGroupBoard:d,pin:m,surface:v}),x=n&&(0,i.Z)({action:4,board:n,viewer:g})||P,O=m.savedInfo&&m.savedInfo.localPinId,A=Boolean(p&&!d||"UserProfilePinGrid"===v&&x||O),j=Boolean(d&&x||A||f&&(!(0,s.hy)(m.story_pin_data_id)||_)),E=Boolean((null==n?void 0:n.is_collaborative)||A),T=!(w||p||d||u.includes(v)||f),I=function(e){var t=e.surface,n=e.isORBACProfileManager,r=e.isORBACGA,o=e.isRemovable;return"CloseupRelatedProducts"!==t&&!o&&(!n||null==r||r)}({surface:v,isORBACProfileManager:f,isORBACGA:h,isRemovable:y}),C=m.tracked_link,D=m.link,R=!(null===(t=null!=C?C:D)||void 0===t||!t),k=d&&l?"equally-spaced":"default",z="default";return l&&(z=d?"icon-only":"truncated-text"),l&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(v)&&(z="icon-only",k="equally-spaced"),{actionBarEditBeforeShare:E,feedbackData:r,feedbackType:o,layout:k,pinTitle:S,showEditButton:j,showOverflowMenu:T,showShareButton:I,showSourceLinkButton:R,sourceLinkStyle:z}}({board:be,feedbackData:et,feedbackType:Qe,isDenseView:nt,isGroupBoard:rt,isOwnBoard:lt,isORBACProfileManager:ct,isORBACBeta:ze,isORBACGA:Le,isRemovable:De,pin:ve,surface:_e,viewer:Re})}),[be,et,Qe,nt,rt,lt,ct,ze,Le,De,ve,_e,Re]),bt=!1;ve.story_pin_data&&!Re.isPartner&&(bt=we("web_auth_remove_pinner_pinstats").anyEnabled);var Pt=!bt&&(0,h.rh)(ve,Re,Pe,Me)&&no.includes(_e)&&(dt||Le&&ct),wt=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(_e),St=!Ce&&wt?"shopping":"standard",xt=(H||"CreatorProfileStoryPinGrid"!==_e||dt)&&(0,J.J6)(ve,_t),Ot=(0,ae.Xx)();xt=!Ge&&xt;var At=(0,r.useMemo)((function(){return y({attributionOption:$e,board:be,contentType:St,experimentsClient:Pe,feedbackData:et,feedbackType:Qe,hasCarouselData:Ye,isGroupBoard:rt,isORBACProfileManager:ct,isOwnBoard:lt,pin:ve,showImageOnly:Je,showNativeReactions:xt,showPromotedShoppingPrice:yt&&Ce&&wt,surface:_e,viewer:Re,variantData:Ot})}),[$e,be,St,Pe,et,Qe,Ye,rt,ct,lt,Ce,wt,ve,yt,Je,xt,_e,Re,Ot]),jt=!!ve.story_pin_data_id,Et=ve.created_at?new Date(ve.created_at):null,Tt=(0,ne.pN)({isOwnPin:dt,isStoryPin:jt,pinCreationDate:Et,surface:_e});bt&&(At.showPinStats=!1);var It=Boolean(At.pinTitle||At.contentType||At.userNote||At.showSource||"none"!==At.attributionType||At.showNativeReactions||At.productCurrentPrice||At.productOriginalPrice||At.showPinStats)||rt;"BaseBoardPinGrid"===_e&&lt&&ft||Ie?It=!0:to.includes(_e)||nt&&(lt||xe)?It=!1:dt||"CreatorProfileStoryPinGrid"!==_e&&"CreatorProfileActivityPinGrid"!==_e||(It=!1),!Ge||Ce||Ie||(It=!1);var Ct=Boolean(Te),Dt=(0,N.Z)(ve).showLeadPinStdBeta,Rt={showNoPinBorderRadius:"TopicBestPinNarrow"===_e||"TopicBestPinWide"===_e||"ConversationView"===_e,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===_e&&Ce,shouldUseLegoWash:!0,showLeadPinStdBeta:Dt},kt={feedbackType:Qe},zt=we("ads_desktop_video_ads",{dangerouslySkipActivation:!0}).anyEnabled,Lt=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDenseView,r=e.isSocialSeasonalBoard,o=e.pinImageCrop,i=e.pinImageFit,a=e.resolution,c=e.showPromotedVideos,s=e.showLeadPinStdBeta,u=e.surface,d=l.zl.includes(u),p="backend";"CloseupRelatedProducts"===u?p={height:w.GZ,width:w.OE}:"TopicBestPinWide"===u?p={height:P.m9,width:P.BS}:"TopicBestPinNarrow"===u?p={height:P._5,width:P.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(u)||d?p={height:w.zX,width:w.zX}:o&&(p=o);var f="none",_=null!=a?a:"default";"string"!=typeof p&&(f="cover",(d||"ShoppingDynamicHeightGrid"===u&&!i||"ShoppingSquareGridDomainNoMetadata"===u)&&(f="contain",_="high-res"));var h=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(u)?"transparent":"dominant",m=(0,b.e)(u);return{autoplaySettingOff:"undefined"!=typeof window&&0===g.Z.getItem(v.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:f,isDenseView:n,isSocialSeasonalBoard:r,resolution:_,rootMargin:m,pinImageCrop:p,showCarousel:t&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(u),showPromotedVideos:c,showLeadPinStdBeta:s}}({hasCarouselData:Ye,isDenseView:nt,isPromoted:Ce,isSocialSeasonalBoard:!1,pinImageCrop:se,pinImageFit:ue,resolution:pe,showPromotedVideos:zt,showLeadPinStdBeta:Dt,surface:_e})}),[Ye,nt,Ce,se,ue,pe,zt,Dt,_e]),Mt=Xe&&void 0!==(0,Or.Z)().debug_impression_log,Nt=(0,r.useMemo)((function(){return{debugImpressionState:V,slotIndex:Be}}),[V,Be]),Bt=(0,r.useMemo)((function(){return{surface:_e}}),[_e]);return(0,G.jsx)(j.Z,{name:"PinRepConfiguration",children:(0,G.jsx)(Q.B,{value:he,children:(0,G.jsxs)($.B,{value:Bt,children:[(0,G.jsx)(Vr,Xr({actionBarProps:gt,blockClickEvents:U,currentlyPlayingVideo:He,footerProps:At,impressionsDebuggerProps:Nt,obscuredPinOverlayProps:kt,pin:ve,pinVisualProps:Lt,presentationProps:Rt,primaryContentProps:mt,secondaryContentProps:vt,showFooter:It||Tt,showImpressionsDebugger:Mt,showObscuredPinOverlay:Ct,showSeeStatsButton:Pt,showSignalDebugger:Xe,showUnavailablePin:_t,surface:_e,visibilityOverrides:ht},me)),We.shouldOpenModal&&We.newPin&&(null===(F=We.originalPin)||void 0===F?void 0:F.id)===ve.id&&(0,G.jsx)(j.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,G.jsx)(z.Z,{children:(0,G.jsx)(eo,{experience:We.experience,newPin:We.newPin})})})]})})})}},656226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(76911),o=n(564194),i=n(768559),a=n(605028),l=n(868565),c=n(905723),s=n(152028),u=n(908390),d=n(515198),p={overlay:{__style:{backgroundColor:"#000"}}};function f(e){var t,n,o,i,a=e.pin,l=a.id,f=a.images,_=a.title,h=a.videos,m=a.video_status_message||{},y=f&&f["236x"],v=(h&&(null===(t=h.video_list)||void 0===t?void 0:t[c.Z.V_HLSV4])||{}).duration;return(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(u.st,{children:(0,d.jsxs)(u.iP,{role:"link",href:"/pin/".concat(l),rounding:2,children:[(0,d.jsxs)(u.xu,{overflow:"hidden",position:"relative",rounding:2,children:[y&&(0,d.jsx)(u.Ee,{alt:_||"",color:"lightGray",naturalHeight:null!==(n=y.height)&&void 0!==n?n:1,naturalWidth:null!==(o=y.width)&&void 0!==o?o:1,src:null!==(i=y.url)&&void 0!==i?i:""}),!!v&&(0,d.jsx)(u.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,d.jsx)(s.Z,{duration:v})}),(0,d.jsx)(u.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:p.overlay}),(0,d.jsxs)(u.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,d.jsx)(u.X6,{color:"light",overflow:"normal",size:"400",children:m.title}),(0,d.jsx)(u.xu,{marginTop:4,children:(0,d.jsx)(u.xv,{color:"light",size:"200",overflow:"normal",children:m.subtitle})})]})]}),(0,d.jsx)(u.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,d.jsx)(u.xu,{flex:"grow",children:_&&(0,d.jsx)(u.xu,{paddingY:1,children:(0,d.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:_})})})})]})})})}var _=n(623568),h=n(350118),m=n(609500),y=n(813401),v=n(779298),g=n(35495),b=["trackingParams","objectIdStr","impressionData","auxData","componentType","slotIndex","viewData","viewParameter","viewType","pin","pinId"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e){var t,n,c,s,u,p,P,S=e.trackingParams,O=e.objectIdStr,j=e.impressionData,E=e.auxData,T=e.componentType,I=e.slotIndex,C=e.viewData,D=e.viewParameter,R=e.viewType,k=e.pin,z=e.pinId,L=A(e,b),M=(0,m.useLocation)(),N=(0,h.S6)(),B=(z?N(z):null)||k,F=!(null===(t=B.story_pin_data)||void 0===t||!t.is_deleted),Z=S||(0,i.Z)({boardUrl:null===(n=B.board)||void 0===n?void 0:n.url,callToCreateSourcePinId:B.call_to_create_source_pin_id,location:M,pinId:B.id,pinnerUserName:null===(c=B.pinner)||void 0===c?void 0:c.username,storyPinDataId:B.story_pin_data_id,trackingParams:B.tracking_params,trackingParamsMap:B.tracking_params_map}),U=(0,l.Z)(B),G=!!(U&&U.url&&U.height&&U.width)||void 0,V=U&&B.videos?B.videos.id:void 0,H=x((0,r.useState)(!1),2),W=H[0],K=H[1],Y=(0,r.useCallback)((function(){return K(!F)}),[F]),X=(0,r.useCallback)((function(){return K(!1)}),[]),q=(0,y.yz)();(0,a.Z)(B).isLeadPin&&(E={lead_form_id:null===(P=B.promoted_lead_form)||void 0===P?void 0:P.lead_id});return(0,d.jsx)(o.Z,{componentType:T,contextLogData:w(w({pwa_type:q},E),(0,g.Kl)(B,E)),impressionAuxFields:w(w({},j||{}),{},{isNativeVideoAndWatchable:G,videoIdStr:V,clientTrackingParams:Z||"".concat(B.tracking_params||"","-0"),imageURL:null!==(s=null===(u=B.images)||void 0===u||null===(p=u["236x"])||void 0===p?void 0:p.url)&&void 0!==s?s:"",richTypes:(0,g.GT)(B)}),impressionType:"Pin",isPaused:!W,loggingId:B.id,slotIndex:I,objectIdStr:O,viewData:C,viewParameter:D,viewType:R,children:(0,_._J)(B)?(0,d.jsx)(f,{pin:B}):(0,d.jsx)(v.Z,w(w({},L),{},{debugImpressionState:W?"started":"paused",onError:X,onLoad:Y,pin:B,pinId:z,trackingParameters:{componentType:T,contextLogData:E,slotIndex:I,viewParameter:D,viewType:R}}))})}},512076:function(e,t,n){"use strict";var r=n(605028),o=n(773285);t.Z=function(e){var t=(0,r.Z)(e).isLeadPin,n=(0,o.F)();return{isLeadPin:t,showLeadPinStdBeta:t&&n.checkExperiment("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:t&&n.checkExperiment("web_lead_gen_ads").anyEnabled}}},243943:function(e,t,n){"use strict";n.d(t,{Xx:function(){return g},wA:function(){return m},wH:function(){return v}});var r=n(76911),o=n(752802),i=n(835209),a=n(407043),l=n(789707),c=n(533655),s=n(515198);function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(0,r.createContext)(undefined),m=function(e){var t=((0,i.Z)({richPinData:e.rich_metadata})||{}).variant_set||{},n=t.dimension_metadata,r=t.variants;if(!n||!r)return!1;var o=n.find((function(e){var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return!!(o&&o.name&&o.values&&1!==o.values.length)},y=function(e){var t=e.pinId,n=e.children,i=e.dimensionMetadata,d=e.primaryDimName,p=e.variants,m=e.primaryDimensionThumbnailImages,y=(0,r.useCallback)((function(e){var t=e.selectedMap,n=(0,c.B)({dimensionMetadata:i,primaryDimName:d,primaryDimensionThumbnailImages:m,defaultStatus:"invalid"});return(0,c.U0)({variantMap:n,selectedMap:t,variants:p}),n}),[i,d,m,p]),v=(0,a.v)().logContextEvent,g=p.find((function(e){return e.is_preselected})),b=(0,l.a)()||{},P=b.pinsState,w=b.setPinState,S=P&&P[t],x=S?S.selectedMap:(0,c.O5)(p),O=S?S.selectedVariants:(0,c.x1)({selectedMap:x,variants:p}),A=S?S.variantMap:y({selectedMap:x}),j=!!S&&S.isSelectedByUser,E=S?S.variantUrl:(null==g?void 0:g.pin_id)||t,T=(0,r.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,c.x1)({selectedMap:e,variants:p}),o=y({selectedMap:e}),i={selectedMap:e,selectedVariants:r,variantMap:o,isSelectedByUser:n,variantUrl:""},a=r[0].pin_id;a&&(i.variantUrl=a),w&&w(t,i)}),[y,t,w,p]),I=(0,r.useCallback)((function(){var e=(0,c.O5)(p);T(e)}),[T,p]),C=(0,r.useCallback)((function(e){var t,n=e.dimensionName,r=e.variant,o=e.isAutoSelection,i=void 0!==o&&o,a=null===(t=A[n])||void 0===t?void 0:t.find((function(e){return e.value===r}));try{if(!a)throw new Error("Unable to find the selected variant ".concat(n,": ").concat(r));if(x[n]===r)return;var l=f(f({},"invalid"!==a.status?x:{}),{},_({},n,r)),s=(0,c.i8)({variantMap:A,status:"invalid"});(0,c.U0)({variantMap:s,selectedMap:l,variants:p}),T(l,!i),v({event_type:10240,component:14092})}catch(u){throw I(),u}}),[A,x,p,T,I,v]),D=O[0].title,R=(0,o.Z)({images:(O[0].additional_images||[])[0].canonical_images}),k=(0,c.$b)(O),z=(0,r.useMemo)((function(){var e=((null==g?void 0:g.dimensions)||{})[d],t=A[d]||[],n=t;if(e&&t){var r=t.find((function(t){return t.value===e}));r&&(n=[r].concat(u(t.filter((function(t){return t.value!==e})))))}return{dimensionMetadata:i,offerSummary:k,primaryVariants:n,primaryDimName:d,selectedMap:x,isSelectedByUser:j,selectVariant:C,title:D,variants:p,image:R,variantUrl:E}}),[g,d,A,i,k,x,j,C,D,p,R,E]);return(0,s.jsx)(h.Provider,{"data-test-id":"safe-product-pins-feed-context-provider",value:z,children:n})},v=function(e){var t=e.children,n=e.pin;if(!e.isEligible)return(0,s.jsx)(h.Provider,{"data-test-id":"undefined-context-provider",value:void 0,children:t});var r=((0,i.Z)({richPinData:n.rich_metadata})||{}).variant_set||{},o=r.dimension_metadata,a=r.primary_dimension_thumbnail_images,l=r.variants,c=null==o?void 0:o.find((function(e){var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return(0,s.jsx)(y,{pinId:n.id,dimensionMetadata:o||[],primaryDimName:(null==c?void 0:c.name)||"",primaryDimensionThumbnailImages:a,variants:l||[],children:t})},g=function(){return(0,r.useContext)(h)}},789707:function(e,t,n){"use strict";n.d(t,{A:function(){return d},a:function(){return p}});var r=n(76911),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.createContext)(void 0),d=function(e){var t=e.children,n=c((0,r.useState)({}),2),i=n[0],s=n[1],d=(0,r.useMemo)((function(){return{setPinState:function(e,t){s(a(a({},i),{},l({},e,a(a({},i[e]||{}),t))))},pinsState:i}}),[i]);return(0,o.jsx)(u.Provider,{value:d,children:t})},p=function(){return(0,r.useContext)(u)}},104389:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(831539),o=n(869503),i=n(474236),a=n(908390),l=n(515198);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.count,n=e.countFormat,c=e.ratingValue,s=e.shippingInfo;return(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,l.jsx)(r.Z,{count:t,countFormat:n,rating:c,textSize:"200"}),(0,l.jsx)(a.xu,{marginTop:(0,i.Z)({count:t,rating:c})?1:0,children:(0,l.jsx)(o.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==s?void 0:s.free_shipping_price,freeShippingValue:null==s?void 0:s.free_shipping_value})})]})},p=function(e){var t=e.count,n=e.countType,c=e.countFormat,s=e.hideSeparationDot,u=e.bracket,d=e.ratingValue,p=e.shippingInfo;return(0,l.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,l.jsx)(r.Z,{bracket:u,count:t,countFormat:c,countType:n,rating:d,textSize:"300"}),(0,l.jsx)(a.xu,{marginStart:(0,i.Z)({count:t,rating:d})&&s?2:0,children:(0,l.jsx)(o.Z,{customStyles:{color:"default",size:"300"},showPrevDot:(0,i.Z)({count:t,rating:d})&&!s,freeShippingPrice:null==p?void 0:p.free_shipping_price,freeShippingValue:null==p?void 0:p.free_shipping_value})})]})};function f(e){return e.isGridView?(0,l.jsx)(d,s({},e)):(0,l.jsx)(p,s({},e))}},533655:function(e,t,n){"use strict";n.d(t,{$b:function(){return h},A6:function(){return y},B:function(){return d},Dv:function(){return w},O5:function(){return v},U0:function(){return _},Yr:function(){return b},i8:function(){return p},oX:function(){return P},x1:function(){return g},xD:function(){return m}});var r=n(752802);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t,n=e.defaultStatus,o=void 0===n?"available":n,i=e.dimensionMetadata,a=e.primaryDimName,l=e.primaryDimensionThumbnailImages,s={},u=c(i);try{for(u.s();!(t=u.n()).done;){var d=t.value,p=d.values,f=d.name;f&&p&&(s[f]=p.map((function(e){return{status:o,value:e}})))}}catch(_){u.e(_)}finally{u.f()}return(s[a]||[]).forEach((function(e,t){var n=l&&l[t.toString()];n&&(e.image=(0,r.Z)({images:n.canonical_images}))})),s},p=function(e){var t=e.status,n=e.variantMap,r={};for(var o in n){var i;r[o]=null===(i=n[o])||void 0===i?void 0:i.map((function(e){return a(a({},e),{},{status:t})}))}return r},f=function(e){var t,n=e.dimensionName,r=e.variants,i=e.selectedTuple,a=e.variantStatuses,l=i.filter((function(e){return o(e,1)[0]!==n})),s=c(r);try{var u=function(){var e=t.value,r=e.dimensions,i=void 0===r?{}:r,c=e.offer_summary,s=void 0===c?{}:c;if(!l.every((function(e){var t=o(e,2),n=t[0],r=t[1];return i[n]===r})))return"continue";var u=a.find((function(e){return e.value===i[n]}));u&&(u.status=s.in_stock||"available"===u.status?"available":"outOfStock")};for(s.s();!(t=s.n()).done;)u()}catch(d){s.e(d)}finally{s.f()}},_=function(e){var t=e.variants,n=e.selectedMap,r=void 0===n?{}:n,o=e.variantMap,i=Object.entries(r);for(var a in o){var l=o[a];l&&f({dimensionName:a,variants:t,selectedTuple:i,variantStatuses:l})}},h=function(e){var t,n,r,o,i,a=!1,l=1===e.length&&e[0].offer_summary||{},s=l.percentage_off,u=l.standard_price,d=c(e);try{for(d.s();!(i=d.n()).done;){var p=i.value.offer_summary||{},f=p.max_price,_=p.max_price_val,h=p.min_price,m=p.min_price_val,y=p.price,v=p.price_val,g=p.price_in_micro_currency,b=p.in_stock,P=v||Number(g);"number"==typeof m&&Number.isFinite(m)&&"number"==typeof _&&Number.isFinite(_)&&((void 0===n||m<n)&&(n=m,t=h),(void 0===o||_>o)&&(o=_,r=f),a=a||!!b),Number.isFinite(P)&&((null==n||P<n)&&(n=P,t=y),(null==o||P>o)&&(o=P,r=y),a=a||!!b)}}catch(w){d.e(w)}finally{d.f()}if(r&&t)return t===r?{in_stock:a,percentage_off:s,price:t,standard_price:u}:{in_stock:a,max_price:r,min_price:t,percentage_off:s,price:t,standard_price:u}},m=function(e,t){return e.length===t.length&&e.every((function(e,n){var o,i;return(null===(o=(0,r.Z)({images:e.canonical_images}))||void 0===o?void 0:o.url)===(null===(i=(0,r.Z)({images:t[n].canonical_images}))||void 0===i?void 0:i.url)}))},y=function(e){var t=new Set;return e.filter((function(e){var n=((0,r.Z)({images:e.canonical_images})||{}).url;return!!n&&(!t.has(n)&&(t.add(n),!0))}))||[]},v=function(e){var t,n=a({},(null===(t=e.find((function(e){return!!e.is_preselected})))||void 0===t?void 0:t.dimensions)||{});for(var r in n)n[r]||delete n[r];return n},g=function(e){var t=e.selectedMap;return e.variants.filter((function(e){var n=e.dimensions,r=void 0===n?{}:n;for(var o in t){var i=t[o];if(r[o]!==i)return!1}return!0}))},b=function(e){var t=e.visualVariants,n=e.visualDimName,r=e.variants,o={};return r.forEach((function(e){var t,r,i=null===(t=e.dimensions)||void 0===t?void 0:t[n],a=null!==(r=e.offer_summary)&&void 0!==r&&r.in_stock?"available":"outOfStock";i&&("available"===a||!o[i]&&i)&&(o[i]=a)})),t.map((function(e){return a(a({},e),{},{status:o[e.value]})}))},P=function(e){var t=e.selectedMap,n=e.dimensions;n&&Object.keys(n).forEach((function(e){null!==n[e]&&void 0!==n[e]&&(t[e]=n[e])}))},w={VISUAL:1,UTILITY_GRID:2,UTILITY_DROPDOWN:3}},992061:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.hovered,n=e.rounding;return(0,o.jsx)(r.xu,{display:t?"block":"none",height:"100%",width:"100%",left:!0,top:!0,position:"fixed",zIndex:new r.Ry(1),color:"transparentDarkGray",rounding:n,opacity:.2})}},807592:function(e,t,n){"use strict";function r(e){var t=e.max_price,n=e.min_price,r=e.price;return t&&n?"".concat(n,"-").concat(t):r}n.d(t,{Z:function(){return r}})},840003:function(e,t,n){"use strict";var r=n(773285);t.Z=function(e){var t=(0,r.F)().checkExperiment;return!!e&&t("web_pdpplus").anyEnabled}},841478:function(e,t,n){"use strict";n.d(t,{A6:function(){return c},BS:function(){return a},EC:function(){return o},_5:function(){return l},m9:function(){return i},z9:function(){return r}});var r=800,o=508,i=424,a=278,l=640,c=508},35495:function(e,t,n){"use strict";n.d(t,{GT:function(){return m},Gy:function(){return s},Kl:function(){return b},QY:function(){return h},RR:function(){return d},SP:function(){return f},Sn:function(){return g},Zs:function(){return v},bA:function(){return _},i8:function(){return u},nn:function(){return c},qN:function(){return p}});var r=n(834911),o=n(229428);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return!!e&&(e.shopping_flags||[]).includes(2)},s=function(e){var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},u=function(e){var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=function(e){var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},p=function(e){return e.is_oos_product},f=function(e){return e.is_stale_product},_=function(e){return p(e)||f(e)},h=function(e){var t,n,r,o,i=null==e||null===(t=e.link_domain)||void 0===t||null===(n=t.official_user)||void 0===n?void 0:n.full_name;if(i)return i;var a=null==e||null===(r=e.rich_summary)||void 0===r?void 0:r.site_name;if(a)return a;if(e.domain)return"Uploaded by user"===e.domain?((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name:e.domain;var l=null==e||null===(o=e.via_pinner)||void 0===o?void 0:o.full_name;return e.is_repin&&l?l:void 0},m=function(e){if(e){var t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]},y=function(e){var t=(null==e?void 0:e.variants)||[],n=(null==e?void 0:e.dimension_metadata)||[];return Array.isArray(t)&&Array.isArray(n)?n.reduce((function(e,n){return n.name&&Array.isArray(n.values)?e+n.values.filter((function(e){return t.find((function(t){var r,o;return(null===(r=t.dimensions)||void 0===r?void 0:r[null!==(o=n.name)&&void 0!==o?o:""])===e}))})).length:e}),0):0};function v(e){var t,n,i,l,c,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,p=m(e),f=a({},u.commerce_data);p.includes(2)&&(f.pin_is_shop_the_look=!0),p.includes(1)&&(f.is_available=!0),p.includes(5)&&(f.is_product_pin_v2=!0),p.includes(6)&&(f.is_rich_product_pin=!0),p.includes(10)&&(f.is_organic_product_carousel=!0);var _=!!e.visual_objects&&(0,o.k)(e.visual_objects)||[];if(_.some((function(e){return!0===e.is_stela}))&&(f.pin_is_stela=!0),e.is_eligible_for_pdp_plus||e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?f.pin_show_pdp_oos=!0:e.is_stale_product?f.pin_show_pdp_stale=!0:e.is_eligible_for_pdp&&(f.pin_show_pdp=!0);var h=(0,r.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:null==e?void 0:e.rich_metadata,richSummary:null==e?void 0:e.rich_summary});if("pdp_plus"===d&&e.is_eligible_for_pdp_plus){var v,g,b,P,w,S,x,O;f.is_pdpplus=!0;var A,j=null==e||null===(v=e.rich_metadata)||void 0===v||null===(g=v.products)||void 0===g?void 0:g[0],E=null==j||null===(b=j.shipping_info)||void 0===b?void 0:b.free_shipping_price,T=null==j||null===(P=j.shipping_info)||void 0===P?void 0:P.free_shipping_value,I=(null==j||null===(w=j.variant_set)||void 0===w||null===(S=w.variants)||void 0===S?void 0:S.length)||0,C=y(null==j?void 0:j.variant_set),D=(null==j||null===(x=j.variant_set)||void 0===x||null===(O=x.dimension_metadata)||void 0===O?void 0:O.length)||0;if(h)f.carousel_image_count=null===(A=h.carousel_slots)||void 0===A?void 0:A.length;E&&(f.free_shipping_price=E),T&&(f.free_shipping_value=T),I&&(f.num_variants=I),C&&(f.valid_dimension_option_count=C),D&&(f.total_dimension_option_count=D)}else if(h){var R;f.image_count=null===(R=h.carousel_slots)||void 0===R?void 0:R.length,f.image_index=h.index}}null!=e&&null!==(t=e.rich_summary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.item_id&&(f.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(l=e.rich_summary)&&void 0!==l&&null!==(c=l.products)&&void 0!==c&&null!==(s=c[0])&&void 0!==s&&s.item_set_id&&(f.item_set_id=e.rich_summary.products[0].item_set_id);var k=e.aggregated_pin_data||{};return null!=k&&k.is_shop_the_look&&(f.pin_is_shop_the_look=!0),e.story_pin_data&&(f.story_pin_id=e.story_pin_data.id),f}function g(e){var t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(e){var r=v(e,t,n);return g(r)}return null}},699825:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),o=n(102500),i=n(692627),a=n(47170),l=n(35495),c=n(623568),s=n(407043),u=n(515198);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t,n,d,f=e.children,h=e.hovered,m=e.pin,y=e.slotIndex,v=e.trafficSource,g=e.viewType,b=(0,s.v)().logContextEvent,P=_((0,r.useState)(),2),w=P[0],S=P[1],x=_((0,r.useState)(),2),O=x[0],A=x[1],j=m.id,E=m.tracked_link,T=m.link,I=E||T||"",C=function(){S(!0)},D=(0,a.Z)(m),R=(0,i.Z)({hasPin:!!m,hasPinRichMetadata:!(null==m||!m.rich_metadata),hasPinRichMetadataProducts:!(null==m||null===(t=m.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null==m||null===(n=m.rich_metadata)||void 0===n||!n.article),hasPinRichMetadataRecipe:!(null==m||null===(d=m.rich_metadata)||void 0===d||!d.recipe),hasPinStoryPinData:!(null==m||!m.story_pin_data)}),k=(0,r.useCallback)((function(){(function(e,t,n){var r={check_only:n,pin_id:e.id,url:t,client_tracking_params:D,aux_data:JSON.stringify(p(p({clickthrough_type:"rightClick",objectId:j},y||{}),(0,l.Kl)(e)||{}))};return(0,o.Z)(r)})(m,I,!1).callGet({showError:!1}).then((function(e){e&&(b({event_type:12,object_id_str:j,view_type:g,view_parameter:R,aux_data:p(p({clickthrough_type:"rightClick"},y||{}),(0,l.Kl)(m)||{})}),b({event_type:8948,view_type:g,object_id_str:j,view_parameter:R,aux_data:p(p({click_type:"clickthrough",closeup_navigation_type:v&&(0,c.sV)(v)?"deeplink":"click",clickthrough_type:"rightClick"},y||{}),(0,l.Kl)(m)||{})}))}))})),z=function e(t){var n;w&&(/^\/pin/.test(null===(n=t.target.activeElement.attributes.href)||void 0===n?void 0:n.value)||(k(),S(!1)),window.removeEventListener(O,e,!1))};return(0,r.useEffect)((function(){var e,t,n,r,o,i;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?A("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(r=n.document)||void 0===r?void 0:r.msHidden)?A("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(i=o.document)||void 0===i?void 0:i.webkitHidden)&&A("webkitvisibilitychange")}),[]),(0,r.useEffect)((function(){return w&&window&&window.addEventListener(O,z,!1),function(){return window.removeEventListener(O,z)}}),[w,O]),(0,r.useEffect)((function(){return h&&window.addEventListener("contextmenu",C),function(){window.removeEventListener("contextmenu",C)}}),[h]),(0,u.jsx)(r.Fragment,{children:f})}},241244:function(e,t,n){"use strict";n.d(t,{N:function(){return a},Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.children,n=e.fullWidth;return(0,o.jsx)(r.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},children:t})}function a(e){var t=e.children;return e.enabled?(0,o.jsx)(i,{children:t}):t}},310227:function(e,t,n){"use strict";n.d(t,{Dv:function(){return i},Ml:function(){return a},Oc:function(){return r},mv:function(){return o}});var r=16,o=4,i={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},a=120},743473:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(567831),o=n(794230),i=n(107193),a=n(402201),l=n(704115),c=n(214494);var s={open:function(e){var t,n,u=(n=e,s._validParams.reduce((function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]),e}),{})),d=s._getDialogType(e),p=s.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),f=e.object_type&&e.object_id&&"feed"===d,_=(0,r.Z)(e.path),h=(0,l.Z)();if(h.ptrf&&(_=(0,o.Z)(_,{ptrf:h.ptrf})),f&&(_=(0,o.Z)(_,{fb_ref:p})),u.method=d,"feed"===u.method){var m=(0,a.Z)({width:e.width,height:e.height}),y="http://www.facebook.com/sharer/sharer.php?u="+_;u.picture&&(y+="&picture="+u.picture),u.name&&(y+="&title="+u.name),u.description&&(y+="&description="+u.description),u.caption&&(y+="&caption="+u.caption),window.open(encodeURI(y),"sharer",m)}else"send"===u.method?u.link=_:"share"===u.method&&(u.href=_),(0,i.default)((function(t){t.getLoginStatus((function(){if("send"===u.method){t.ui(u);var n,r=10,o=setInterval((function(){!(n=function(){if(document){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),n=0;n<t.length;n+=1){var r=t[n].parentNode;r&&r.removeChild(t[n])}return e[0]}}}())&&r||(clearInterval(o),n&&s.executeMessengerCallback(n,e.callback)),r-=1}),1e3)}else"share"===u.method&&t.ui(u,(function(t){f&&t&&!t.error_message&&c.Z.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:p}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function(e,t){var n=10,r=setInterval((function(){"0px"!==e.style.width&&n||(clearInterval(r),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef:function(e){for(var t="";t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:function(e){return s._validOptions.includes(e.type)?e.type:"feed"}},u=s;function d(e,t,n){var r=function(e,t){var n=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(r>t?Math.round((r-t)/2):0)}(t,n);window.open(e,void 0,r)}var p,f,_={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog:function(e){d(_._getWindowUrl(e.share_path,e.share_text),_.DIALOG_WIDTH,_.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,r.Z)(e):void 0,text:t})}},h=_,m={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function(e){d(m._getWindowUrl(e.tweet_path,e.tweet_text),m.DIALOG_WIDTH,m.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,r.Z)(e):void 0,text:t||void 0})}},y=m,v=n(704217);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,l,"next",e)}function l(e){w(i,r,o,a,l,"throw",e)}a(void 0)}))}}var x=void 0!==p?p:p=n(166379),O=void 0!==f?f:f=n(380465),A=function(){var e=S(regeneratorRuntime.mark((function e(t,n,r){var o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){var t,n,r;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(r=null==e?void 0:e.title)&&void 0!==r?r:""}},e.next=3,(0,v.fetchQuery)(t,O,{invite_category:r.toString(),url:n}).toPromise();case 3:return a=e.sent,e.abrupt("return",i(null==a||null===(o=a.v3CreateShareLinkQuery)||void 0===o?void 0:o.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=S(regeneratorRuntime.mark((function e(t,n,r,o,i){var a,l,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(e){var t,n,r;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(r=null==e?void 0:e.title)&&void 0!==r?r:""}},c={invite_category:n,invite_object:r,invite_channel:o},e.next=4,(0,v.fetchQuery)(t,x,{inviteType:JSON.stringify(c),objectId:i}).toPromise();case 4:return s=e.sent,e.abrupt("return",l(null==s||null===(a=s.v3InviteUserExternalQuery)||void 0===a?void 0:a.data));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i){return e.apply(this,arguments)}}(),E={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject:function(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite:function(e,t,n){var r=this._convertToInviteObject(e.object_type),o=e.invite_channel,i=null==e.invite_category?3:e.invite_category,a=e.object_id;return c.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:i,invite_object:r,invite_channel:o},invite_code:t,object_id:a,client_tracking_params:e.client_tracking_params}).callCreate()},createShareInviteData:function(e,t){var n=this._convertToInviteObject(e.object_type),r=e.invite_channel,o=null==e.invite_category?3:e.invite_category,i=e.orbac_subject_id;if(10===o&&e.path)return t?A(t,e.path,o):c.Z.create("ShareLinkResource",{invite_category:o,url:e.path}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}));if(t)return j(t,o,n,r.toString(),e.object_id);var a=e.object_id;return c.Z.create("CreateExternalInviteResource",b({invite_type:{invite_category:o,invite_object:n,invite_channel:r},object_id:a},i?{orbac_subject_id:i}:{})).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}))},logShareInvite:function(e,t,n){t&&E._logShareInvite(e,t.invite_code,n)},shareFacebookInvite:function(e,t){var n=e.options,r=e.unauthId,o=e.viewer;return E.createShareInviteData(n,t).then((function(e){var i=e.invite_url,a=e.invite_code;if(i){var l={type:"share",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:i,picture:n.picture,callback:function(e){e&&!e.error_message&&E._logShareInvite(n,a,t)}};u.open(b(b({},l),{},{display:"popup",unauthId:r,viewer:o}))}return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},shareTwitterInvite:function(e,t){var n=this._convertToInviteObject(e.object_type);return E.createShareInviteData(e,t).then((function(r){var o=r.invite_url,i=r.invite_code,a=e.description;return 6===n&&e.name&&(a=e.name),a.trim()||(a="".concat(r.title,"\n")),o&&y.openDialog({tweet_path:o,tweet_text:a}),E._logShareInvite(e,i,t),Promise.resolve(r)}),(function(e){return Promise.reject(e)}))},shareLineInvite:function(e,t){var n=this._convertToInviteObject(e.object_type);return E.createShareInviteData(e,t).then((function(r){var o=r.invite_url,i=r.invite_code,a=e.description;return 6===n&&e.name&&(a=e.name),a.trim()||(a="".concat(r.title,"\n")),o&&h.openDialog({share_path:o,share_text:a}),E._logShareInvite(e,i,t),Promise.resolve(r)}),(function(e){return Promise.reject(e)}))},shareFbMessengerInvite:function(e,t){var n=e.options,r=e.unauthId,o=e.viewer;return E.createShareInviteData(n,t).then((function(e){var i=e.invite_url,a=e.invite_code;return i&&u.open({type:"send",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:i,picture:n.picture,callback:function(e){e&&e.success&&E._logShareInvite(n,a,t)},display:"popup",unauthId:r,viewer:o}),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}},T=E},754320:function(e,t,n){"use strict";var r=n(76911),o=n(941646),i=n(898781),a=n(905031),l=n(407043),c=n(908390),s=n(444445),u=n(515198);t.Z=function(e){var t=e.contentIds,n=e.previewImageSrc,d=e.url,p=e.buttonText,f=e.shape,_=void 0===f?"square":f,h=e.storyId,m=e.storyType,y=e.view,v=e.viewParameter,g=e.component,b=e.element,P="square"===_?4:"circle",w=(0,a.Z)()?s.tG:s.yF,S=(0,l.v)().logContextEvent,x=(0,i.ZP)(),O=(0,r.useMemo)((function(){return!(Number.isNaN(y)||Number.isNaN(v)||Number.isNaN(g)||Number.isNaN(b))}),[y,v,g,b]);return(0,r.useEffect)((function(){O&&S({event_type:120,view_type:y,view_parameter:v,component:g,element:b,aux_data:{content_ids:t,story_id:h,story_type:m}})}),[t,S,y,v,g,b,O,h,m]),(0,u.jsx)(o.Z,{id:"sf-action-item-rep",children:(0,u.jsx)(c.xu,{width:w,height:w,color:"secondary",rounding:P,overflow:"hidden",children:(0,u.jsx)(c.zd,{height:"100%",width:"100%",wash:!0,rounding:P,children:(0,u.jsx)(c.Ee,{src:n||"",alt:x._('Action Item Rep Preview Image', 'actionItemRep.image', 'alt text for a preview image image in action item'),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,children:(0,u.jsx)(c.xu,{height:"100%",width:"100%",left:!0,top:!0,alignItems:"center",justifyContent:"center",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},children:(0,u.jsx)(c.zx,{onClick:function(){O&&S({event_type:101,view_type:y,view_parameter:v,component:g,element:b,aux_data:{content_ids:t,story_id:h,story_type:m}})},text:p,role:"link",href:d,color:"white",size:"lg"})})})})})})}},316743:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(76911),o=n(992061),i=n(898781),a=n(444445),l=n(215292),c=n(608760),s=n(908390),u=n(515198);function d(e){var t,n,d=e.item,p=void 0===d?{}:d,f=e.imagePlaceholderColor,_=void 0===f?c.hK:f,h=e.onTap,m=(0,i.ZP)(),y=null==p||null===(t=p.cover_images)||void 0===t?void 0:t[0],v=null==y?void 0:y["236x"];return(0,u.jsx)(s.iP,{onTap:h,children:(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(l.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,u.jsx)(s.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:n,onMouseLeave:r,children:(0,u.jsxs)(s.zd,{height:a.yF,rounding:"circle",wash:!0,width:a.yF,children:[(0,u.jsx)(o.Z,{hovered:t,rounding:"circle"}),(0,u.jsx)(s.Ee,{alt:m._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),color:_,fit:"cover",naturalHeight:a.yF,naturalWidth:a.yF,src:(null==v?void 0:v.url)||""})]})})}}),(null==p||null===(n=p.title)||void 0===n?void 0:n.format)&&(0,u.jsx)(s.xu,{width:a.yF,children:(0,u.jsx)(s.xv,{align:"center",weight:"bold",children:p.title.format})})]})})}var p="pill";var f,_=n(676302),h=n(407043),m=n(609500),y=n(366428);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){},w=(b(f={},2,d),b(f,3,(function(e){var t=e.item,n=void 0===t?{}:t,r=e.onTap,c=(0,i.ZP)(),d=function(e,t){switch(e){case 2:return{icon:"workflow-status-all",text:t._('Categories', 'NavigationBubble.NavigationIcon.utils', 'Categories navigation button text')};case 3:return{icon:"shopping-bag",text:t._('Stores', 'ExploreArticleRep.NavigationBubble.utils', 'Stores navigation button text')};case 4:return{icon:"terms",text:t._('Your items', 'ExploreArticleRep.NavigationBubble.utils', 'Your items navigation button text')};default:return{icon:null}}}(null==n?void 0:n.identifier_icon_type,c),f=d.icon,_=d.text;return(0,u.jsx)(s.iP,{onTap:r,tapStyle:"compress",rounding:f?5:p,children:(0,u.jsx)(l.q,{children:function(e){var t,r,i,l=e.active,c=e.hovered,d=e.onMouseEnter,h=e.onMouseLeave,m=e.onFocus,y=e.onBlur;return(0,u.jsxs)(s.xu,{"data-test-id":"navigation-bubble",onMouseEnter:d,onMouseLeave:h,onFocus:m,onBlur:y,rounding:5,children:[f&&(0,u.jsxs)(s.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,u.jsx)(o.Z,{hovered:c}),(0,u.jsx)(s.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,u.jsx)(s.JO,{accessibilityLabel:_||"",color:"default",icon:f,size:32})})]}),_&&(0,u.jsx)(s.xu,{marginTop:2,width:85,children:(0,u.jsx)(s.xv,{align:"center",weight:"bold",children:_})}),!f&&!_&&(null==n||null===(t=n.title)||void 0===t?void 0:t.format)&&(0,u.jsx)(s.xu,{rounding:p,dangerouslySetInlineStyle:{__style:{backgroundColor:null===(r=n.aux_fields)||void 0===r?void 0:r.button_background_color}},children:(0,u.jsx)(s.xu,{rounding:p,padding:4,dangerouslySetInlineStyle:{__style:{backgroundColor:(l?"rgba(0, 0, 0, 0.15)":c&&"rgba(0, 0, 0, 0.06)")||void 0}},children:(0,u.jsx)(s.xv,{align:"center",weight:"normal",color:"#ffffff"===(null===(i=n.aux_fields)||void 0===i?void 0:i.button_text_color)?"inverse":"default",children:(0,u.jsx)(s.xu,{maxWidth:a.yF-16,overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:n.title.format})})})})]})}})})})),b(f,1,(function(e){var t,n=e.item,r=void 0===n?{}:n,a=e.onTap,c=(0,i.ZP)(),d=null==r||null===(t=r.cover_images)||void 0===t?void 0:t[0],p=null==d?void 0:d["236x"];return(0,u.jsx)(s.iP,{onTap:a,tapStyle:"compress",rounding:3,children:(0,u.jsx)(l.q,{children:function(e){var t,n=e.hovered,i=e.onMouseEnter,a=e.onMouseLeave;return(0,u.jsx)(s.xu,{"data-test-id":"search-bubble",onMouseEnter:i,onMouseLeave:a,rounding:3,children:(0,u.jsxs)(s.zd,{height:150,rounding:3,wash:!0,width:300,children:[(0,u.jsx)(o.Z,{hovered:n}),(0,u.jsx)(s.Ee,{alt:c._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),fit:"cover",naturalHeight:150,naturalWidth:300,role:"presentation",src:(null==p?void 0:p.url)||"",children:(0,u.jsx)(s.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",justifyContent:"center",height:150,padding:3,position:"absolute",top:!0,width:300,children:(null==r||null===(t=r.title)||void 0===t?void 0:t.format)&&(0,u.jsx)(s.X6,{color:"inverse",size:"400",children:r.title.format})})})]})})}})})})),b(f,4,_.Z),f);function S(e){var t,n,o=e.component,i=e.slotIndex,a=e.item,l=e.showExpandedHeader,c=e.story,p=e.view,f=e.viewParameter,_=c||{},v=_.display_options,b=_.type,S=_.id,x=_.content_ids,O=(0,h.v)().logContextEvent,A=(0,m.useHistory)(),j=null==a?void 0:a.id,E=(0,r.useMemo)((function(){return{story_type:b,story_id:S,content_ids:x,article_id:j}}),[j,x,S,b]),T=(0,y.Z)({componentType:o,contextLogData:E,impressionType:"Article",loggingId:j,objectIdStr:j,slotIndex:i,viewParameter:f,viewType:p}),I=l?null==v||null===(t=v.item_view_rep_style)||void 0===t?void 0:t.expanded_explore_article_rep_style:null==v||null===(n=v.item_view_rep_style)||void 0===n?void 0:n.explore_article_rep_style,C=((a||{}).action||{}).url,D=void 0===C?"":C,R=Object.hasOwnProperty.call(w,I)?w[I]:d,k=l?P:function(){A.push(D),O({event_type:101,component:o,view_type:p,view_parameter:f,aux_data:E})};return(0,u.jsx)(s.xu,{ref:T,children:(0,u.jsx)(R,g(g({},e),{},{onTap:k}))})}},676302:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},u:function(){return i}});var r=n(908390),o=n(515198),i=369;function a(e){var t=e.item,n=e.onTap,a=e.slotIndex,l=t.action,c=t.aux_fields,s=t.cover_images,u=t.dominant_colors,d=t.title;if(!d||!s||!l)return null;var p=s.length<=0?[{}]:s.slice(0,2);return(0,o.jsx)(r.iP,{onTap:n,tapStyle:"compress",rounding:4,children:(0,o.jsxs)(r.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:258,justifyContent:"center",overflow:"hidden",position:"relative",rounding:4,width:i,children:[(0,o.jsx)(r.kC,{children:p.map((function(e,t){var n,l,c;return(0,o.jsx)(r.zd,{height:258,wash:!0,width:i/p.length,children:(0,o.jsx)(r.Ee,{alt:"",color:(u||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(n=e["474x"])||void 0===n?void 0:n.url)||(null===(l=e["736x"])||void 0===l?void 0:l.url)||(null===(c=e["236x"])||void 0===c?void 0:c.url)||""})},"styleCarousel_bubble".concat(a,"_pin").concat(t))}))}),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null==c?void 0:c.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,o.jsx)(r.xv,{align:"center",weight:"bold",children:(0,o.jsx)("span",{style:{color:null==c?void 0:c.button_text_color,margin:"0"},children:d.format})})})]})})}},547560:function(e,t,n){"use strict";n.d(t,{ZP:function(){return _},lf:function(){return p},wg:function(){return f},xR:function(){return d}});var r=n(1514),o=n(605706),i=n(855430),a=n(34518),l=n(50286),c=n(503390),s=n(908390),u=n(515198),d=299,p=270,f=232;function _(e){var t,n=e.pinCards,_=e.isClicked,h=e.isHovered,m=e.item,y=void 0===m?{}:m,v=e.story,g=(0,l.HG)(),b=(0,o.Z)(),P=v&&(null===(t=v.objects)||void 0===t?void 0:t.length),w=y.board_name,S=y.header_text,x=y.top_image_dominant_color_rgb,O=_?106:110,A=_?d-4:d;g||(O=90,A=1===P?"100%":b?f:p);var j=155;return g||(j=b?108:148),(0,u.jsxs)(s.xu,{height:O,display:"flex",paddingY:2,position:"relative",rounding:a.N3,width:A,dangerouslySetInlineStyle:{__style:(0,c.f)(x,_,h)},children:[(0,u.jsx)(i.Z,{}),(0,u.jsx)(s.xu,{width:g?112:100,position:"relative",children:n.map((function(e,t){return(0,u.jsx)(r.Z,{fanOut:h||_,card:e,index:t,size:g?"SMALL":"MOBILE"},t)}))}),(0,u.jsxs)(s.xu,{display:"flex",direction:"column",justifyContent:"center",marginStart:g?2:3,width:j,children:[(0,u.jsx)(s.xv,{size:g?"200":"100",children:S}),(0,u.jsx)(s.xv,{lineClamp:2,size:"400",weight:"bold",children:w})]})]})}},557115:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(76911),o=n(547560),i=n(1514),a=n(855430),l=n(34518),c=n(503390),s=n(908390),u=n(515198);var d=n(407043);var p,f=n(50286),_=n(773285);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(P(p={},1,o.ZP),P(p,3,(function(e){var t=e.pinCards,n=e.isClicked,r=e.isHovered,o=e.item,d=o.board_name,p=o.top_image_dominant_color_rgb;return(0,u.jsxs)(s.xu,{height:n?165:169,display:"flex",alignItems:"end",justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:l.N3,width:n?232:236,dangerouslySetInlineStyle:{__style:(0,c.f)(p,n,r)},children:[(0,u.jsx)(a.Z,{}),t.map((function(e,t){return(0,u.jsx)(i.Z,{fanOut:r||n,card:e,index:t,size:"DEFAULT"},t)})),(0,u.jsx)(s.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:d})]})})),P(p,4,(function(e){var t=(0,d.v)().logContextEvent,n=e.pinCards,r=e.isHovered,o=e.item,p=e.view,f=e.viewParameter,_=o.board_name,h=o.header_text,m=o.ideas_deep_link_url,y=o.top_image_dominant_color_rgb;return(0,u.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,position:"relative",paddingX:4,paddingY:8,rounding:l.N3,width:236,dangerouslySetInlineStyle:{__style:(0,c.f)(y,!1,r)},children:[n.map((function(e,t){return(0,u.jsx)(i.Z,{fanOut:r,card:e,index:t,size:"LARGE"},t)})),(0,u.jsx)(s.xu,{height:168,width:"100%"}),(0,u.jsx)(a.Z,{}),(0,u.jsxs)(s.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,u.jsxs)(s.xu,{display:"flex",direction:"column",alignItems:"center",marginTop:5,marginBottom:5,children:[(0,u.jsx)(s.xu,{marginBottom:1,children:(0,u.jsx)(s.xv,{size:"200",weight:"bold",children:h})}),(0,u.jsx)(s.xv,{align:"center",size:"500",weight:"bold",children:_})]}),(0,u.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,u.jsx)(s.zx,{color:"white",href:m.concat("?ideas_referrer=".concat(25)),size:"lg",onClick:function(e){e.event.stopPropagation(),t({event_type:101,view_type:p,view_parameter:f,component:14268,element:13002,object_id_str:o.board_id})},role:"link",text:"Explore"})})]})]})})),p),S=["100%","60%"];function x(e){var t,n=e.component,o=e.isInViewOrNext,i=e.item,a=i.board_id,p=i.ideas_deep_link_url,h=i.images,g=i.image_dominant_color_rgb,b=e.slotIndex,P=e.story,x=void 0===P?{}:P,O=e.view,A=e.viewParameter,j=(0,d.v)().logContextEvent,E=(0,f.ZP)(),T=x.display_options,I=x.objects,C=null==I?void 0:I.length,D=v((0,r.useState)(!1),2),R=D[0],k=D[1],z=v((0,r.useState)(!1),2),L=z[0],M=z[1],N=v((0,r.useState)(!1),2),B=N[0],F=N[1],Z=(0,_.F)().checkExperiment("hfp_hf_more_ideas_structured_feed_web").group,U="enabled_variant_one_image"===Z,G="enabled_variant_small_images"===Z;(0,r.useEffect)((function(){if(!U&&"desktop"===E){var e=setTimeout((function(){return F(!0)}),700);return function(){clearTimeout(e)}}}),[E,U]);var V=[],H="desktop"!==E?l.mS:l.S$;if(o||"desktop"!==E)if(B)if(G){var W;V=(W=[h[H][0]]).concat.apply(W,y(h[l.fI].slice(1)))}else V=y(h[H]);else V=[h[H][0]];for(var K=3-V.length,Y=0;Y<K;Y+=1)V.push({colorRGB:g,opacity:S[Y]});V.reverse();var X=null==T||null===(t=T.item_view_rep_style)||void 0===t?void 0:t.more_ideas_rep_style,q=w[X],J=n||c.k[X];return q&&(0,u.jsx)(s.iP,{href:p.concat("?ideas_referrer=".concat(25)),role:"link",onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},onMouseDown:function(){return M(!0)},onTap:function(){return j({event_type:101,view_type:O,view_parameter:A,component:J,element:13002,object_id_str:a,aux_data:{index:b,total_object_count:C}})},children:(0,u.jsx)(q,m({isClicked:L,isHovered:R,pinCards:V},e))})}},1514:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),o=n(515198),i={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},a=function(e,t,n){var r;switch(n){case"MOBILE":r={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var o=r[e];return o.border="1px solid #FFFFFF",o.transition="all 150ms ease-out",o};function l(e){var t,n=e.fanOut,l=e.card,c=e.index,s=e.size,u=i[s],d=l.height,p=void 0===d?u.HEIGHT_PX:d,f=l.url,_=l.width,h=void 0===_?u.WIDTH_PX:_,m=l.colorRGB,y=l.opacity;return f?t=(0,o.jsx)(r.Ee,{alt:f,fit:"cover",naturalHeight:p,naturalWidth:h,src:f}):m&&y&&(t=(0,o.jsx)(r.xu,{height:u.HEIGHT_PX,width:u.WIDTH_PX,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(m.join(", "),", ").concat(y,")")}}})),(0,o.jsx)(r.xu,{rounding:5,position:"absolute",dangerouslySetInlineStyle:{__style:a(c,n,s)},children:(0,o.jsx)(r.zd,{height:u.HEIGHT_PX,rounding:5,width:u.WIDTH_PX,wash:!0,children:t})})}},855430:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),o=n(34518),i=n(515198);function a(){return(0,i.jsx)(r.xu,{position:"absolute",rounding:o.N3,top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}}})}},34518:function(e,t,n){"use strict";n.d(t,{N3:function(){return r},Ql:function(){return o},S$:function(){return a},a$:function(){return i},fI:function(){return c},mS:function(){return l}});var r=4,o=.35,i=.5,a="170x",l="136x136",c="70x"},503390:function(e,t,n){"use strict";n.d(t,{f:function(){return a},k:function(){return l}});var r,o=n(34518);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e,t,n){return{backgroundColor:"rgba(".concat(e.join(", "),", ").concat((r=n||t,r?o.a$:o.Ql),")"),marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"};var r},l=(i(r={},1,14114),i(r,3,14074),i(r,4,14268),r)},988874:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(656226),o=n(905031),i=n(908390),a=n(91885),l=n(477802),c=n(826067),s=n(609500),u=n(444445),d=n(515198),p=function(e){return null!=e&&e.shop_source||["product_pins","shopping_list"].includes(null==e?void 0:e.story_type)?"ShoppingDynamicHeightGrid":"StoryFeedNonProduct"};function f(e){var t,n,f,_=(0,c.mB)((0,s.useLocation)().search).pins_display,h=e.component,m=e.slotIndex,y=e.item,v=e.story,g=e.surface,b=e.view,P=e.viewParameter,w=(0,o.Z)()?u.tG:u.yF;if(!y)return null;var S=v||{},x=S.story_type,O=S.id,A=S.content_ids,j=S.display_options,E=((null==j?void 0:j.content_display)||{}).pins_display,T=y.id,I=y.debug,C=![3,1].includes(null!=E?E:Number(_)),D={story_type:x,story_id:O,content_ids:A},R=(0,d.jsxs)(i.xu,{"data-test-id":a.Kb,children:[(0,d.jsx)(r.default,{pin:y,pinId:T,pinImageCrop:C?{height:w,width:w}:null,authDesktopSurface:g||p(v),impressionData:D,auxData:D,componentType:null!==(t=null==v||null===(n=v.display_options)||void 0===n||null===(f=n.content_display)||void 0===f?void 0:f.component_type)&&void 0!==t?t:h,slotIndex:m,viewData:{pin_id:T},viewParameter:P,viewType:b}),I&&(0,d.jsx)(l.W,{data:I})]});return C?(0,d.jsx)(i.xu,{flex:"none",width:w,children:R},T):R}},36546:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(76911),o=n(992061),i=n(898781),a=n(215292),l=n(349700),c=n(908390),s=n(515198);function u(e){var t=e.color,n=e.fullName,r=e.size,u=e.src,d=(0,i.ZP)();return(0,s.jsx)(a.q,{children:function(e){var i=e.hovered,a=e.onMouseEnter,p=e.onMouseLeave;return(0,s.jsx)(c.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:a,onMouseLeave:p,children:(0,s.jsxs)(c.zd,{height:r,rounding:"circle",width:r,wash:!0,children:[(0,s.jsx)(o.Z,{hovered:i,rounding:"circle"}),(0,s.jsx)(c.Ee,{naturalHeight:r,naturalWidth:r,src:u,color:t,alt:(0,l.nk)(d._('Logo of {{ fullName }}', 'itemRep.userRep.brandLogo', 'Alt text for the brand logo'),{fullName:n}).join("")})]})})}})}var d=function(e){var t=e.name;return(0,s.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:(0,s.jsxs)(c.xv,{inline:!0,weight:"bold",children:[t.toUpperCase()+" ",(0,s.jsx)(c.JO,{accessibilityLabel:"Pin",color:"shopping",icon:"check-circle",inline:!0})]})})},p=n(444445),f=n(608760),_=function(e){var t=e.item,n=void 0===t?{}:t,r=e.imagePlaceholderColor,o=void 0===r?f.hK:r,i=n.username,a=n.image_large_url,l=n.full_name;return(0,s.jsxs)(c.xu,{width:p.yF,children:[(0,s.jsx)(c.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,s.jsx)(u,{size:120,fullName:l||i,src:a||"",color:o})}),l&&(0,s.jsx)(d,{name:l})]})};function h(e){var t=e.height,n=e.width,r=e.src;return(0,s.jsx)(c.xu,{height:t,width:n,children:(0,s.jsx)(c.Ee,{naturalHeight:t,naturalWidth:n,src:r,color:"lightGray",fit:"cover",alt:""})})}var m=.4*p.yF,y=.75*p.yF;function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b,P=function(e){var t,n,r=e.item,o=void 0===r?{}:r,i=e.story,a=o.username,l=o.image_large_url,f=o.full_name,_=o.id,g=v((null==i||null===(t=i.custom_properties)||void 0===t||null===(n=t.preview_image_map)||void 0===n?void 0:n[_])||[],2),b=g[0],P=void 0===b?"":b,w=g[1],S=void 0===w?"":w;return(0,s.jsxs)(c.xu,{flex:"none",width:p.yF,height:p.yF,children:[(0,s.jsx)(c.zd,{rounding:4,height:y,width:p.yF,wash:!0,children:(0,s.jsxs)(c.kC,{children:[(0,s.jsx)(h,{height:p.yF,width:p.yF/2,src:P}),(0,s.jsx)(c.xu,{color:"default",width:2}),(0,s.jsx)(h,{height:p.yF,width:p.yF/2,src:S})]})}),(0,s.jsx)(c.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,s.jsx)(u,{size:m,src:l||"",color:"gray",fullName:f||a})}),f&&(0,s.jsx)(d,{name:f})]})},w=function(e){var t,n,r,o=e.item,i=void 0===o?{}:o,a=e.story,l=e.imagePlaceholderColor,_=void 0===l?f.hK:l,v=i.username,g=i.image_large_url,b=i.full_name,P=i.id,w=(null==a||null===(t=a.custom_properties)||void 0===t||null===(n=t.preview_image_map)||void 0===n||null===(r=n[P])||void 0===r?void 0:r[0])||"";return(0,s.jsxs)(c.xu,{width:p.yF,height:p.yF,children:[(0,s.jsx)(c.zd,{rounding:4,height:y,width:p.yF,wash:!0,children:(0,s.jsx)(h,{height:p.yF,width:p.yF,src:w})}),(0,s.jsx)(c.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,s.jsx)(u,{size:m,src:g||"",color:_,fullName:b||v})}),b&&(0,s.jsx)(d,{name:b})]})},S=n(407043),x=n(609500),O=n(366428);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=(E(b={},5,_),E(b,1,w),E(b,2,P),b);function I(e){var t,n,o=(0,S.v)().logContextEvent,i=(0,x.useHistory)(),a=e.story,l=void 0===a?{}:a,u=e.slotIndex,d=e.component,p=e.view,f=e.viewParameter,_=e.item,h=(null===(t=l.display_options)||void 0===t||null===(n=t.item_view_rep_style)||void 0===n?void 0:n.user_rep_style)||5,m=T[h],y=(0,r.useMemo)((function(){return{story_type:l.story_type,story_id:l.id,content_ids:l.content_ids,user_id:_.id}}),[_,l]),v=(0,O.Z)({contextLogData:y,impressionType:"User",loggingId:_.id,objectIdStr:_.id,slotIndex:u,viewParameter:f,viewType:p});return m?(0,s.jsx)(c.iP,{ref:v,onTap:function(){o({event_type:101,view_type:p,view_parameter:f,component:d,aux_data:y}),i.push("/".concat(_.username))},children:(0,s.jsx)(m,j({},e))}):null}},87165:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var r=n(908390),o=n(444445),i=n(515198);function a(){return(0,i.jsx)(r.xu,{width:o.yF})}function l(e){return new Array(e).fill().map((function(e,t){return(0,i.jsx)(a,{},t)}))}},43485:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(316743),o=n(557115),i=n(988874),a=n(704115),l=n(760693),c=n(478144),s=n(829407),u=n(436395),d=n(908390),p=n(407043),f=n(609500),_=n(507264),h=n(515198);var m=n(36546);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={board_more_ideas_feed_upsell:o.Z,pin:i.Z,user:m.Z,explorearticle:r.Z,productgroup:function(e){var t=(0,p.v)().logContextEvent,n=(0,u.Z)().data,r=(0,f.useLocation)().search,o=(0,a.Z)(r).pin?"pdp":"profile",i=null==n?void 0:n.username,m=(0,_.N0)();if((0,s.Z)((function(){l.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.item.id,source:o,groupType:e.item.group_type,componentType:13698},t)})),!i)return null;var y="/".concat(i,"/_shop/").concat(e.item.id,"/");return(0,h.jsx)(d.iP,{onTap:function(){l.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.item.id,source:o,groupType:e.item.group_type,componentType:13698,index:e.slotIndex},t)},href:y,role:"link",children:(0,h.jsx)(c.Z,{productGroup:e.item,showControls:m})})}};function b(e){var t=e.item;if(null==t||!t.type||"story"===t.type&&!(t.type in g))return null;var n=g[t.type];return(0,h.jsx)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}},643897:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),o=n(608760),i=n(515198),a=new Map([["pin",4]]);function l(e){var t=e.children,n=e.itemType;return(0,i.jsx)(r.xu,{marginBottom:a.get(n)||o.mT,children:t})}},608760:function(e,t,n){"use strict";n.d(t,{g5:function(){return a},hK:function(){return o},mT:function(){return i}});var r=n(988874),o="lightGray",i=8,a={itemRep:r.Z,shape:"square",getImage:function(){return""}}},563886:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(76911),o=n(754320),i=n(435497),a=n(239062),l=n(580326),c=n(782975),s=n(848385),u=n(43485),d=n(751191),p=n(905031),f=n(605706),_=n(390598),h=n(676302),m=n(503390),y=n(50286),v=n(444445),g=n(547560),b=n(908390),P=n(455024),w=n(515198);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=new Set([3,4]),T=new Set([1]),I=function(e){var t=e.text,n=e.url;return Boolean(t)&&Boolean(n)},C=function(e){return I(e)&&E.has(e.location)},D=function(e){return I(e)&&T.has(e.location)};function R(e){var t,n,S,O,j,E,T,I,R,k,z,L=e.componentFallback,M=e.initialSlotIndex,N=void 0===M?0:M,B=e.story,F=e.surface,Z=e.view,U=e.viewParameter,G=B.title,V=B.objects,H=B.id,W=void 0===H?"":H,K=B.action,Y=B.story_type,X=A((0,r.useState)(0),2),q=X[0],J=X[1],$=(0,r.useRef)(null),Q=(0,p.Z)(),ee=(0,y.HG)(),te=(0,f.Z)();if(!Array.isArray(V))return null;var ne=null!==(t=null===(n=B.display_options)||void 0===n||null===(S=n.content_display)||void 0===S?void 0:S.component_type)&&void 0!==t?t:L,re=1===(null===(O=B.display_options)||void 0===O?void 0:O.carousel_fade_ends),oe=V,ie=oe.length,ae={index:q,carousel_slots:oe},le=null!=K?K:{},ce=le.text,se=le.url,ue={backgroundColor:"default",hoverColor:"default",iconColor:"default"},de=null===(j=B.display_options)||void 0===j||null===(E=j.item_view_rep_style)||void 0===E?void 0:E.more_ideas_rep_style,pe=1===de,fe=m.k[de],_e=4===(null===(T=B.display_options)||void 0===T||null===(I=T.item_view_rep_style)||void 0===I?void 0:I.explore_article_rep_style),he=13698===(null===(R=B.display_options)||void 0===R||null===(k=R.content_display)||void 0===k?void 0:k.component_type),me=function(e){var t,n=e.isMoreIdeasListCard,r=e.isStyleBubble,o=e.isStorefrontSpotlightCarousel,i=e.isSfModuleOnMobile,a=e.isDesktop,l=e.isSmallMobileScreen,c=e.totalObjectCount,s=e.containerRef;return n?a?g.xR:1===c?(null===(t=s.current)||void 0===t?void 0:t.clientWidth)||0:l?g.wg:g.lf:r?h.u:o?_.Z.WIDTH:i?v.tG:v.yF}({containerRef:$,isMoreIdeasListCard:pe,isStyleBubble:_e,isStorefrontSpotlightCarousel:he,isSfModuleOnMobile:Q,isDesktop:ee,isSmallMobileScreen:te,totalObjectCount:ie}),ye=pe&&!ee,ve=!ee&&pe?8:v.oX,ge=oe.filter(Boolean),be=(0,P.tD)({slotWidth:me,containerWidth:(null===(z=$.current)||void 0===z?void 0:z.clientWidth)||0,gap:ve,numberOfSlides:ge.length,index:q});return(0,w.jsxs)(b.kC,{direction:"column",children:[G&&(0,w.jsx)(s.Z,{story:B,storyGraphqlRef:null}),(0,w.jsxs)(b.xu,{position:"relative",ref:$,marginBottom:ee?8:0,children:[!ye&&(0,w.jsx)(a.default,{backNode:(0,w.jsx)(d.Z,x(x({},ue),{},{showFab:!0,iconType:"back"})),carouselData:ae,carouselIndex:q,componentType:ne,forwardNode:(0,w.jsx)(d.Z,x(x({},ue),{},{showFab:!0,iconType:"forward"})),handleCarouselSwipe:function(e){J(e)},isShowingLastSlide:be,pinId:W,viewParameter:U,viewType:Z,contextLogData:de?{index:q}:{}}),(0,w.jsxs)(i.Z,{componentType:fe,containerRef:$,gap:ve,id:"structured-feed-carousel-module",impressionType:de?"BoardMoreIdeasRep":"Pin",index:q,shouldBeDragCarousel:ye,slideWidth:me,viewParameter:U,view:Z,children:[ge.map((function(e,t){var n;return(0,w.jsx)(u.Z,{isInViewOrNext:(0,P.Iw)({slotWidth:me,containerWidth:(null===(n=$.current)||void 0===n?void 0:n.clientWidth)||0,gap:ve,numberOfSlides:ge.length,index:t,currentIndex:q}),item:e,slotIndex:N+t,story:B,surface:F,view:Z,viewParameter:U},(0,c.Z)(e,t))})),K&&ce&&se&&C(K)&&(0,w.jsx)(o.Z,{contentIds:B.content_ids,buttonText:ce,url:se,storyId:B.id,storyType:Y,view:Z,viewParameter:U,component:ne})]}),re&&q>0&&(0,w.jsx)(b.xu,{height:"100%",position:"absolute",left:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}}),re&&!be&&(0,w.jsx)(b.xu,{height:"100%",position:"absolute",right:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}})]}),K&&D(K)&&(0,w.jsx)(b.xu,{marginTop:4,children:(0,w.jsx)(l.Z,{story:B})})]})}},580326:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.story.action||{},n=t.url,i=t.text;return 1===t.location&&n&&i?(0,o.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(r.zx,{text:i,role:"link",href:n})}):null}},848385:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r,o,i,a,l=n(116303),c=n(934494),s=n(941646),u=n(865607),d=n(407043),p=n(609500),f=n(908390),_=n(704217),h=n(515198),m=["storyGraphqlRef"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=(b(o={},1,"start"),b(o,2,"center"),o),w=(b(i={},1,"100"),b(i,2,"300"),i),S=(b(a={},1,"400"),b(a,3,"500"),b(a,2,"600"),a),x=new Set([2,4]),O=void 0!==r?r:r=n(34541);function A(e){var t,n,r=e.isNavigationHeader,o=e.showExpanded,i=void 0!==o&&o,a=e.view,c=e.viewParameter,_=e.storyData,m=(0,p.useHistory)(),y=(0,d.v)().logContextEvent,v=_.user||Object.freeze({}),g=v.fullName,b=v.isVerifiedMerchant,O=v.verifiedIdentityVerified,A=v.username,j=v.imageMediumUrl,E=g||_.titleFormat,T=_.action||Object.freeze({}),I=T.url,C=T.text,D=T.location,R=I||A||"",k=_.displayOptions||Object.freeze({}),z=k.headerDisplay||Object.freeze({}),L=i?z.expandedTextAlignment:z.textAlignment,M=P[L||1],N=P[z.subtitleAlignment||1],B=w[z.headerSize||1],F=S[z.headerSize||1],Z=function(e,t){return null!=e?e:t},U=Z(k.titleTextColor,"default"),G=(t=k.titleTextColor,n="default",null!=t?t:n),V=Z(k.subtitleTextColor,"subtle"),H=1===z.titlePosition,W=function(){return _.subtitleFormat?(0,h.jsx)(f.X6,{size:F,color:V,align:N,children:_.subtitleFormat}):null},K=r&&i,Y=(0,h.jsx)(f.X6,{accessibilityLevel:2,size:F,color:U,align:M,children:E});return(0,h.jsx)(f.xu,{marginBottom:K?0:4,children:(0,h.jsxs)(f.kC,{gap:{row:0,column:2},direction:"column",children:[H&&(0,h.jsx)(W,{}),(0,h.jsxs)(f.kC,{alignItems:"center",justifyContent:M,children:[A&&j&&(0,h.jsx)(l.Z,{name:A,size:"sm",src:j}),(0,h.jsxs)(f.xu,{marginStart:2,alignItems:"baseline",justifyContent:M,display:"flex",flex:i?void 0:"shrink",width:i?"100%":void 0,children:[R?(0,h.jsx)(s.Z,{id:"sf-header-heading",children:(0,h.jsx)(f.iP,{role:"link",href:R,onTap:function(){return e=R,y({component:k.contentDisplayComponentType,event_type:101,view_parameter:c,view_type:a}),void m.push("/".concat(e));var e},tapStyle:"compress",children:Y})}):Y,b&&(0,h.jsx)(f.xu,{marginStart:2,children:(0,h.jsx)(u.Z,{hasVerifiedIdentity:Boolean(O),isVerifiedMerchant:b,size:"xs"})})]}),x.has(D)&&I&&C&&(0,h.jsx)(f.xu,{marginStart:6,children:(0,h.jsx)(f.zx,{text:C,role:"link",href:I})})]}),!H&&(0,h.jsx)(W,{}),_.descriptionFormat?(0,h.jsx)(f.xv,{size:B,color:G,align:M,weight:"bold",children:_.descriptionFormat}):null]})})}var j=(0,c.Z)({useGraphQLAdapter:function(e){var t,n,r=(0,_.useFragment)(O,e),o=r.action,i=r.displayOptions,a=r.title,l=r.subtitle,c=r.description,s=r.user?{fullName:r.user.fullName,isVerifiedMerchant:r.user.isVerifiedMerchant,verifiedIdentityVerified:null===(t=r.user.verifiedIdentity)||void 0===t?void 0:t.verified,imageMediumUrl:r.user.imageMediumUrl,username:r.user.username}:null,u=i?{titleTextColor:i.titleTextColor,subtitleTextColor:i.subtitleTextColor,contentDisplayComponentType:null===(n=i.contentDisplay)||void 0===n?void 0:n.componentType,headerDisplay:i.headerDisplay}:null;return{user:s,titleFormat:null==a?void 0:a.format,subtitleFormat:null==l?void 0:l.format,descriptionFormat:null==c?void 0:c.format,action:o,displayOptions:u}},useLegacyAdapter:function(e){var t,n;if(!e)return null;var r=e.action,o=e.title,i=e.subtitle,a=e.description,l=e.display_options,c=e.user?{fullName:e.user.full_name,isVerifiedMerchant:e.user.is_verified_merchant,verifiedIdentityVerified:null===(t=e.user.verified_identity)||void 0===t?void 0:t.verified,imageMediumUrl:e.user.image_medium_url,username:e.user.username}:null,s=r?{url:r.url,text:r.text,location:r.location}:null,u=null!=l&&l.header_display?{expandedTextAlignment:l.header_display.expanded_text_alignment,textAlignment:l.header_display.text_alignment,subtitleAlignment:l.header_display.subtitle_alignment,headerSize:l.header_display.header_size,titlePosition:l.header_display.title_position}:null,d=l?{titleTextColor:l.title_text_color,subtitleTextColor:l.subtitle_text_color,contentDisplayComponentType:null===(n=l.content_display)||void 0===n?void 0:n.component_type,headerDisplay:u}:null;return{user:c,titleFormat:null==o?void 0:o.format,subtitleFormat:null==i?void 0:i.format,descriptionFormat:null==a?void 0:a.format,action:s,displayOptions:d}}});function E(e){var t=e.storyGraphqlRef,n=g(e,m);return(0,h.jsx)(j,{input:t?{enabled:!0,data:t}:{enabled:!1,data:n.story},children:function(e){var t=e.data;return t&&(0,h.jsx)(A,v(v({},n),{},{storyData:t}))}})}},896731:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return oe}});var r,o=n(563886),i=n(580326),a=n(316743),l=n(848385),c=n(988874),s=n(36546),u=n(608760),d=n(444445),p=n(908390),f=n(515198);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(){return(0,f.jsx)(p.xu,{height:d.yF,width:d.yF,color:"secondary"})},m=(_(r={},1,{itemRep:c.Z,deprecatedActionShape:"square",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),_(r,4,{itemRep:a.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),_(r,2,{itemRep:s.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){return e.image_large_url}}),r);var y=n(754320);var v,g=n(643897),b=n(905031),P=n(87165),w=n(681291);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="rgba(0, 0, 0, 0)",j=function(){return(0,f.jsx)(p.xu,{height:d.yF,width:d.yF,color:"secondary"})},E=(O(v={},1,{itemRep:c.Z,deprecatedActionShape:"square",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),O(v,4,{itemRep:a.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),O(v,2,{itemRep:s.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){return e.image_large_url}}),v);function T(e){var t,n,r,o,i,a,c=e.componentFallback,s=e.initialSlotIndex,_=void 0===s?0:s,h=e.isNavigationHeader,m=e.showExpanded,v=e.story,S=e.view,x=e.viewParameter,O=(null===(t=v.display_options)||void 0===t?void 0:t.content_display)||{},T=O.model_type,I=E[T]||u.g5,C=I.itemRep||j,D=v.action,R=(null===(n=v.action)||void 0===n?void 0:n.url)||"",k=null!==(r=null===(o=v.display_options)||void 0===o||null===(i=o.content_display)||void 0===i?void 0:i.component_type)&&void 0!==r?r:c,z=(null===(a=O.grid_layout)||void 0===a?void 0:a.rows)||1,L=(0,w.n)({items:v.objects||[],itemWidth:(0,b.Z)()?d.tG:d.yF,itemGap:d.oX,actionItemType:Boolean(D)?"one":void 0,numRows:z}),M=L.containerRef,N=L.itemsToRender,B=L.actionItem,F=h?function(e){var t=e.showExpanded,n=e.story;return n.objects&&n.expanded_viewport_objects?t?[n.expanded_viewport_objects]:n.objects:[]}({showExpanded:m,story:v}):N,Z=B&&I.deprecatedGetActionImage?I.deprecatedGetActionImage(B):void 0,U=h&&m;return(0,f.jsxs)(p.xu,{display:"flex",color:"default",alignItems:"stretch",justifyContent:"start",direction:"column",children:[v.title&&!U&&(0,f.jsx)(l.Z,{story:v,showExpanded:m,storyGraphqlRef:null}),(0,f.jsxs)(w.Z,{itemGap:d.oX,containerRef:M,rowAlignment:"center",numRows:z,children:[F.map((function(e,t){return(0,f.jsx)(g.Z,{itemType:"string"==typeof e.type?e.type:null,children:(0,f.jsx)(C,{component:k,imagePlaceholderColor:A,index:t,item:e,showExpandedHeader:h&&m,slotIndex:_+t,story:v,view:S,viewParameter:x})},t)})),!!R&&!(null==D||!D.text)&&(0,f.jsx)(y.Z,{contentIds:v.content_ids,buttonText:D.text,component:k,element:179,previewImageSrc:Z,shape:I.deprecatedActionShape,storyId:v.id,storyType:v.story_type,url:R,view:S,viewParameter:x}),!h&&(0,P.i)(12)]})]})}function I(e){var t,n,r,o,i=e.componentFallback,a=e.showExpanded,c=void 0===a||a,s=e.story,_=e.view,h=e.viewParameter,m=((null===(t=s.display_options)||void 0===t?void 0:t.content_display)||{}).model_type,y=(E[m]||u.g5).itemRep||j,v=null!==(n=null===(r=s.display_options)||void 0===r||null===(o=r.content_display)||void 0===o?void 0:o.component_type)&&void 0!==n?n:i,g=(0,b.Z)()?d.tG:d.yF;return(0,f.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[s.title&&(0,f.jsx)(l.Z,{story:s,showExpanded:c,storyGraphqlRef:null}),(0,f.jsx)(p.Rk,{columnWidth:g,renderItem:function(e){var t=e.data,n=e.itemIdx;return(0,f.jsx)(y,{component:v,imagePlaceholderColor:A,index:n,item:t,story:s,view:_,viewParameter:h},n)},gutterWidth:d.oX,items:s.objects||[],layout:"flexible"})]})}var C=n(76911),D=n(435497),R=n(239062),k=n(116303),z=n(477802),L=n(941646),M=n(898781),N=n(407043),B=n(609500),F=n(366428);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){var t=e.actionText,n=e.actionUrl,r=e.articleId,o=e.author,i=e.authorAvatar,a=e.component,l=e.contentIds,c=e.coverImage,s=e.debug,u=e.index,d=e.isFullWidth,_=void 0!==d&&d,h=e.onImageLoad,m=e.storyId,y=e.storyType,v=e.subtitle,g=e.title,b=e.view,P=e.viewParameter,w=e.width,S=e.windowWidth,x=(0,M.ZP)(),O=(0,B.useHistory)(),A=(0,N.v)().logContextEvent,j=Z((0,C.useState)(!1),2),E=j[0],T=j[1],I=(0,F.Z)({loggingId:r,objectIdStr:r,impressionType:"Article",contextLogData:{content_ids:l,story_id:m,story_type:y,article_id:r},slotIndex:u,viewParameter:P,viewType:b,componentType:a});return(0,f.jsx)(L.Z,{id:"sf-hero",children:(0,f.jsxs)(p.xu,{ref:I,width:w,height:"auto",onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},children:[(0,f.jsx)(p.iP,{onTap:function(){A({event_type:101,view_type:b,view_parameter:P,component:a,aux_data:{article_id:r,content_ids:l,story_id:m,story_type:y}}),O.push(n)},children:(0,f.jsxs)(p.xu,{height:_?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,f.jsx)(p.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:E?"scale(1.5)":"scale(1)"}},children:(0,f.jsx)(p.Ee,{src:c,alt:x._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",onLoad:h,fit:"cover",naturalHeight:400,naturalWidth:400,children:(0,f.jsx)(p.xu,{display:"block",height:"100%",width:"100%",color:"transparentDarkGray",opacity:.3})})}),(0,f.jsx)(p.xu,{width:"100%",position:"absolute",padding:6,marginBottom:_?12:0,bottom:!0,children:(0,f.jsxs)(p.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,f.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:E?"translateY(-20px)":"translateY(20px)"}},children:(0,f.jsx)(p.X6,{size:S<=822?"600":S<1e3?"400":S<1100?"500":"600",color:"light",children:g})}),(0,f.jsxs)(p.xu,{display:"block",height:E?"auto":20,overflow:"hidden",dangerouslySetInlineStyle:{__style:{opacity:E?1:0,transition:E?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},children:[(0,f.jsx)(p.xv,{color:"inverse",children:v}),o&&(0,f.jsx)(p.xu,{marginTop:4,children:(0,f.jsxs)(p.kC,{direction:"row",alignItems:"center",children:[(0,f.jsx)(k.Z,{size:"md",src:i,name:o}),"",(0,f.jsx)(p.xv,{color:"inverse",children:o})]})})]}),(0,f.jsx)(p.xu,{width:"74px",marginTop:4,children:(0,f.jsx)(p.zx,{color:"white",size:"lg",onClick:function(){O.push(n)},text:t})})]})})]})}),void 0!==s&&(0,f.jsx)(z.Z,{data:s})]})})},V=n(751191);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t,n=e.onImageLoad,r=e.story,o=e.view,i=e.viewParameter,a=e.component,l=e.width,c=H((0,C.useState)(0),2),s=c[0],u=c[1],d=(0,C.useRef)(null),_=(null===(t=r.objects)||void 0===t?void 0:t.slice(0,3))||[],h={index:s,carousel_slots:_.map((function(e){return{id:e.id}}))};return(0,f.jsxs)(p.xu,{position:"relative",display:"flex",width:l,height:400,justifyContent:"center",alignItems:"end",ref:d,children:[(0,f.jsx)(D.Z,{id:r.id,index:s,slideWidth:l,containerRef:d,children:_.map((function(e,t){var c,s,u,d,p;return(0,f.jsx)(G,{actionText:(null===(c=e.action)||void 0===c?void 0:c.text)||"",actionUrl:(null===(s=e.action)||void 0===s?void 0:s.url)||"",articleId:e.id,coverImage:e.cover_images&&(null===(u=e.cover_images[0].originals)||void 0===u?void 0:u.url)||"",debug:e.debug,onImageLoad:n,storyId:r.id,storyType:r.story_type,subtitle:(null===(d=e.subtitle)||void 0===d?void 0:d.format)||"",title:(null===(p=e.title)||void 0===p?void 0:p.format)||"",index:t,isFullWidth:!0,view:o,viewParameter:i,component:a,width:l,windowWidth:l},e.id)}))}),(0,f.jsx)(p.xu,{display:"inlineBlock",height:"auto",position:"absolute",width:"60%",paddingY:5,children:(0,f.jsx)(R.default,{addEllipsis:!0,pinId:r.id,carouselIndex:s,carouselData:h,handleCarouselSwipe:function(e){u(e)},forwardNode:(0,f.jsx)(V.Z,{showFab:!0,iconType:"forward",iconColor:"inverse"}),backNode:(0,f.jsx)(V.Z,{showFab:!0,iconType:"back",iconColor:"inverse"})})})]})}function Y(e){var t,n=e.component,r=e.onImageLoad,o=e.story,i=e.view,a=e.viewParameter,l=e.windowWidth,c=(null===(t=o.objects)||void 0===t?void 0:t.slice(0,3))||[];return(0,f.jsxs)(C.Fragment,{children:[(0,f.jsx)(p.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:c[0].dominant_colors[0]}}}),c.map((function(e,t){var c,s,u,d,p;return(0,f.jsx)(G,{actionText:(null===(c=e.action)||void 0===c?void 0:c.text)||"",actionUrl:(null===(s=e.action)||void 0===s?void 0:s.url)||"",articleId:e.id,coverImage:e.cover_images&&(null===(u=e.cover_images[0].originals)||void 0===u?void 0:u.url)||"",debug:e.debug,index:t,onImageLoad:r,storyId:o.id,storyType:o.story_type,subtitle:(null===(d=e.subtitle)||void 0===d?void 0:d.format)||"",title:(null===(p=e.title)||void 0===p?void 0:p.format)||"",view:i,viewParameter:a,component:n,width:500,windowWidth:l},e.id)})),(0,f.jsx)(p.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:c[2].dominant_colors[0]}}})]})}var X,q=n(792182);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=(J(X={},90,o.Z),J(X,88,l.Z),J(X,89,i.Z),J(X,91,(function(e){var t,n;switch(null===(t=e.story.display_options)||void 0===t||null===(n=t.content_display)||void 0===n?void 0:n.pins_display){case 3:case 1:return(0,f.jsx)(I,x({},e));case 2:default:return(0,f.jsx)(T,x({},e))}})),J(X,101,(function(e){var t=e.component,n=e.pwtSurfaceContext,r=e.story,o=e.view,i=e.viewParameter,a=((0,q.Z)()||{}).width,l=function(){n&&n.markConstraintComplete("RenderHeroImages")},c=!a||a>822?3:1;return(0,f.jsx)(C.Fragment,{children:(0,f.jsx)(p.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:a,children:3===c?(0,f.jsx)(Y,{component:t,onImageLoad:l,story:r,windowWidth:a,view:o,viewParameter:i}):(0,f.jsx)(K,{component:t,onImageLoad:l,story:r,width:a,view:o,viewParameter:i})})})})),J(X,92,(function(e){var t,n=e.story,r=(0,B.useHistory)(),o=n||{},i=o.user,a=o.custom_properties,l=o.action,c=i||{},s=c.full_name,u=c.username,_=c.image_medium_url,h=s||(null===(t=n.title)||void 0===t?void 0:t.format)||"",m=l||{},y=m.url,v=m.text,g=(a||{}).image;if(!y||!v)return null;var b=(0,f.jsxs)(p.xu,{height:"100%",padding:2,display:"flex",justifyContent:"center",alignItems:"center",color:"transparentDarkGray",position:"relative",children:[u&&_&&(0,f.jsx)(p.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,f.jsx)(k.Z,{name:u,size:"sm",src:_})}),h&&(0,f.jsx)(p.xv,{color:"inverse",weight:"bold",children:h})]});return(0,f.jsxs)(p.xu,{marginBottom:4,width:d.yF,children:[(0,f.jsx)(p.iP,{onTap:function(){return r.push(y)},children:(0,f.jsx)(p.zd,{rounding:2,wash:!0,height:d.yF,children:"string"==typeof g&&g?(0,f.jsx)(p.Ee,{naturalHeight:d.yF,naturalWidth:d.yF,src:g,fit:"contain",alt:h,children:b}):(0,f.jsx)(p.xu,{width:d.yF,height:d.yF,children:b})})}),(0,f.jsx)(p.xu,{marginTop:3,children:(0,f.jsx)(p.zx,{fullWidth:!0,text:v,role:"link",href:y})})]})})),J(X,131,(function(e){var t,n,r,o,i,a=e.componentFallback,c=e.showExpanded,s=void 0===c||c,d=e.story,_=e.view,y=e.viewParameter,v=((null===(t=d.display_options)||void 0===t?void 0:t.content_display)||{}).model_type,g=(m[v]||u.g5).itemRep||h,b=null!==(n=null===(r=d.display_options)||void 0===r||null===(o=r.content_display)||void 0===o?void 0:o.component_type)&&void 0!==n?n:a;return(0,f.jsx)(p.xu,{marginBottom:2,children:(0,f.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"center",direction:"column",children:[d.title&&(0,f.jsx)(l.Z,{story:d,showExpanded:s,storyGraphqlRef:null}),(0,f.jsx)(p.kC,{wrap:!0,gap:2,justifyContent:"center",children:null===(i=d.objects)||void 0===i?void 0:i.map((function(e,t){return(0,f.jsx)(g,{component:b,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:t,item:e,story:d,view:_,viewParameter:y},t)}))})]})})})),X);var Q=new Set([101]);function ee(e){return Q.has(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){var t,n,r=e.componentFallback,o=e.story,i=e.view,a=e.viewParameter,l=e.width,c=e.initialSlotIndex,s=o.id,u=o.story_type,d=o.display_options,_=o.container_type,h=o.content_ids,m=null!==(t=null==d||null===(n=d.content_display)||void 0===n?void 0:n.component_type)&&void 0!==t?t:r,y=(0,F.Z)({componentType:m,contextLogData:{story_id:s,story_type:u,content_ids:h},impressionType:"Story",loggingId:s,slotIndex:c||0,viewParameter:a,viewType:i}),v=function(e){return $[e]||null}(_);return v?(0,f.jsx)(p.xu,{ref:y,width:ee(_)?void 0:l,children:(0,f.jsx)(v,ne(ne({},e),{},{component:m}))}):null}},605706:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),o=n(50286);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){var e=i((0,r.useState)(!1),2),t=e[0],n=e[1],a=(0,o.HG)();return(0,r.useEffect)((function(){!a&&window.innerWidth<320&&n(!0)}),[a,n]),t}},782975:function(e,t,n){"use strict";function r(e,t){var n,r="".concat(e.type||""," ").concat(t.toString());switch(e.type){case"pin":return e.title||r;case"user":return e.username||r;case"explorearticle":return(null===(n=e.title)||void 0===n?void 0:n.format)||r;case"story":return e.id||r;default:return r}}n.d(t,{Z:function(){return r}})},905031:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(792182),o=n(444445);function i(){return((0,r.Z)()||{width:0}).width<2*o.yF+o.$H}},41233:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(221263),o=n(937330);function i(e){var t,n=e.action,i=e.board,a=e.viewer;return(0,r.Z)(a,i)||(0,o.Z)({board:i,viewer:a})&&!(null===(t=i.collaborator_permissions)||void 0===t||!t.includes(n))}},221263:function(e,t,n){"use strict";function r(e,t){var n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:function(){return r}})},937330:function(e,t,n){"use strict";function r(e){var t=e.board,n=e.viewer,r=t.collaborated_by_me;return Boolean(n.isAuth&&r)}n.d(t,{Z:function(){return r}})},4294:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(221263),o=n(937330);function i(e){var t=e.board,n=e.viewer;return(0,r.Z)(n,t)||(0,o.Z)({board:t,viewer:n})}},834911:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(835209),o=n(341732);function i(e){var t=e.carouselData,n=e.images,i=e.richMetadata,a=e.richSummary,l=e.shouldUnifyImageSizes,c=e.additionalImages,s=(0,r.Z)({richPinData:i||a});return s&&c&&c.length>0?(0,o.Z)(null,c,t&&t.index,l,s.id):s&&s.additional_images&&s.additional_images.length>0?(0,o.Z)(n,s.additional_images,t&&t.index,l,s.id):t||void 0}},737022:function(e,t,n){"use strict";function r(e){return e?e["564x"]&&e["564x"].url?e["564x"]:e["736x"]&&e["736x"].url?e["736x"]:e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null:null}n.d(t,{Z:function(){return r}})},687551:function(e,t,n){"use strict";function r(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,{Z:function(){return r}})},341732:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return u}});var c=["236x","474x","564x","736x"];function s(e){function t(e,t){var n=t.imageKey,r=t.height,a=t.width;return e.images&&e.images[n]&&(e=o(o({},e),{},{images:o(o({},e.images),{},i({},n,o(o({},e.images[n]),{},{height:r,width:a})))})),e}var n=c.map((function(t){var n=Math.min.apply(Math,a(e.map((function(e){return e.images&&e.images[t]&&e.images[t].height||1/0})))),r=Math.min.apply(Math,a(e.map((function(e){return e.images&&e.images[t]&&e.images[t].width||1/0}))));return{imageKey:t,height:n,width:r}}));return e.map((function(e){return n.reduce(t,e)}))}function u(e,t,n,r,o){var i=(null==t?void 0:t.map((function(e){return{images:e.canonical_images||void 0,image_signature:e.image_signature||void 0}})))||[],l=e?[{images:e}].concat(a(i)):i;return{carousel_slots:r?s(l):l,index:n||0,id:o}}},47170:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(768559),o=n(558068),i=n(609500);function a(e){var t,n,a=(0,i.useLocation)(),l=(0,o.Hv)().previous;return(0,r.Z)({boardUrl:null===(t=e.board)||void 0===t?void 0:t.url,callToCreateSourcePinId:e.call_to_create_source_pin_id,location:a,pinId:e.id,pinnerUserName:null===(n=e.pinner)||void 0===n?void 0:n.username,previousHistory:l,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map})}},827896:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(768559),o=n(350118),i=n(609500);function a(){var e=(0,o.S6)(),t=(0,i.useLocation)();return function(n,o){var i,a=e(n);if(null!=o&&o.shouldTrackForPrevLocation){var l=(null==a?void 0:a.tracking_params_map)||{},c=Object.keys(l).find((function(e){return"PinResource"!==e}));a&&(i=c?l[c]:l.PinResource)}else if(a){var s,u;i=(0,r.Z)({boardUrl:null===(s=a.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:a.call_to_create_source_pin_id,location:t,pinId:a.id,pinnerUserName:null===(u=a.pinner)||void 0===u?void 0:u.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map})}return i}}},451820:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},k:function(){return r}});var r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"},o=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}};function i(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=o(n);r&&(i.timeZone="UTC");var a=new Intl.DateTimeFormat(e,i);return a.format(t)}},81226:function(e,t,n){"use strict";function r(e){var t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:function(){return r}})},402201:function(e,t){"use strict";t.Z=function(e){var t=(null==e?void 0:e.width)||580,n=(null==e?void 0:e.height)||400,r=[window.screen.width,window.screen.height],o=r[0],i=r[1];return["scrollbars=yes","resizable=yes","toolbar=no","location=yes","width=".concat(t),"height=".concat(n),"left=".concat(Math.round((o-t)/2)),"top=".concat(i>n?Math.round((i-n)/2):0)].join(",")}},572551:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(76911),o=n(319915),i=n(757184),a=n(317254),l=n(463076);function c(e){for(var t=e.isRTL,n=e.maxItemWidth,r=void 0===n?300:n,o=e.maxColumns,i=void 0===o?16:o,a=e.minColumns,l=void 0===a?2:a,c="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ".concat(i*r,"\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ").concat(i*r,"px) {\n  .gridCentered .static:nth-child(-n+").concat(i,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+").concat(i,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ").concat(r,"px !important;\n  }\n}\n"),s=l;s<i+1;s+=1){c+="\n@media (min-width: ".concat(s===l?0:(s-1)*r,"px) and (max-width: ").concat(s*r-1,"px) {\n  .gridCentered .static:nth-child(-n+").concat(s,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ").concat(s,") !important;\n  }\n}\n")}return c}var s=n(391254),u=n(773285),d=n(780280),p=n(444445),f=n(908390),_=n(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=P(i);function i(){return v(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getGutters",value:function(){var e=this.props,t=e.gutterWidth,n="simplified"===e.paddingStyle,r=n?p.oX:t,o=n?16:6;return{gutterWidth:null!=r?r:p.ZZ,paddingBottom:o}}},{key:"render",value:function(){var e,t=this.props,n=t.columnWidth,r=t.flexible,o=t.isGridCentered,i=t.isRTL,a=t.items,u=t.layout,d=t.loadItems,h=t.masonryRef,m=t.measurementStore,y=t.minCols,v=t.renderItem,g=t.scrollContainerRef,b=t.serverRender,P=t.virtualize,w=t.virtualBufferFactor,S=this.getGutters(),x=S.gutterWidth,O=S.paddingBottom,A=b?"serverRenderedFlexible":"flexible";o&&(e="gridCentered");var j=function(){return(null==g?void 0:g.current)||window};return(0,_.jsxs)("div",{className:e,children:[b&&(0,_.jsx)(s.Z,{unsafeCSS:r?c({isRTL:i,maxItemWidth:(n||p.yF)+x,maxColumns:a.length||p.g5,minColumns:y||p.yc}):(0,l.Z)({isRTL:i,itemWidth:(n||p.yF)+x,maxColumns:a.length||p.g5,minColumns:y||p.yc})}),(0,_.jsx)(f.Rk,{columnWidth:(null!=n?n:p.yF)+x,gutterWidth:0,renderItem:function(e){return(0,_.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:O,paddingLeft:x/2,paddingRight:x/2}},children:v(e)})},items:a,layout:r?A:null!=u?u:"basic",loadItems:d,measurementStore:m,minCols:y,ref:function(e){h&&(h.current=e)},scrollContainer:j,virtualize:P,virtualBufferFactor:w})]})}}])&&g(t.prototype,n),r&&g(t,r),i}(r.Component);function A(e){var t,n=(0,d.B)().isRTL,r=null!==(t={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[(0,(0,u.F)().checkExperiment)("web_masonry_virtual_buffer_factor").group])&&void 0!==t?t:.7;return(0,_.jsx)(O,y(y({},e),{},{isRTL:n,virtualBufferFactor:r}))}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}x(O,"defaultProps",{gutterWidth:p.ZZ,isGridCentered:!0,minCols:p.yc,paddingStyle:"simplified",virtualize:!0});var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(l,e);var t,n,r,a=C(l);function l(){var e;E(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return z(R(e=a.call.apply(a,[this].concat(n))),"loadItems",(function(){var t=e.props,n=t.isFetching,r=t.loadItems;!n&&r&&r()})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.cacheKey,n=e.columnWidth,r=e.flexible,a=e.gutterWidth,l=e.isGridCentered,c=e.items,s=e.layout,u=e.masonryRef,d=e.minCols,p=e.paddingStyle,f=e.renderItem,h=e.scrollContainerRef,m=e.serverRender,y=e.virtualize;return(0,_.jsx)(A,{columnWidth:n,flexible:r,gutterWidth:a,isGridCentered:l,renderItem:function(e){return(0,_.jsx)(o.Z,{name:"MasonryPerfTimingItem",children:f(e)})},items:c,layout:s,loadItems:this.loadItems,masonryRef:u,measurementStore:(0,i.Z)(t),minCols:d,paddingStyle:p,scrollContainerRef:h,serverRender:m,virtualize:y})}}])&&T(t.prototype,n),r&&T(t,r),l}(r.Component);function M(e){var t=e.cacheKey,n=e.columnWidth,r=e.flexible,o=e.gutterWidth,i=e.isAtEnd,l=e.isFetching,c=e.isGridCentered,s=void 0===c||c,u=e.renderItem,d=e.items,p=e.pinData,f=e.layout,h=e.loadItems,m=e.masonryRef,y=e.minCols,v=e.paddingStyle,g=e.scrollContainerRef,b=e.serverRender,P=void 0===b||b,w=e.virtualize,S=void 0===w||w,x=e.includeBackgroundImages,O=e.includeVideos;return(0,_.jsx)(a.Z,{isAtEndOfFeed:i,pinData:p,itemCount:d.length,includeBackgroundImages:x,includeVideos:O,children:(0,_.jsx)(L,{cacheKey:t,columnWidth:n,flexible:r,gutterWidth:o,isFetching:l,isGridCentered:s,items:d,layout:f,loadItems:h,masonryRef:m,minCols:y,paddingStyle:v,renderItem:u,scrollContainerRef:g,serverRender:P,virtualize:S})})}},757184:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),o={};function i(e){if(null!=e)return o[e]&&o[e].screenWidth===window.innerWidth||(o[e]={screenWidth:window.innerWidth,cache:r.Rk.createMeasurementStore()}),o[e].cache}},463076:function(e,t,n){"use strict";function r(e){for(var t=e.isRTL,n=e.itemWidth,r=void 0===n?236:n,o=e.maxColumns,i=void 0===o?16:o,a=e.minColumns,l=void 0===a?2:a,c="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n",s=l;s<i+1;s+=1){c+="\n@media (min-width: ".concat(s===l?0:s*r,"px) and (max-width: ").concat((s+1)*r-1,"px) {\n  .gridCentered {\n    width: ").concat(s*r,"px;\n  }\n  .gridCentered .static:nth-child(-n+").concat(s,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n}\n")}return c}n.d(t,{Z:function(){return r}})},934494:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(995228),o=n(515198);function i(e){var t=e.useGraphQLAdapter,n=e.useLegacyAdapter,i=function(e){var n=e.children,r=e.data;return n({enabled:!0,data:t(r)})},a=function(e){var t=e.children,r=e.data;return t({enabled:!1,data:n(r)})};return function(e){var t=e.children,n=e.input,l=n.enabled?(0,o.jsx)(i,{data:n.data,children:t}):(0,o.jsx)(a,{data:n.data,children:t});return n.suspense?(0,o.jsx)(r.Z,{fallback:n.suspense.fallback,children:l}):l}}},694379:function(e,t,n){"use strict";var r=n(892819),o=n(780280),i=n(515198);t.Z=function(e){var t=e.currency,n=e.maximumFractionDigits,a=e.minimumFractionDigits,l=e.shortform,c=e.shortformMaximumFractionDigits,s=e.formatStyle,u=e.uplimit,d=e.value,p=(0,r.Z)();return(0,i.jsx)(o.LC,{children:function(e){return p(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:n,minimum_fraction_digits:a,shortform:l,shortform_maximum_fraction_digits:c,style:s,uplimit:u})}})}},892819:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(66699),o=n(898781);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){var n=t||0,r=Math.pow(10,n),o=+(n?e*r:e).toFixed(8),i=Math.floor(o),a=o-i,l=a>.5-1e-8&&a<.5+1e-8?i%2==0?i:i+1:Math.round(o);return n?l/r:l},s=function(e){try{(0).toLocaleString([e])}catch(t){return!1}return!0};function u(){var e=(0,o.ZP)();return function(t,n,o){var i=0,l=0,u=o&&o.style||void 0,d=o&&o.shortform||!1,p=o&&o.uplimit||void 0,f=o&&o.currency||void 0,_=!!p&&n>=p,h=p&&_?p:n;if("currency"===u){var m=function(e,t){if(t){var n=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions(),r=n.minimumFractionDigits,o=n.maximumFractionDigits;if(void 0!==r&&void 0!==o)return{minimumFractionDigits:r,maximumFractionDigits:o}}return{minimumFractionDigits:2,maximumFractionDigits:2}}(t,f),y=m.minimumFractionDigits,v=m.maximumFractionDigits;i=void 0===o||void 0===o.maximum_fraction_digits?v:o.maximum_fraction_digits,l=void 0===o||void 0===o.minimum_fraction_digits?y:o.minimum_fraction_digits}else i=void 0===o||void 0===o.maximum_fraction_digits?0:o.maximum_fraction_digits,l=void 0===o||void 0===o.minimum_fraction_digits?0:o.minimum_fraction_digits;if(d&&h>999&&(i=void 0===o||void 0===o.shortform_maximum_fraction_digits?2:o.shortform_maximum_fraction_digits,l=0),i<l)return String(h);var g=h,b="",P=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],w=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],S=/^zh|ja|ko/.test(t);if(d&&h>999)for(var x=S?P:w,O=0;O<x.length;O+=1){var A=Object.keys(x[O])[0],j=x[O][A].value;if(h>=j){g=c(h/j*Math.pow(10,i))/Math.pow(10,i),b=x[O][A].localeKey;break}}if(null==g)return"";var E=g.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],function(e){var t=e.maximumFractionDigits,n=e.minimumFractionDigits,r=e.style,o=e.currency,i={maximumFractionDigits:t,minimumFractionDigits:n};return r?a(a({},i),{},{style:r},"currency"===r?{currency:o,currencyDisplay:"symbol"}:{}):i}({maximumFractionDigits:i,minimumFractionDigits:l,currency:f,style:u}));return b&&b.length>0?(0,r.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:E,numberSuffix:b})+(_?"+":""):E+(_?"+":"")}}},543972:function(e,t,n){"use strict";var r=n(76911);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,o,s=c(d);function d(){var e;i(this,d);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return p(u(e=s.call.apply(s,[this].concat(n))),"ref",(0,r.createRef)()),p(u(e),"observer",null),p(u(e),"handleVisibilityChanged",(function(t,n){e.props.onVisibilityChange(t,n)})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}])&&a(t.prototype,n),o&&a(t,o),d}(r.Component);t.Z=f},329734:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return o}});var r=n(506979);function o(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function i(){var e=(0,r.useSelector)((function(e){return e.experiences}));return!!e&&o(e)}},926275:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},539002:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(773285),o=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function i(e){var t=(0,r.F)().checkExperiment;t("sce_lightswitch_organic"),t("sce_lightswitch_monetized");var n=o[e];return function(){return t(n.organic).anyEnabled||t(n.monetized).anyEnabled}}},64446:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(605028);var o=n(341732),i=n(81226),a=n(898781),l=n(908390),c=n(515198);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},f={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function _(e){var t=e.backgroundColor,n=e.identifier,r=e.size,o="pine"===t?"#0FA573":"#fff",i="sm"===(void 0===r?"sm":r)?p:f;return(0,c.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:u(u({},i),{},{backgroundColor:t?o:"rgba(255, 255, 255, 0.8)",color:"pine"===t?"#fff":"#111"})},"data-test-id":"PinTypeIdentifier",children:n})}function h(e){var t=e.pin,n=e.size,s=void 0===n?"sm":n,u=e.allowProductCarousel,d=e.allowShoppingPriceIndicator,p=e.shoppingLabelColor,f=(0,a.ZP)(),h=(0,r.Z)(t);if(h.isGif)return _({identifier:"GIF",size:s});if(h.isStoryPin){var m=t.story_pin_data||{},y=m.page_count,v=void 0===y?0:y,g=m.total_video_duration,b=void 0===g?0:g,P=v.toString();return _(b>0?{identifier:P=(0,i.Z)(b),size:s}:{identifier:(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,c.jsx)(l.JO,{accessibilityLabel:f._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:"idea-pin",color:"default",size:"sm"===s?12:16})}),(0,c.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:P})]}),size:s})}if(h.isVideo){var w=t.videos,S=(w&&w.video_list&&w.video_list[Object.keys(w.video_list)[0]]||{}).duration,x=void 0===S?0:S;return _({identifier:(0,i.Z)(x),size:s})}if(h.isProduct){var O=t.rich_summary&&t.rich_summary.products&&t.rich_summary.products[0]&&t.rich_summary.products[0].offer_summary;if(d){var A=O&&(O.price||O.max_price);return A?_({identifier:A,size:s}):null}if(p){var j=function(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}(t)[0];return j?_({identifier:j,backgroundColor:p,size:s}):null}return null}if(u){var E=t.product_pin_data&&t.product_pin_data.items&&t.product_pin_data.items[0],T=E&&(0,o.Z)(t.images,E.additional_images,t.carousel_data&&t.carousel_data.index)||{},I=T.carousel_slots,C=void 0===I?[]:I,D=T.index;return _({identifier:"".concat((void 0===D?0:D)+1,"/").concat(C.length),size:s})}if(h.isCarousel){var R=t.carousel_data||{},k=R.carousel_slots,z=void 0===k?[]:k,L=R.index;return _({identifier:"".concat((void 0===L?0:L)+1,"/").concat(z.length),size:s})}return null}},55275:function(e,t,n){"use strict";n.d(t,{P:function(){return a},t:function(){return l}});var r=n(214494),o=function(){};var i={complaint:function(e,t){r.Z.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},followBoard:function(e,t){r.Z.create("BoardFollowResource",e).callCreate().then((function(){return t()}))},followPinner:function(e,t){r.Z.create("UserFollowResource",e).callCreate().then((function(){return t()}))},followTopic:function(e,t){r.Z.create("InterestFollowResource",e).callCreate().then((function(){return t()}))},newsHubPinHide:function(e,t){r.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((function(){return t()}))},promotedComplaint:function(e,t){r.Z.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},relatedPinHide:function(e,t){r.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((function(){return t()}))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){r.Z.create("BoardFollowResource",e).callDelete().then((function(){return t()}))},unfollowPinner:function(e,t){r.Z.create("UserFollowResource",e).callDelete().then((function(){return t()}))},unfollowTopic:function(e,t){r.Z.create("InterestFollowResource",e).callDelete().then((function(){return t()}))},unrelatedSearchPin:function(e,t){r.Z.create("SearchPinFeedbackResource",e).callUpdate().then((function(){return t()}))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=e?i[e]:null;return r?r(t,n):n()}},680046:function(e,t,n){"use strict";n.d(t,{EF:function(){return v},Iv:function(){return f},Ud:function(){return p},XZ:function(){return m},fJ:function(){return d},hP:function(){return u},nb:function(){return y},oK:function(){return _},yl:function(){return h}});var r=n(55275),o=n(760372),i=n(349700);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};function u(e){var t=e.boardFollowedByMe,n=e.feedbackType,r=e.viewParameter,o=e.promotion,i=e.recommendationReason,a=e.pinnerFollowedByMe;if(o&&!o.isDownstreamPromotion)return"promoted";if(n)return n;if(i){if("FOLLOWED_INTEREST"===i.reason)return"topic";if("FOLLOWING_FEED"!==i.reason&&"RECENT_FOLLOWED_BOARD"!==i.reason)return i.hasBoard?"pfyBoard":"pfy"}if(t||a)return"followed";switch(r){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";case 92:default:return"default"}}function d(e){var t=e.feedbackData,n=e.feedbackType,r=e.pinId,o=e.recommendationReasonId,i=e.pinFeedbackType,a=e.complaintReason,c=e.throughId,s=e.throughProperties,u=e.clientTrackingParams;switch(n){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==t?void 0:t.query,pin_id:r}};case"related":return{action:"relatedPinHide",actionOptions:{pin:r}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:r,newsId:null==t?void 0:t.newsId}};default:var d="promoted"===n;return{action:d?"promotedComplaint":"complaint",actionOptions:l(l(l(l({complaint_reason:a||0,pin_id:r},o?{recommendation_reason_id:o}:{}),{},{feedback_type:i||1,promoted:d},c?{through_id:c}:{}),s?{through_properties:s}:{}),u?{client_tracking_params:u}:{})}}}function p(e){var t,n,r,o,a,l,c,u,d=e.feedback,p=e.i18n,f=e.makeNavigateLink;switch(d.type){case"pfy":return p._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":var _=d.recommendationReasonBoard;return _?(0,i.nk)(p._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:f("navigation",_.url,_.name)}):null;case"topic":var h=d.sourceInterest;return h?(0,i.nk)(p._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:f("topicUrl","/topics/".concat(h.url_name),h.name)}):null;case"followed":var m=d.followed;return"pinner"===m.type?(0,i.nk)(p._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f("pinnerUrl","/".concat(null!==(t=null===(n=m.pinner)||void 0===n?void 0:n.username)&&void 0!==t?t:""),s(null!==(r=null===(o=m.pinner)||void 0===o?void 0:o.full_name)&&void 0!==r?r:""))}):(0,i.nk)(p._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:f("boardUrl",null!==(a=null===(l=m.board)||void 0===l?void 0:l.url)&&void 0!==a?a:"",s(null!==(c=null===(u=m.board)||void 0===u?void 0:u.name)&&void 0!==c?c:""))});case"promoted":if(d.promoter){var y=d.promoter,v=y.full_name,g=y.username,b=f("promotedLink",g?"/"+g+"/":"/",v);return(0,i.nk)(p._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:b})}return p._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:return null}}function f(e){var t,n,r=e.sourceInterest,a=e.i18n,l=e.makeNavigateLink;return{action:"unfollowTopic",actionOptions:{interest_id:r.id,interest_list:o.X},title:"",subTitle:(0,i.nk)(a._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l("topicUrl","/topics/".concat(null!==(t=r.url_name)&&void 0!==t?t:""),null!==(n=r.name)&&void 0!==n?n:"",!0)})}}function _(e){var t,n,r,o,a=e.boardId,l=e.display,c=e.i18n,s=e.makeNavigateLink;return{action:"unfollowBoard",actionOptions:{board_id:a},title:"",subTitle:"pinner"===l.type?(0,i.nk)(c._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:s("pinnerUrl","/".concat(null!==(t=l.data.username)&&void 0!==t?t:""),null!==(n=l.data.full_name)&&void 0!==n?n:"",!0)}):(0,i.nk)(c._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:s("boardUrl",null!==(r=l.data.url)&&void 0!==r?r:"",null!==(o=l.data.name)&&void 0!==o?o:"",!0)})}}function h(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function m(e){return null==e?void 0:e.through_properties}function y(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function v(e,t,n,o,i,a,c){return function(){var s=l(l({},e),{},{undo:!0}),u=t;"unfollowPinner"===t?u="followPinner":"unfollowBoard"===t?u="followBoard":"unfollowTopic"===t&&(u="followTopic"),(0,r.t)(u,s),a(n),c({event_type:101,component:0,element:11181,view_type:o,view_parameter:i})}}},205202:function(e,t,n){"use strict";function r(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:function(){return r}})},752802:function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=["564x","736x","orig","474x","236x"];t.Z=function(e){var t,r=e.images,i=void 0===r?{}:r,a=e.resolutionPreferences,l=n(void 0===a?o:a);try{for(l.s();!(t=l.n()).done;){var c=t.value;if(i[c]&&i[c].url)return i[c]}}catch(s){l.e(s)}finally{l.f()}return null}},248975:function(e,t,n){"use strict";function r(e){var t=e.embedSrc,n=e.embedType,r=e.images,o=e.preferredResolution;if(!t&&!n&&!r)return"";if("gif"===n)return t||"";var i=r;if(!i)return"";if(o){var a="474x"===o&&i["474x"]||"236x"===o&&i["236x"]||i["736x"];if(a&&a.url)return a.url}var l=Object.keys(i).map((function(e){try{var t=e.split("x")[0];return Number.isNaN(Number(t))?(i[t]=i[e],t):e}catch(n){return""}}));l.sort();var c=l.pop();return i[c]&&i[c].url||""}n.d(t,{Z:function(){return r}})},605028:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(687551),o=n(623568);function i(e){var t=e.access,n=e.attribution,i=e.embed,a=e.is_eligible_for_web_closeup,l=e.promoted_is_lead_ad,c=e.rich_summary,s=e.sponsorship,u=e.story_pin_data_id,d=e.videos,p={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};l&&(p.isLeadPin=!0),(0,r.Z)(e)&&(p.isCarousel=!0),a&&(p.isOneTap=!0),(0,o.iR)(d)&&(p.isVideo=!0);var f=i||n&&n.embed||null;return f&&"gif"===f.type&&(p.isGif=!0),c&&"product"===c.type_name&&(p.isProduct=!0),c&&"recipe"===c.type_name&&(p.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(p.isPromoted=!0),(t||[]).includes("write")&&(p.isOwnPin=!0),u&&(p.isStoryPin=!0),s&&(p.isSponsored=!0),p}},307061:function(e,t){"use strict";t.Z=function(e){return function(t){return null!=t?e(t):null}}},674915:function(e,t,n){"use strict";var r=n(307061),o=n(736688);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.Z)((function(e){var t=e.pin.videos||{},n=t.id,r=t.video_list,i=void 0===r?{}:r,l=i.V_720P,c=i.V_HLSV4,s=i.V_HLSV3_MOBILE,u=(0,o.V3)(c),d=(0,o.V3)(s),p=(0,o.V3)(l),f=p||u||d;return n&&f?a(a({},e),{},{video:{id:n,hasVideo:f,mp4:p||void 0,hls:u||void 0,hlsv3:d||void 0}}):null}));t.Z=c},976071:function(e,t,n){"use strict";function r(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:function(){return r}})},18857:function(e,t,n){"use strict";n.d(t,{G7:function(){return s},WE:function(){return c},l6:function(){return u},rh:function(){return l}});var r=n(27255),o=n(605028),i=n(66699),a=n(623568);function l(e,t,n,i){var l,c,s;if(!t.isAuth)return!1;var u=e.aggregated_pin_data,d=e.creator_analytics,p=e.public_creator_analytics,f=e.story_pin_data_id,_=e.videos,h=(0,a.Nc)(u,f,_)||(0,a.o)(d),m=(null===(l=e.board)||void 0===l?void 0:l.privacy)===r.Z.BoardPrivacy.PUBLIC,y=((null===(c=e.board)||void 0===c?void 0:c.privacy)===r.Z.BoardPrivacy.PROTECTED||m)&&!e.is_repin&&[t.id,i].includes(null===(s=e.pinner)||void 0===s?void 0:s.id),v=(0,o.Z)(e).isStoryPin;return h||t.isPartner&&y||function(e){return e.checkExperiment("web_ps4p").anyEnabled}(n)&&v&&y||(0,a.pU)(p)}function c(e,t,n,r,o,i){return e.isAuth&&t&&(n||r)&&!(null==o||!o.isLoaded)&&!i}function s(e,t){return(0,i.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function u(e,t){return(0,i.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}},802933:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){return e.pin&&e.pin.id?o(o({},e),{},{id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}):null}));t.Z=a},692627:function(e,t,n){"use strict";function r(e){var t=e.hasPin,n=e.hasPinRichMetadata,r=e.hasPinRichMetadataProducts,o=e.hasPinRichMetadataArticle,i=e.hasPinRichMetadataRecipe,a=e.hasPinStoryPinData;if(t){if(n)return r?144:o?141:i?145:139;if(a)return 157}return 140}n.d(t,{Z:function(){return r}})},336882:function(e,t){"use strict";t.Z={STARTED:1,FINISHED:2}},177471:function(e,t,n){"use strict";n.d(t,{k:function(){return k}});var r=n(76911),o=n(506979),i=n(214494),a=n(19121),l=n(414327),c=n(780280),s=["etsy","microsoft","twitter","google","instagram","youtube","dropbox"];function u(e){var t=e.network,n=e.data,r=e.requestContext;if(s.includes(t))return i.Z.create("UserSocialNetworkResource",{network:t,data:n}).callCreate();var o="/v3/connect/".concat(t,"/"),a=function(e,t,n){var r;switch(e){case"facebook":var o=n.facebookToken;r=t?{facebook_id:t.id,facebook_token:o}:Object.freeze({});break;case"gplus":r=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":r=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:r=Object.freeze({})}return r}(t,n,r);return i.Z.create("ApiResource",{url:o,data:a}).callUpdate()}var d=n(553171),p=n(124237),f=n(402201),_=n(572752),h=n(966113),m=n(83969),y=n(867820);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function x(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,l,"next",e)}function l(e){x(i,r,o,a,l,"throw",e)}a(void 0)}))}}var A="https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile";function j(){return(j=O(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Px)();case 2:(o=null===(n=window.google)||void 0===n||null===(r=n.accounts)||void 0===r?void 0:r.oauth2)&&o.initCodeClient({client_id:h.v3,scope:A,ux_mode:"popup",callback:t}).requestCode();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=Object.freeze({}),T=function(e){var t=e.network;if(E[t]){var n=E,r=n[t],o=r.error,i=r.success,a=r.complete,l=w(n,[t].map(S));E=b({},l),"error"===e.type?null==o||o(Object.freeze({})):i("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==a||a()}},I=function(e){var t=e.i18n,n=e.network,r=e.callbacks,o=e.requestContext;if(r=b({error:function(){},complete:function(){}},r),(0,y.My)("auth_web.social_connect.".concat(n,".").concat((0,_.Z)(o))),"gplus"===n||"google"===n)(0,y.My)("auth_web.social_connect.google.migration"),function(e){j.apply(this,arguments)}((function(e){r.success({one_time_code:e.code,redirect_uri:"postmessage"})}));else if("line"===n){var i=o.locale;(0,d.Z)(i,r)}else{var a=window.open("/connect/"+n+"/","",function(e){switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,f.Z)({width:580,height:580});case"etsy":return(0,f.Z)({width:580,height:775});case"youtube":return(0,f.Z)({width:605,height:640});default:return(0,f.Z)()}}(n));if(!a)return p.Z.showError(t._('You must enable popups!', ' - ', ' -- ')),void(r.error&&r.error(Object.freeze({})));var l=setInterval((function(){a.closed&&(clearInterval(l),T({network:n,type:"error"}))}),1e3);E=b(b({},E),{},P({},n,r))}};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.addEventListener("message",(function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin===t){var n=e.data;if(n&&"social-connect-complete"===n.type){var r=e.data;r.network&&T(r)}}}));var R=function(){function e(t){var n=t.invalidateResource,r=t.requestContext,o=t.viewer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getUserId=function(){return o.isAuth?o.id:""},this.getUsername=function(){return o.isAuth?o.username:""},this.isLimitedLogin=function(){return o.isLimitedLogin},this.invalidateResource=n,this.requestContext=r}var t,n,r;return t=e,(n=[{key:"handleConnect",value:function(e,t,n,r){var o=this,a=function(t){("connect"===t.type?u({network:e,data:t.data,requestContext:o.requestContext}):i.Z.create("ApiResource",{url:"/v3/connect/".concat(e,"/")}).callDelete()).then((function(e){var t,r={user_id:o.getUserId(),username:o.getUsername(),field_set_key:"social_connect"};o.invalidateResource("UserResource",r),i.Z.create("UserResource",r).callGet(),null===(t=n.success)||void 0===t||t.call(n,e)}),(function(e){var t;e&&"object"===C(e)&&(null===(t=n.error)||void 0===t||t.call(n,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((function(){var e;null===(e=n.complete)||void 0===e||e.call(n)}))};t?this.isLimitedLogin()?a({type:"connect"}):I({network:e,callbacks:{success:function(e){return a({type:"connect",data:e})},error:n.error,complete:n.complete},i18n:r,requestContext:this.requestContext}):a({type:"disconnect"})}}])&&D(t.prototype,n),r&&D(t,r),e}();function k(){var e=(0,o.useDispatch)(),t=(0,c.B)(),n=(0,a.Z)();return(0,r.useMemo)((function(){return new R({invalidateResource:function(t,n){return e((0,l.jB)(t,n))},requestContext:t,viewer:n})}),[e,t,n])}},553171:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(231486);var o=n(643913),i=n(226198),a=n(966113),l=n(696157),c=n(826067),s=n(844974);function u(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}var d="undefined"!=typeof window,p=d?"".concat(window.location.origin,"/oauth/line/redirect"):"",f=function(e){var t=e.origin,n=e.data;return n&&t===window.location.origin?String(n):null},_=function(e){var t=e.url,n=e.key;if(!t.startsWith(window.location.origin)||n!==l.MM)return null;var r=(0,s.qn)(l.MM);return(0,s.L_)(l.MM),r};function h(e,t){if(d){var n,l=function(){var e="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:5).fill("").map((function(){return e[Math.floor(Math.random()*e.length)]})).join("")}(10),s=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var u,d,h,m,y,v,g,b,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(u=a instanceof MessageEvent?f(a):_(a),!(d=(0,c.mB)(u)).state||!d.code||d.state!==l){e.next=26;break}return n&&!n.closed&&n.close(),e.prev=6,e.next=9,fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":"".concat(String(r.U2(i.fS)))},method:"POST",body:(0,o.Z)({code:d.code,redirect_uri:p})});case 9:return h=e.sent,e.next=12,h.json();case 12:m=e.sent,y=m.id_token,v=m.access_token,y&&v?t.success({line_id_token:y,line_access_token:v}):null===(g=t.error)||void 0===g||g.call(t,{message:"No tokens returned"}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),null===(b=t.error)||void 0===b||b.call(t,e.t0);case 20:return e.prev=20,n&&!n.closed&&n.close(),window.removeEventListener("message",s),window.removeEventListener("storage",s),null===(P=t.complete)||void 0===P||P.call(t),e.finish(20);case 26:case"end":return e.stop()}}),e,null,[[6,17,20,26]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return a.apply(this,arguments)}}();window.addEventListener("message",s),window.addEventListener("storage",s),n=window.open("https://access.line.me/oauth2/v2.1/authorize?response_type=code"+"&client_id=".concat(a.z)+"&redirect_uri=".concat(encodeURIComponent(p))+"&state=".concat(l)+"&ui_locales=".concat(e)+"&scope=profile%20openid%20email","_blank")}else{var h;null===(h=t.error)||void 0===h||h.call(t,{message:"Window is undefined"})}}},107193:function(e,t,n){"use strict";n.r(t);var r=n(336882),o=n(935879),i=n(713930),a=n(214494),l=n(966113),c=n(867820),s=!1,u=function(e){return e.isAuth&&!!e.facebookId&&!e.isLimitedLogin};t.default=function e(t,n){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",p=arguments.length>3?arguments[3]:void 0;p&&(0,c.dy)({event:"load_script_start",provider:"facebook"}),(0,i.Z)((0,o.Z)(d),"FACEBOOK").then((function(){p&&(0,c.dy)({event:"load_script_success",provider:"facebook"});var o=window.FB;o?(s||(p&&(0,c.dy)({event:"initialize_library",provider:"facebook"}),o.init({appId:l.GH,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(function(){u(n)&&e((function(e){if(e.getUserID()){var t=e.getAccessToken();t&&a.Z.create("ApiResource",{url:"/v3/connect/facebook/",data:{facebook_token:t}}).callCreate({showError:!1})}}),n)})),s=!0,window.fb_init=r.Z.FINISHED),t(o)):p&&(0,c.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=r.Z.STARTED}},935879:function(e,t){"use strict";t.Z=function(e){return"//connect.facebook.net/".concat(function(e){var t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}}(e),"/sdk.js")}},869503:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(939106),o=n(898781),i=n(349700),a=n(908390),l=n(515198);function c(){var e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function s(e){var t=e.freeShippingPrice,n=(0,o.ZP)();return(0,i.nk)(n._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:t}).join("")}function u(e){var t=e.customStyles,n=e.showPrevDot,o=e.freeShippingPrice,i=e.freeShippingValue,u=n?[""]:[],d=t||{},p=d.color,f=void 0===p?"subtle":p,_=d.size,h=void 0===_?"200":_;return Number.isFinite(i)?(0===i?u.push((0,l.jsx)(c,{})):o&&u.push((0,l.jsx)(s,{freeShippingPrice:o})),0===u.length?null:(0,l.jsx)(a.xv,{color:f,size:h,children:(0,l.jsx)(r.Z,{color:f,items:u})})):null}},42447:function(e,t,n){"use strict";n.d(t,{Z:function(){return se}});var r=n(76911),o=n(317672),i=n(790348);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t=performance.getEntriesByType("resource").filter((function(e){return e.name.includes("i.pinimg")})).reduce((function(e,t){var n=t.name.replace(".jpg","").split("/");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(s({},n[n.length-1],{downloadSize:t.name.split("/")[3].split("x")[0]}),e)}),{}),n=Array.from(document.getElementsByTagName("img")).map((function(e){var n=e.src.replace(".jpg","").split("/"),r=n[n.length-1];if(t[r]){var i,a=(null===(i=(0,o.rZ)(e))||void 0===i?void 0:i.width)||1,l=t[r].downloadSize;return{fileName:r,renderedSize:a,downloadedSize:l,ratio:l/a}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}})),r=Array.from(document.querySelectorAll('div[role="img"]')).map((function(e){var n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=n[n.length-1];if(t[r]&&e instanceof HTMLDivElement){var i,a=(null===(i=(0,o.rZ)(e))||void 0===i?void 0:i.width)||1,l=t[r].downloadSize;return{fileName:r,renderedSize:a,downloadedSize:l,ratio:l/a}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}));[].concat(a(n),a(r)).forEach((function(t){var n=t.ratio,r=t.fileName,o=t.downloadedSize;t.ratio>1.05&&(0,i.A9)("checkImageRatio.".concat(e),{count:Math.round(10*n)/10,tags:{fileName:"".concat(o,"_").concat(r)}})}))},d=n(860273),p=n(543059),f=n(607150);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t=e.constraintMap,n=e.initialNavTiming;return h(h(h(h({},e.annotations),(0,f.jh)("constraint_",t)),(0,f.jh)("mark_",(0,p.gQ)())),(0,f.jh)("browser_",h(h({},n?(0,f.D3)(n):{}),(0,f.rX)())))},v=n(358864),g=n(505771),b=n(156381);function P(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e,t){var n=(0,b.v2)().firstInputDelay;return[].concat(P(e.map((function(e){return(0,g.Z)(e,t)})).filter(Boolean)),P(n?[{name:"fid",id:(0,v.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]))},x=n(435851),O=n(172071);function A(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e){var t=e.eventPrefix,n=e.endTime,r=e.tags,o=e.resourceArr,i=e.resourceType,a=void 0===i?"allResources":i,l=o.length;if(l>0&&"object"===E(o[0])&&!Array.isArray(o[0])){for(var c=A(o).sort((function(e,t){return e.fetchStart-t.fetchStart})),s=A(o).sort((function(e,t){return e.responseEnd-t.responseEnd})),u=1,d=n/5,p=0;u<=5;){for(var f=0;p<=l-1&&c[p].fetchStart<=d*u;)p+=1,f+=1;O.Z.gauge("".concat(t,".tags.").concat(a,".fetchStartInterval").concat(u,"of5"),f,.2,r),O.Z.gauge("".concat(t,".").concat(a,".fetchStartInterval").concat(u,"of5"),f,.2),u+=1}var _={zeroPercentInFlight:c[0].fetchStart,twentyFivePercentInFlight:c[Math.floor(l/4)].fetchStart,fiftyPercentInFlight:c[2*Math.floor(l/4)].fetchStart,seventyFivePercentInFlight:c[3*Math.floor(l/4)].fetchStart,hundredPercentInFlight:c[l-1].fetchStart,twentyFivePercentComplete:s[Math.floor(l/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(l/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(l/4)].responseEnd,hundredPercentComplete:s[l-1].responseEnd};for(var h in _)_[h]&&(O.Z.timing("".concat(t,".tags.").concat(a,".").concat(h),_[h],.2,r),O.Z.timing("".concat(t,".").concat(a,".").concat(h),_[h],.2))}},I=function(e){var t=e.annotateExperiments,n=e.endTime,r=e.entries,o=e.metricId,i=e.pwtStaticContext,a="".concat((0,x.Z)(i),".").concat(o.surface),l=[a];t&&t.forEach((function(e){var t=i.getExperimentGroup(e)||"null";l.push("".concat(a,".").concat(e,".").concat(t))}));var c,s={lcpTimingBucket:((c=(0,b.Bn)())<=2500?"Good":c>2500&&c<=4e3?"Needs Improvement":"Poor")||"unknown",isAuthenticated:i.isAuthenticated,navigationType:o.navigationType},u=Array.from(r.filter((function(e){return"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=n}))),d=[],p=[],f=[],_=[],h=[];u.forEach((function(e){"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?p.push(e):"script"===e.initiatorType?f.push(e):"xmlhttprequest"===e.initiatorType?_.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)})),l.forEach((function(e){T({eventPrefix:e,endTime:n,tags:s,resourceArr:u}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:d,resourceType:"image"}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:p,resourceType:"css"}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:f,resourceType:"scripts"}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:_,resourceType:"xhr"}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:h,resourceType:"preloadedImage"})}))},C=n(22773),D=n(453821),R=n(638089),k=function(e){var t,n=e.annotateExperiments,r=e.annotations,o=e.binaryAnnotations,i=e.constraintMap,a=e.endTime,l=e.imageTimings,c=e.metricId,s=e.pwtStaticContext,u=e.startTime,p=e.traceId,f=e.spans,_=(0,C.Cg)();"initial_app_load"===c.navigationType&&(t=(0,d.Z)());var h=l.map((function(e){return e.name})),m=_.map((function(e){return(0,D.p)(e,h)})).filter((function(e){return!function(e,t){var n=e.startTime,r=e.responseEnd;return n>t.endTime||!!r&&r<t.startTime||n<t.startTime-100}(e.timing,{startTime:u,endTime:a})}));return"board"!==c.surface&&"pin_closeup"!==c.surface||I({annotateExperiments:n,endTime:a,entries:_,metricId:c,pwtStaticContext:s}),{type:"COMPLETE",traceId:p,startTime:u,endTime:a,spans:S(m,p).concat(f),annotationMap:y({constraintMap:i,initialNavTiming:t,annotations:r}),binaryAnnotationMap:(0,R.rA)({annotateExperiments:n,binaryAnnotations:o,entries:_,metricId:c,performanceResources:m,pwtEndTime:a,pwtStaticContext:s})}},z=!1,L=function(e,t){return e&&t?z?((0,i.H)("duplicated_initial_app_load_surface_pwt"),(0,v.Z)()):(z=!0,t):(0,v.Z)()},M=n(558775),N=function(e,t){var n=(0,r.useRef)(t);return{getState:function(){return n.current},dispatch:function(t){n.current=e(n.current,t)}}},B=n(985271),F=n(383434),Z=n(226464),U=n(567450),G=n(276602),V=n(198462),H=n(515198);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var K=["children"];function Y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function X(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===W(t)?t:String(t)}function q(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=["initial_app_load","client_route_push"],ne=(0,F.X)("PwtSurface"),re="NavigationComplete",oe="VisuallyComplete",ie=function(e,t){e.isSampled&&(0,M.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},ae=function(e){if(e.metricConfig.constraints.every((function(t){return e.constraintMap[t]}))){var t=Math.max.apply(Math,q(e.metricConfig.constraints.map((function(t){return e.constraintMap[t]}))));return function(e,t){var n,r=e.metricConfig,o=r.metricId,a=r.pwtStaticContext,l=r.annotateExperiments,c=e.annotations,s=e.binaryAnnotations,d=e.constraintMap,f=e.startTime,_=e.imageTimings,h=e.isSampled,m=e.spans;(0,p.L8)("PWT_Complete_".concat((0,Z.KJ)(o)));var y=L("initial_app_load"===o.navigationType,null===(n=a.serverData)||void 0===n?void 0:n.trace_id),v=k({annotateExperiments:l,annotations:c,binaryAnnotations:s,constraintMap:d,endTime:t,imageTimings:_,metricId:o,pwtStaticContext:a,startTime:f,traceId:y,spans:m});h&&(0,M.Z)({metricId:o,pwtStaticContext:a,result:v});try{u(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(g){(0,i.H)("image_ratio_check_error",{error:g})}return Q(Q({},e),{},{result:v,status:"DONE"})}(e,t)}return e},le=function(e,t){var n=t.constraint,r=t.time,o=(0,Z.KJ)(e.metricConfig.metricId);return B.Z?e.metricConfig.constraints.find((function(e){return e===n}))?e.constraintMap[n]?(ne('constraint "'.concat(n,'" is already complete.')),(0,i.H)("duplicated_constraint_complete",{constraint:n,action:o}),e):(ne('marking constraint "'.concat(n,'" as complete')),(0,p.ZP)("constraint_".concat(n,"_is_complete")),ae(Q(Q({},e),{},{constraintMap:Q(Q({},e.constraintMap),{},ee({},n,r||B.Z.now()))}))):(ne('marked constraint "'.concat(n,'" is not a required constraint.')),e):((0,i.H)("missing_window_performance",{action:o}),e)},ce=function(e,t){if(ne("dispatch action",t),"INIT_ROUTE"===t.type)return function(e,t){var n=t.metricConfig,r=t.startTime,o=t.isSampled;if("TIMING"===e.status&&r!==e.startTime&&ie(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};var a,l,c,s,u=(0,Z.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===r&&e.constraintMap[re]?((0,i.H)("duplicated_init_route_action",{action:u}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,i.A9)("TIMING.".concat(u),{tags:{userAgent:null===(a=window)||void 0===a||null===(l=a.navigator)||void 0===l?void 0:l.userAgent}}),(0,i.A9)("TIMING.sampled.".concat(u),{tags:{userAgent:null===(c=window)||void 0===c||null===(s=c.navigator)||void 0===s?void 0:s.userAgent},sampleRate:.5})):((0,i.A9)("TIMING.".concat(u)),(0,i.A9)("TIMING.sampled.".concat(u),{sampleRate:.5})),le({status:"TIMING",metricConfig:n,startTime:r,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:o,spans:[]},{constraint:re}))}(e,t.payload);if("TIMING"!==e.status)return ne("ignoring action due to invalid state ".concat(e.status),t),e;switch(t.type){case"ABORT":ie(e,t.reason);var n={type:"ABORT",reason:t.reason};return Q(Q({},e),{},{status:"DONE",result:n});case"ANNOTATE":var r=t.payload.name;if(!B.Z)return e;var o=B.Z.now();return ne("adding annotation {".concat(r,": ").concat(o,"}")),Q(Q({},e),{},{annotations:Q(Q({},e.annotations),ee({},r,o))});case"BINARY_ANNOTATE":var a=t.payload,l=a.name,c=a.value,s=a.annotationType;return ne("adding binary annotation {".concat(l,": ").concat(c,"}")),Q(Q({},e),{},{binaryAnnotations:Q(Q({},e.binaryAnnotations),ee({},l,{value:c,type:s}))});case"MARK_CONSTRAINT_COMPLETE":return le(e,t.payload);case"REMOVE_CONSTRAINT":return function(e,t){if(!B.Z){var n=(0,Z.KJ)(e.metricConfig.metricId);(0,i.H)("missing_window_performance",{action:n})}ne('removing constraint "'.concat(t,'"'));var r=e.metricConfig.constraints.filter((function(e){return e!==t})),o=e.constraintMap,a=(o[t],Y(o,[t].map(X)));return ae(Q(Q({},e),{},{constraintMap:a,metricConfig:Q(Q({},e.metricConfig),{},{constraints:r})}))}(e,t.payload);case"SET_SEGMENT":return function(e,t){if(!B.Z){var n=(0,Z.KJ)(e.metricConfig.metricId);(0,i.H)("missing_window_performance",{action:n})}ne('updating pwt segment to "'.concat(t,'"'));var r=Q(Q({},e.metricConfig.metricId),{},{segment:t});return Q(Q({},e),{},{metricConfig:Q(Q({},e.metricConfig),{},{metricId:r})})}(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":var u=t.payload.imageTimings;if(0===u.length){ie(e,"visuallyComplete_noImages");return Q(Q({},e),{},{status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}})}var d=Math.max.apply(Math,q(u.map((function(e){return e.responseEnd||0}))));return le(Q(Q({},e),{},{imageTimings:u}),{constraint:oe,time:d});case"ADD_SUBSPAN":var p=e.startTime,f=t.payload,_=f.name,h=f.startTime,m=f.endTime,y=f.annotations,g=f.binaryAnnotations,b=f.parentId;return Q(Q({},e),{},{spans:[].concat(q(e.spans),[{name:_,id:(0,v.Z)(),startTime:h||p,endTime:m,annotationMap:Q({},y),binaryAnnotationMap:Q({},g),parentId:b}])});case"START_SUBSPAN":return Q(Q({},e),{},{spans:[].concat(q(e.spans),[{name:t.payload.name,id:(0,v.Z)(),startTime:B.Z?B.Z.now():0,endTime:1/0,annotationMap:Q({},t.payload.annotations),binaryAnnotationMap:Q({},t.payload.binaryAnnotations),parentId:t.payload.parentId}])});case"STOP_SUBSPAN":var P=e.spans.findIndex((function(e){return e.name===t.payload.name}));return P>-1?(e.spans[P].endTime=B.Z?B.Z.now():0,t.payload.annotations&&(e.spans[P].annotationMap=Q(Q({},e.spans[P].annotationMap),t.payload.annotations)),t.payload.binaryAnnotations&&(e.spans[P].binaryAnnotationMap=Q(Q({},e.spans[P].binaryAnnotationMap),t.payload.binaryAnnotations))):(0,i.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:var w=(0,Z.KJ)(e.metricConfig.metricId);return(0,i.H)("invalid_pwt_surface_action",{action:w}),e}};function se(e){var t,n,o,a=e.children,l=Y(e,K),c=(0,V.fM)(),s=function(e){if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}}(c),u=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth","web_duplo_default"].concat(q(null!==(t=l.annotateExperiments)&&void 0!==t?t:[])),d=function(e){var t=e.surface,n=e.constraints,o=e.segment,i=e.measureGridVisuallyComplete,a=e.annotateExperiments,l=e.customEnabledNavigationTypes,c=e.navigationInfo,s=c.clientNavigation,u=c.navigationType,d=e.sampleRate,p=(0,r.useRef)("NOT_SET"),f=(0,V.N5)(),_=N(ce,{status:"DISABLED",metricConfig:null}),h=_.getState,m=_.dispatch;if(p.current!==s&&(p.current=s,f)){var y=f.isAuthenticated,v=t&&u&&(l||te).includes(u)?{metricId:{type:"surface",surface:t,navigationType:u,isAuthenticated:y,segment:o},annotateExperiments:a,constraints:[re].concat(q(n||[]),q(i?[oe]:[])),pwtStaticContext:f}:null;m({type:"INIT_ROUTE",payload:{metricConfig:v,startTime:s?s.time:0,isSampled:!d||Math.random()<d}})}var g=h();if((0,r.useEffect)((function(){var e=function(e){m({type:"ABORT",reason:e})};U.Z.onSessionPause(e);var t=function e(){window.removeEventListener("resize",e),m({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),function(){var n=h();ne("handling unmount",n),"TIMING"===n.status&&ie(n,"unmount"),U.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),"TIMING"!==g.status||!g.constraintMap[re])return{state:g,context:null};var b=g.startTime,P=g.metricConfig;return{state:g,context:{abort:function(e){return m({type:"ABORT",reason:e})},addAnnotation:function(e){return m({type:"ANNOTATE",payload:{name:e}})},addBinaryAnnotation:function(e,t,n){return m({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}})},addSubspan:function(e,t,n){return m({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},binaryAnnotations:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},parentId:arguments.length>5&&void 0!==arguments[5]?arguments[5]:null}})},getId:function(){return b},getMetricId:function(){return P.metricId},markConstraintComplete:function(e){return m({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:B.Z?B.Z.now():0}})},removeConstraint:function(e){return m({type:"REMOVE_CONSTRAINT",payload:e})},setSegment:function(e){return m({type:"SET_SEGMENT",payload:e})},setVisuallyCompleteResult:P.constraints.includes(oe)?function(e){return m({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e})}:null,startSubspan:function(e){return m({type:"START_SUBSPAN",payload:{name:e,annotations:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},binaryAnnotations:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},parentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}})},stopSubspan:function(e){return m({type:"STOP_SUBSPAN",payload:{name:e,annotations:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},binaryAnnotations:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},parentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}})}}}}(Q(Q({},l),{},{annotateExperiments:u,navigationInfo:{navigationType:s,clientNavigation:c}})).context;return n=(0,G.EV)(),o=!!n,(0,r.useEffect)((function(){if(o){var e=null==n?void 0:n.getMetricId(),t=e?(0,Z.KJ)(e):null;(0,i.H)("nested_pwt_surface",{action:t})}}),[o]),(0,H.jsx)(G.Sb,{value:d,children:a})}},317254:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(969853),o=n(76911),i=n(276602),a=n(543059);var l=n(198462);function c(e){var t,n=e.children,c=e.isAtEndOfFeed,s=e.pinData,u=e.itemCount,d=e.includeBackgroundImages,p=void 0!==d&&d,f=e.includeVideos,_=void 0!==f&&f,h=e.includeSections,m=void 0!==h&&h;return(null===(t=(0,l.N5)())||void 0===t?void 0:t.isAuthenticated)||(m=!0),(0,r.Z)({pinData:s,isAtEndOfFeed:c,includeBackgroundImages:p,includeVideos:_,includeSections:m}),function(e){var t=(0,i.EV)(),n=(0,o.useRef)(null);(0,o.useEffect)((function(){e!==n.current&&(n.current=e,t&&(0,a.ZP)(a.at))}),[!!t,e])}(u),n}},681227:function(e,t,n){"use strict";function r(e){var t=Object.keys(e);return t.length>0?t.sort((function(t,n){return e[n]-e[t]})).slice(0,3):null}function o(e){var t=Object.values(e);return t.length>0?t.reduce((function(e,t){return e+t}),0):0}function i(e,t){var n=e.videos,r=e.is_downstream_promotion,o=e.is_promoted,i=e.story_pin_data_id,a=e.board;return!(o||r||(!n||!n.id)&&!i||t||null!=a&&a.is_collaborative&&a.collaborated_by_me)}n.d(t,{At:function(){return r},J6:function(){return i},Ud:function(){return o}})},561195:function(e,t,n){"use strict";n.d(t,{A:function(){return c},Z:function(){return s}});var r=n(76911),o=n(908390),i=n(515198);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t=e.fill,n=(e.width,e.color,"half"===t?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(o.xu,{position:"absolute",children:(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"full"===t?"default":"subtle",icon:"star",size:12}));return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":"rating-star-".concat(t),children:n})};function s(e){var t=e.max_rating,n=e.rating,o=e.width,l=e.color,s=[],u=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(t)||5,parseFloat(n)||0);if(Number.isNaN(u))return null;var d=Math.floor(u),p=u-d;return a(Array(d).keys()).forEach((function(e){return s.push((0,i.jsx)(c,{color:l,fill:"full",width:o},e))})),p>=.75?s.push((0,i.jsx)(c,{color:l,fill:"full",width:o},s.length)):p>=.25&&s.push((0,i.jsx)(c,{color:l,fill:"half",width:o},s.length)),a(Array(5-s.length).keys()).forEach((function(){return s.push((0,i.jsx)(c,{color:l,fill:"empty",width:o},s.length))})),(0,i.jsx)(r.Fragment,{children:s})}},736688:function(e,t,n){"use strict";n.d(t,{QO:function(){return c},V3:function(){return a},cO:function(){return d},dn:function(){return s},fP:function(){return u},j1:function(){return p},v_:function(){return l}});var r=n(841726),o=n(867820),i=n(623568),a=function(e){var t=e||{},n=t.thumbnail,r=t.url,o=t.width,i=t.height,a=t.duration;return n&&r&&o&&i&&{thumbnail:n,url:r,width:o,height:i,duration:a}||void 0};function l(e,t){if(t&&t.products&&t.products[0]){var n=t.products[0],r=!(!n.name&&!e),i=!(!t.aggregate_rating||0===t.aggregate_rating.rating_count&&0===t.aggregate_rating.review_count||Number.isNaN(parseFloat(t.aggregate_rating.rating_value))),a=!(!n.offer_summary||!n.offer_summary.min_price&&!n.offer_summary.price),l=r&&(i||a);return function(e){var t=e.isEligible,n=e.hasName,r=e.hasAggregateRating,i=e.hasOffers;(0,o.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:t,hasName:n,hasAggregateRating:r,hasOffers:i})}({isEligible:l,hasName:r,hasAggregateRating:i,hasOffers:a}),l}return!1}var c=function(e,t){var n=t.userName||"";return{"@type":"Person",name:t.fullName||n,url:e+"/"+n}};function s(e,t,n,o,i,a){n=n.trim();var l=(t=t.trim())||a||n||o,c=function(){return t||i};if(!e||!e.metatags)return{title:l,description:n||c()};var s,u=e.metatags.description;return{title:l,description:(s=void 0===u?"":u,(0,r.o)(s||"").trim())||c()}}var u=function(e,t,n){var r=t;return n?{fallbackTitle:r="recipe"===e?n._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?n._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?n._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?n._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):n._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:r}:{fallbackTitle:r,fallbackDescription:r}},d=function(e){if(e){var t=e.rating_count,n=e.review_count;if((!!t||!!n)&&!Number.isNaN(parseFloat(e.rating_value))){var r=t||n;return{"@type":"AggregateRating",ratingValue:e.rating_value,ratingCount:r,bestRating:5,worstRating:1}}}},p=function(e){var t,n,r,o,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=!!(0,i.iR)(e.videos),c=a&&!!(0,i.cL)({embedSrc:null===(t=e.embed)||void 0===t?void 0:t.src,embedSubtype:null===(n=e.embed)||void 0===n?void 0:n.subtype,embedType:null===(r=e.embed)||void 0===r?void 0:r.type}),s=!(null===(o=e.story_pin_data)||void 0===o||!o.total_video_duration);return l||c||s}},835209:function(e,t,n){"use strict";function r(e){var t=e.richPinData,n=void 0===t?{}:t;return((null==n?void 0:n.products)||[])[0]}n.d(t,{Z:function(){return r}})},53325:function(e,t,n){"use strict";n.d(t,{$O:function(){return l},GZ:function(){return s},OE:function(){return u},Xv:function(){return c},Z0:function(){return r},_z:function(){return i},fM:function(){return a},qA:function(){return o},zX:function(){return d}});var r=40,o=4,i=106,a=133,l=.1,c=10,s=246,u=197,d=236},31149:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,r.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,r.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,r.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,r.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,r.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,r.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,r.jsx)("stop",{stopColor:"#09F"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,r.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},464240:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,r.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},867060:function(e,t,n){"use strict";var r,o,i,a;function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{LO:function(){return u},Pu:function(){return d},cc:function(){return c},dB:function(){return s},yF:function(){return p}});var c=(l(r={},10,13098),l(r,11,13099),l(r,6,13100),l(r,5,13101),l(r,14,13102),l(r,12,13103),l(r,15,13104),l(r,8,13105),l(r,4,13106),l(r,1,13107),l(r,3,13107),l(r,18,13108),l(r,19,13109),l(r,20,13110),l(r,21,13111),l(r,22,13112),l(r,23,13113),l(r,26,13114),l(r,27,13115),l(r,29,13116),l(r,9,13286),r),s=(l(o={},10,13415),l(o,11,13416),l(o,6,13417),l(o,5,13418),l(o,14,13419),l(o,12,13420),l(o,15,13421),l(o,8,13422),l(o,4,13423),l(o,1,13424),l(o,3,13424),l(o,18,13425),l(o,19,13426),l(o,20,13427),l(o,21,13428),l(o,22,13429),l(o,23,13430),l(o,26,13431),l(o,27,13432),l(o,29,13433),l(o,9,13434),o),u=(l(i={},10,13436),l(i,11,13437),l(i,6,13438),l(i,5,13439),l(i,14,13440),l(i,12,13441),l(i,15,13442),l(i,8,13443),l(i,4,13444),l(i,1,13445),l(i,3,13445),l(i,18,13446),l(i,19,13447),l(i,20,13448),l(i,21,13449),l(i,22,13450),l(i,23,13451),l(i,26,13452),l(i,27,13453),l(i,29,13454),l(i,9,13455),i),d=(l(a={},10,13457),l(a,11,13458),l(a,6,13459),l(a,5,13460),l(a,14,13461),l(a,12,13462),l(a,15,13463),l(a,8,13464),l(a,4,13465),l(a,1,13466),l(a,3,13466),l(a,18,13467),l(a,19,13468),l(a,20,13469),l(a,21,13470),l(a,22,13471),l(a,23,13472),l(a,26,13473),l(a,27,13474),l(a,29,13475),l(a,9,13476),a),p={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},124364:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(898781),o=n(908390),i=n(515198);function a(e){var t=e.height,n=e.isDenseView,a=e.rounding,l=e.width,c=(0,r.ZP)();return(0,i.jsx)(o.xu,{color:"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:a,overflow:"hidden",width:l,height:t,"data-test-id":"unavailable-pin",children:(0,i.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,i.jsx)(o.xu,{paddingY:n?2:4,children:(0,i.jsx)(o.JO,{accessibilityLabel:c._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,i.jsx)(o.xv,{weight:"bold",children:c._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!n&&(0,i.jsx)(o.xu,{paddingY:1,children:(0,i.jsx)(o.xv,{children:c._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},676142:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(858142),o=/\{\s*(\w+)\s*\}/g,i=function(e,t){return(0,r.Z)(o,e,t)};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.args,n=e.format,r=(t||[]).reduce((function(e,t,n){return l(l({},e),{},c({},n,t.text))}),{});return i(n,r)}},936776:function(e,t){"use strict";var n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.Z=function(e){return n.test(e)}},927104:function(e,t){"use strict";t.Z=function(e,t){return e.length>t?e.substr(0,t-3).trim()+"":e}},841726:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});function r(e,t){var n=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,t){return n.indexOf("<"+t.toLowerCase()+">")>-1?e:""}))}t.Z=function(e){return e.replace(/(<([^>]+)>)/gi,"")}},482981:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(784641);function o(e){var t=e.article_creator_user,n=e.display_type,o=e.feed_source,i=e.header_pin_id,a=e.id,l=e.is_product_pin_feed,c=e.title,s=e.video_pin;switch(n){case 0:case 1:return c?(0,r.T7)(o,null!=l&&l,c,a):"";case 8:return null!=t&&t.username?"/".concat(encodeURIComponent(t.username),"/"):"";case 3:case 6:return i?"/pin/".concat(i,"/"):"";case 2:return null!=s&&s.id?"/pin/".concat(s.id,"/"):"";default:return""}}},207112:function(e,t,n){"use strict";var r=n(76911),o=n(908390),i=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(_,e);var t,a,l,p=d(_);function _(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),h(f(t=p.call(this,e)),"state",{manualTruncate:!1}),t.ref=(0,r.createRef)(),t}return t=_,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.maxHeightPx,r=e.shaveOptions,o=void 0===r?{}:r,i=this.ref&&this.ref.current;if(i){var a=void 0===i.textContent?"innerText":"textContent",l=i[a];("boolean"!=typeof o.spaces||o.spaces?l.split(" "):l).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,472281)).then((function(e){(0,e.default)(i,t,o)}))}}},{key:"render",value:function(){var e=this.props,t=e.maxWidthPx,n=e.maxHeightPx,r=e.inline,a=void 0!==r&&r,l=this.state.manualTruncate,s={maxWidth:t,maxHeight:n},u=c(a?{display:"inline"}:{},s);return l?(0,i.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:u},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,i.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:u},"data-test-id":"truncater",children:this.props.children})}}])&&s(t.prototype,a),l&&s(t,l),_}(r.Component);t.Z=m},477802:function(e,t,n){"use strict";n.d(t,{W:function(){return s},Z:function(){return c}});var r=n(908390),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.data;return(0,o.jsx)(r.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,o.jsx)("pre",{children:JSON.stringify(t,null,2).replace(/\\n/g,"\n")})})}var s=function(e){return(0,o.jsx)(r.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,o.jsx)(c,a({},e))})}},948618:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.ariaHidden,n=void 0!==t&&t,i=e.color,a=void 0===i?"darkGray":i,l=e.size;return(0,o.jsx)("span",{"aria-hidden":n,style:{padding:"0 4px"},children:(0,o.jsx)(r.xv,{color:a,inline:!0,size:null!=l?l:"200",children:""})})}},939106:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),o=n(948618),i=n(908390),a=n(515198);function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return null!=e}function u(e){var t=e.additionalPadding,n=e.color,c=void 0===n?"darkGray":n,u=e.inline,d=e.items,p=t?(0,a.jsx)("span",{style:{padding:"0 ".concat(4*t,"px")},children:(0,a.jsx)(o.Z,{color:c})}):(0,a.jsx)(o.Z,{color:c}),f=d.filter(s).reduce((function(e,t,n){return[].concat(l(e),[0!==n?p:null,t])}),[]).filter(s).map((function(e,t){return(0,a.jsx)(r.Fragment,{children:e},t)}));return 0===f.length?null:u?(0,a.jsx)(i.xu,{children:f}):(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:f})}},681291:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},n:function(){return c}});var r=n(512855),o=n(908390),i=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=e.items,o=e.itemWidth,i=e.itemGap,l=e.numRows,c=void 0===l?1:l,s=e.actionItemType,u=a((0,r.Z)(),2),d=u[0],p=u[1],f=Math.floor((d+i)/(o+i))*c||c,_=n.slice(0,f),h=[];switch(s){case"nextFour":f>=n.length?h=[_.pop()]:(_.pop(),h=n.slice(f-1,f+3));break;case"one":t=f>n.length?n[Math.floor(n.length/2)]:_.pop()}return{containerRef:p,itemsToRender:_,actionItem:t,nextFourItems:h}}var s={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function u(e){var t=e.children,n=e.itemGap,r=e.containerRef,a=e.numRows,l=void 0===a?1:a,c=e.rowAlignment,u=s[void 0===c?"center":c];return(0,i.jsx)(o.xu,{ref:r,width:"100%",children:(0,i.jsx)(o.kC,{alignItems:"center",justifyContent:u.outer,children:(0,i.jsx)(o.kC,{justifyContent:u.inner,gap:{row:Math.floor(n/4),column:0},wrap:l>1,children:t})})})}},327476:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(773285);function o(){var e=(0,r.F)().checkExperiment;return function(t){return e("web_transform_promoted_text").anyEnabled?t.replace(" ","  "):t}}},512855:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e=o((0,r.useState)(0),2),t=e[0],n=e[1],i=(0,r.useRef)(null),a=(0,r.useCallback)((function(){i.current&&n(i.current.clientWidth)}),[i]);return(0,r.useEffect)((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[a]),(0,r.useEffect)(a),[t,i]}},786871:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(506979),o=[1000069,1000075],i={};function a(){return e=(0,r.useSelector)((function(e){return e.experiences})),o.forEach((function(t){!e[t]||void 0!==i[t]&&i[t].id===e[t].id||(i[t]=e[t])})),i;var e}},357787:function(e,t,n){"use strict";var r=n(76911),o=n(945790),i=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=new Map,y=null,v=function(e){e.forEach((function(e){var t=m.get(e.target);t&&t(e)}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r=[0,.5,1],o={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:r};y=y||new window.IntersectionObserver(v,o),m.set(e,n),y.observe(e)},b=function(e){return m.has(e)};t.Z=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(_,t);var n,r,a,p=d(_);function _(){var e;c(this,_);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(f(e=p.call.apply(p,[this].concat(n))),"seen",!1),h(f(e),"enter",(function(t){var n=t.intersectionRatio>0||t.isIntersecting;e.seen=n,e.seen&&e.props.onVisibilityChanged(!0)})),h(f(e),"leave",(function(){var t=e._node;t&&b(t)&&e.seen&&(e.props.onVisibilityChanged(!1),e.seen=!1)})),h(f(e),"observe",(function(t){try{e._node=o.findDOMNode(f(e))}catch(i){return}if(e._node){var n=e.props.inAdsDesktopVideoExperiment,r=e._node;g(r,t,(function(t){if(m.has(r)){var o=n?t.intersectionRatio>=.5:t.intersectionRatio>0||t.isIntersecting,i=e.props.trackFullVisible?t.intersectionRatio>=1:o,a=e.props.trackFullVisible?0===t.intersectionRatio:!i;!e.seen&&i?e.enter(t):e.seen&&a&&e.leave()}}))}})),e}return n=_,(r=[{key:"componentDidMount",value:function(){var e=this.props.rootMargin;this.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),function(e){y.unobserve(e),m.delete(e)}(e))}},{key:"render",value:function(){return(0,i.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props))}}])&&s(n.prototype,r),a&&s(n,a),_}(r.Component);return h(t,"displayName","DeprecatedWithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},46584:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),o=new Map,i=null,a=function(e){e.forEach((function(e){var t=o.get(e.target);t&&t(e)}))};function l(e){var t=e.onVisibilityChanged,n=e.inAdsDesktopVideoExperiment,l=e.trackFullVisible,c=e.rootMargin,s=(0,r.useRef)(null),u=!1,d=function(){var e;s.current instanceof HTMLElement&&(e=s.current,o.has(e))&&(u&&(t(!1),u=!1))},p=(0,r.useCallback)((function(e){s.current instanceof HTMLElement&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r=[0,.5,1],l={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:r};i=i||new window.IntersectionObserver(a,l),o.set(e,n),i.observe(e)}(s.current,e,(function(e){if(o.has(s.current)){var r=n?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,i=l?e.intersectionRatio>=1:r,a=l?0===e.intersectionRatio:!i;!u&&i?function(e){var n=e.intersectionRatio>0||e.isIntersecting;(u=n)&&t(!0)}(e):u&&a&&d()}}))}),[s.current]);return(0,r.useEffect)((function(){return p(c),function(){var e;s.current instanceof HTMLElement&&(d(),e=s.current,i.unobserve(e),o.delete(e))}}),[p]),s}},562559:function(e,t,n){"use strict";var r=n(76911),o=n(571827),i=n.n(o),a=n(112690),l=n(19121),c=n(965900),s=n(773285),u=n(780280),d=n(908390),p=n(969315),f=n(179888),_=n(858416),h=n(515198),m=["clientTrackingParams","component","durationNs","element","objectId","pairId","viewData","view","viewParameter"];function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e,t){if(t){var n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",n)}return e},I=function(e,t){return"string"==typeof e?T(e,t):Array.isArray(e)?function(e,t){return e[0].src&&t?[A(A({},e[0]),{},{src:T(e[0].src,t)})]:e}(e,t):e},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o=P(a);function a(){var e;v(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(S(e=o.call.apply(o,[this].concat(n))),"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:f.Cy.DEFAULT,videoStartTime:e.props.seekTime||0}),j(S(e),"errorRetryCount",1),j(S(e),"firstFragBuffered",!1),j(S(e),"hasPlaybackStarted",!1),j(S(e),"hasVideoSessionStarted",!1),j(S(e),"hasVideoSessionEnded",!1),j(S(e),"hls",null),j(S(e),"fragStartupTime",{}),j(S(e),"lastLevelSwitchKbps",null),j(S(e),"lastStallTime",null),j(S(e),"lastPauseTime",null),j(S(e),"logSessionStartOnNextPlay",!1),j(S(e),"playerId",""),j(S(e),"videoSessionId",""),j(S(e),"videoVisibleTime",null),j(S(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof e.props.src?T(e.props.src,e.props.quicExpGroup):T(e.props.src[0].src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),j(S(e),"initializeHls",(function(){e.destroyHls();var t=e.props,n=t.src,r=t.hlsConfig,o=t.quicExpGroup,a=new(i())(r),l=I(n,o);a.loadSource(l),e.videoPlayerRef&&a.attachMedia(e.videoPlayerRef.video),a.on(i().Events.FRAG_BUFFERED,e.handleHlsFragBuffered),a.on(i().Events.FRAG_CHANGED,e.handleHlsFragChanged),a.on(i().Events.FRAG_LOADING,e.handleHlsFragLoading),a.on(i().Events.FRAG_LOADED,e.handleHlsFragLoaded),a.on(i().Events.MANIFEST_PARSED,(function(){e.setState({isManifestParsed:!0})})),a.on(i().Events.LEVEL_SWITCHED,e.handleHlsLevelSwitched),a.on(i().Events.ERROR,e.handleHlsError),e.hls=a})),j(S(e),"destroyHls",(function(){var t=S(e).hls;t&&t.destroy()})),j(S(e),"addSegment",(function(t){var n=e.playbackPerformance.segments,r=n&&n[n.length-1];if(e.hls&&n.length&&r&&r.uri!==t.url){e.updateWatchDurationForCurrentSegment();var o=e.videoPlayerRef&&e.videoPlayerRef.video,i=e.hls&&e.hls.levels||{},a="number"==typeof t.level?i[t.level]:{},l=e.fragStartupTime[t.url],c=-1;l&&l.startLoadTime&&l.endLoadTime&&(c=l.endLoadTime-l.startLoadTime);var s={indicatedKbps:a.bitrate/f.bR,duration:t.duration,level:t.level,lastStartPlayTime:e.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:e.hls&&e.hls.bandwidthEstimate/f.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:t.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:c,switchBitrateKbps:e.lastLevelSwitchKbps||-1,uri:t.url,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};n.push(s)}})),j(S(e),"initializeSegments",(function(t){var n=e.props.contextLogData,r=(void 0===n?{}:n).is_closeup_video,o=void 0!==r&&r,i=e.playbackPerformance.segments;if(!i.length)if(e.hls&&e.videoPlayerRef&&e.videoPlayerRef.video&&t){if(!i.length&&"number"==typeof t.level){var a=e.videoPlayerRef&&e.videoPlayerRef.video,l=e.hls.levels,c="number"==typeof t.level?l[t.level]:{},s=e.fragStartupTime[t.url],u=-1;s&&s.startLoadTime&&s.endLoadTime&&(u=s.endLoadTime-s.startLoadTime),e.lastLevelSwitchKbps=e.hls.bandwidthEstimate/f.bR;var d={indicatedKbps:c.bitrate/f.bR,duration:t.duration,level:t.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:e.hls.bandwidthEstimate/f.bR||-1,playbackStartDate:null,serverAddress:"",sn:t.sn,sourceWidth:c.width,sourceHeight:c.height,startupTimeMs:u,switchBitrateKbps:e.lastLevelSwitchKbps||-1,uri:t.url,viewportWidth:a.clientWidth,viewportHeight:a.clientHeight,watchedDurationMs:0};i.push(d)}}else(0,p.tE)("initializeSegmentsFailed",!0,o)})),j(S(e),"getCurrentVideoTime",(function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*f.gJ:null})),j(S(e),"handleCanPlayVideo",(function(t){var n=e.props,r=n.contextLogData,o=void 0===r?{}:r,i=n.onReady,a=n.playing,l=o.is_closeup_video,c=void 0!==l&&l,s=e.state.canPlayVideo;(0,p.tE)("handleCanPlayVideo",!0,c,{firstCanPlayEvent:!s,playing:a}),e.playbackPerformance.hasFatalError=!1,s||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)})),j(S(e),"handleEnded",(function(t){var n=e.props,r=n.loop,o=n.onEnded,i=e.playbackPerformance.segments,a=i&&i[i.length-1];r&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.fragStartupTime={}):r||e.logPlaybackPerformance(f.$f,{initiator:"videoEnded",loop:r}),e.setState({playbackState:f.Cy.ENDED}),o&&o(t)})),j(S(e),"handleHlsError",(function(t,n){var r,o=e.props.contextLogData,a=(void 0===o?{}:o).is_closeup_video,l=void 0!==a&&a;if(e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat(n.details),n.fatal){var c,s,u,d;e.playbackPerformance.hasFatalError=!0,e.playbackPerformance.errorName=n.type,e.playbackPerformance.errorReason=n.details,e.playbackPerformance.errorCode=n.response&&n.response.code?n.response.code:0;var _={errorName:n.type,errorReason:n.details,errorRetryCount:e.errorRetryCount,errorMessage:(null===(c=n.err)||void 0===c||null===(s=c.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(u=n.response)||void 0===u||null===(d=u.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:e.state.playbackState};if((0,p.tE)("fatalError",!0,l,_),e.errorRetryCount>0)switch(e.errorRetryCount-=1,n.type){case i().ErrorTypes.NETWORK_ERROR:if(n.details===i().ErrorDetails.MANIFEST_LOAD_ERROR||n.details===i().ErrorDetails.MANIFEST_LOAD_TIMEOUT||n.details===i().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var h,m=e.props,y=m.src,v=m.quicExpGroup,g=I(y,v);null===(h=e.hls)||void 0===h||h.loadSource(g)}else{var b;null===(b=e.hls)||void 0===b||b.startLoad()}break;case i().ErrorTypes.MEDIA_ERROR:null===(r=e.hls)||void 0===r||r.recoverMediaError()}}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:f.Cy.FAILED})})),j(S(e),"handleHlsFragBuffered",(function(t,n){e.firstFragBuffered||(e.initializeSegments(n.frag),e.firstFragBuffered=!0)})),j(S(e),"handleHlsFragChanged",(function(t,n){e.addSegment(n.frag)})),j(S(e),"handleHlsFragLoading",(function(t,n){var r,o=null===(r=n.frag)||void 0===r?void 0:r.url;o&&!e.fragStartupTime[o]&&(e.fragStartupTime[o]={startLoadTime:new Date})})),j(S(e),"handleHlsFragLoaded",(function(t,n){var r;n.frag&&n.frag.loaded&&(e.playbackPerformance.downloadedKiloBytes+=n.frag.loaded/f.Fm);var o=null===(r=n.frag)||void 0===r?void 0:r.url;o&&e.fragStartupTime[o]&&e.fragStartupTime[o].startLoadTime&&(e.fragStartupTime[o].endLoadTime=new Date)})),j(S(e),"handleHlsLevelSwitched",(function(){e.hls&&e.hls.bandwidthEstimate&&(e.lastLevelSwitchKbps=e.hls.bandwidthEstimate/f.bR)})),j(S(e),"handleLoadedMetadata",(function(){e.setState({playbackState:f.Cy.LOADED_METADATA})})),j(S(e),"handleLoadStart",(function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:f.Cy.LOAD_START})})),j(S(e),"handleLoadedData",(function(){e.setState({playbackState:f.Cy.LOADED_DATA})})),j(S(e),"handlePlaying",(function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:f.Cy.PLAYING}),e.props.clearSeekTime()})),j(S(e),"handleUserPause",(function(t){var n=e.props.onControlsPause;e.lastPauseTime=new Date,n&&n(t)})),j(S(e),"handleVideoPause",(function(){e.state.playbackState!==f.Cy.STALLING&&e.state.playbackState!==f.Cy.SEEKING&&(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:f.Cy.PAUSED})})),j(S(e),"handleSeeking",(function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&(n.lastStartPlayTime=null),e.state.playbackState!==f.Cy.ENDED&&e.setState({playbackState:f.Cy.SEEKING})})),j(S(e),"handleStalled",(function(){null===e.lastStallTime&&e.state.playbackState!==f.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1),e.setState({playbackState:f.Cy.STALLING})})),j(S(e),"handleTimeUpdate",(function(t){var n=e.props.onTimeChange;n&&n(t),e.state.playbackState===f.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())})),j(S(e),"resetPlaybackMetrics",(function(){e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastLevelSwitchKbps=null,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=A(A({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.downloadedKiloBytes=0,e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]})),j(S(e),"setLastSegmentStartPlayTime",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.lastStartPlayTime&&(n.lastStartPlayTime=e.getCurrentVideoTime())})),j(S(e),"setLastSegmentPlaybackStartDate",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.playbackStartDate&&(n.playbackStartDate=Date.now())})),j(S(e),"setPlaybackStartTime",(function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)})),j(S(e),"setVideoPlayerRef",(function(t){var n=e.props.setVideoRef;if(t&&(n&&n(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var r=e.videoPlayerRef.video;r.addEventListener("loadedmetadata",e.handleLoadedMetadata),r.addEventListener("loadeddata",e.handleLoadedData),r.addEventListener("pause",e.handleVideoPause),r.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}})),j(S(e),"updateStallDuration",(function(){null!==e.lastStallTime&&(e.playbackPerformance.totalStallDurationMs+=new Date-e.lastStallTime,e.lastStallTime=null)})),j(S(e),"updatePauseDuration",(function(){if(null!==e.lastPauseTime){var t=e.lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}})),j(S(e),"updateWatchDurationForCurrentSegment",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1],r=n?n.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(n&&null!==r&&"number"==typeof o&&"number"==typeof r){var i=o-r;i>0&&(n.watchedDurationMs+=i,n.lastStartPlayTime=null)}})),j(S(e),"logPlaybackPerformance",(function(t,n){var r=e.props,o=r.contextLogData,i=void 0===o?{}:o,a=r.userId,l=r.isAutoPlay,c=r.logContextEvent,s=i.is_closeup_video,u=void 0!==s&&s,d=e.playbackPerformance,_=d.canPlayTime,h=d.detailedErrors,v=d.downloadedKiloBytes,g=d.errorCode,b=d.errorName,P=d.errorReason,w=d.hasFatalError,S=d.playbackStartTimestamp,x=d.totalPauseDurationMs,O=d.totalStallDurationMs,j=d.segments,E=d.srcString,T=d.loadStartTime,I=d.numberOfStalls,C=d.numberOfSeeks,D=e.videoPlayerRef&&e.videoPlayerRef.video,R=t===f.DR,k=R&&!e.hasVideoSessionStarted,z=!R&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(e.hls&&D&&(k||z)){var L,M=-1;_&&T&&(M=_>T?_-T:0);var N=-1;_&&e.videoVisibleTime&&(N=_>e.videoVisibleTime?_-e.videoVisibleTime:0),R&&(e.videoSessionId=(0,f.Y7)(a),e.playerId=e.playerId||(0,f.EB)());var B={autoplaying:l,averageVideoKbps:-1,detailedErrors:h,downloadedKiloBytes:v,isCellular:!1,errorCode:g,errorName:b,errorReason:P,fatalError:w,nativeVideoDurationMs:D.duration*f.gJ||-1,numberOfStalls:I,numberOfSeeks:C,overallPausedDurationMs:x,overallBufferDurationMs:O,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:S||-1,segments:[],sessionMark:t,screenPixelScale:null!==(L=window)&&void 0!==L&&L.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:D.clientWidth,startupPlayerHeight:D.clientHeight,startupTimeMs:M,startupLatencyMs:N,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:D.videoWidth,startupVariantHeight:D.videoHeight,videoUrl:E};if(!R&&j.length){var F=e.hls.levels,Z=j[0];e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var U=j.reduce((function(e,t){return t&&"number"==typeof t.level&&F&&F.length>0?e+(F[t.level]||{}).bitrate*(t.watchedDurationMs||0)/f.gJ:e}),0),G=j.reduce((function(e,t){return e+(t.watchedDurationMs||0)}),0),V=null,H=0,W=0;do{H+=j[W].watchedDurationMs,V=V||j[W].level,W+=1}while(W<j.length&&j[W].level===V);B.startupVariantKbps=Z.indicatedKbps,B.startupVariantWatchedDurationMs=H,B.startupVariantWidth=Z.sourceWidth,B.startupVariantHeight=Z.sourceHeight,B.startupPlayerWidth=Z.viewportWidth,B.startupPlayerHeight=Z.viewportHeight,B.overallWatchedDurationMs=G,G>0?(B.averageVideoKbps=U/(G/f.gJ),B.rebufferRate=e.playbackPerformance.totalStallDurationMs/G):0===G&&(B.averageVideoKbps=-1,B.rebufferRate=-1,B.errorName="invalid_watch_duration"),B.segments=j}else B.errorName="invalid_watch_duration";(0,p.ZP)(B,!0,u,A({playbackState:e.state.playbackState},n));var K=i.clientTrackingParams,Y=i.component,X=i.durationNs,q=i.element,J=i.objectId,$=i.pairId,Q=i.viewData,ee=i.view,te=i.viewParameter;c({aux_data:A(A({},y(i,m)),{},{is_closeup_video:u,playback_session_id:e.videoSessionId}),clientTrackingParams:K,component:Y,duration_ns:X,element:q,event_data:{videoPerformanceData:B},event_type:3606,object_id_str:J,pair_id:$,view_data:Q,view_parameter:te,view_type:ee}),R?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,p.tE)(R?"sessionStart":"sessionEnd",!0,u,A({playbackState:e.state.playbackState},n))}})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.contextLogData,n=void 0===t?{}:t,r=e.playing,o=n.is_closeup_video,i=void 0!==o&&o;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,i),r&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(f.DR,{initiator:"mount"}))}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props,o=r.loop,i=r.playing,a=r.src,l=r.visible,c=r.appInFocus,s=r.seekTime;s&&s!==e.seekTime&&this.setState({videoStartTime:s}),t=e.src,n=a,(E(t)!==E(n)||(Array.isArray(n)?t.length!==n.length||n.some((function(e,n){return!Array.isArray(t)||e.type!==t[n].type||e.src!==t[n].src})):n!==t))&&this.initializeHls(),e.appInFocus&&!c&&(this.logPlaybackPerformance(f.$f,{initiator:"update",loop:o}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===l&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(f.$f,{initiator:"update",loop:o})),!1===e.visible&&!0===l&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(f.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&c&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(f.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}},{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(f.$f,{initiator:"unmount",loop:e}),this.destroyHls()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,l=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.backgroundColor,u=e.captions,p=e.controls,f=e.loop,_=e.loopOverride,m=e.onDurationChange,y=e.onFullscreenChange,v=e.onLoadedChange,g=e.onControlsPlay,b=e.onPlayheadDown,P=e.onPlayheadUp,w=e.onSeek,S=e.onVolumeChange,x=e.playbackRate,O=e.playing,A=e.playsInline,j=e.poster,E=e.preload,T=e.quicExpGroup,C=e.src,D=e.volume,R=this.state,k=R.canPlayVideo,z=R.isManifestParsed,L=R.videoStartTime,M=I(C,T);return(0,h.jsx)(d.nk,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:l,aspectRatio:c,backgroundColor:s,captions:u,controls:p,loop:void 0===_?f:_,onDurationChange:m,onEnded:this.handleEnded,onFullscreenChange:y,onLoadStart:this.handleLoadStart,onLoadedChange:v,onControlsPause:this.handleUserPause,onControlsPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:P,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:x,onPlay:function(){},onPlayError:function(){},playing:z&&k&&O,playsInline:A,poster:j,preload:E,ref:this.setVideoPlayerRef,src:M,startTime:L,volume:D})}}])&&g(t.prototype,n),r&&g(t,r),a}(r.PureComponent);t.Z=(0,r.memo)((function(e){var t=(0,u.B)(),n=t.country,r=t.isAuthenticated,o=t.isBot,i=t.isSocialBot,d=t.unauthId,f=t.userAgent,m=(0,a.Z)(),y=(0,l.Z)(),v=f.browserName,g=f.browserVersion,b=f.isMobile,P=e.contextLogData,w=void 0===P?{}:P,S=w.is_closeup_video,x=void 0!==S&&S,O=w.view,j=w.viewParameter,E=(0,s.F)().checkExperiment,T=(0,_.Hx)().seekTime,I=(0,_.RC)().clearSeekTime,D=null;r&&(D=E("web_video_quic").group.length?E("web_video_quic").group:null);var R=(0,c.I)().appUI,k=E("web_video_fail_to_start_fix").anyEnabled?R.appInFocus:e.appInFocus,z={browserName:v,browserVersion:g,country:n,isAuthenticated:r,isBot:o,is_closeup_video:x,isMobile:b,isSocialBot:i,view:O,viewParameter:j};return(0,p.r$)(z),(0,h.jsx)(C,A(A({},e),{},{userId:y.id||d,appInFocus:k,quicExpGroup:D,logContextEvent:m,seekTime:T,clearSeekTime:I}))}))},964082:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);for(var a in i){var l=i[a].paused;if(a!==e&&!l)return!1}return!0}n.d(t,{Z:function(){return a}})},36971:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return i[e]&&i[e].currentTime}n.d(t,{Z:function(){return a}})},428258:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},t:function(){return o}});var r=function(){var e,t,n,r,o="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0,i=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";return o?"4g"===o?n="40-80":(i="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:i}};function o(e){var t=r(),n=t.downloadSpeedGroup,o=t.screenDimension,i={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:i,"0-1":i,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[n][o]||e.V_720P||void 0}function i(e){var t=e.video_list,n=void 0===t?{}:t,r=o(n),i=n.V_HLSV3_MOBILE||void 0;return r?{hlsv3:i,mp4:r}:{hlsv3:i}}},868565:function(e,t,n){"use strict";function r(e){var t=e.videos&&e.videos.video_list;return t&&Object.keys(t).length?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:function(){return r}})},463045:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return!!i[e]&&!i[e].paused}n.d(t,{Z:function(){return a}})},969315:function(e,t,n){"use strict";n.d(t,{ZP:function(){return y},r$:function(){return h},tE:function(){return m}});var r=n(311560),o=n(172071),i=n(179888);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=["isCellular","videoUrl","sessionMark"],p={},f="",_=function(e){return e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200"},h=function(e){var t=e.browserName,n=e.browserVersion,o=e.country,i=e.isAuthenticated,a=e.isBot,l=e.isMobile,c=e.isSocialBot,s=e.view,u=void 0===s?"unknown":s,d=e.viewParameter,_=void 0===d?"unknown":d;f=(c?"socialBot":a&&"bot")||"nonbot";var h=(0,r.Z)(o);p={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:i,isMobile:l,region:h,view:u,viewParameter:_}};function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n?"closeup":"nonCloseup",a=t?"hls":"nonHls",l=s(s({},r),p),c="web.video.".concat(a,".").concat(f,".").concat(i,".").concat(e);o.Z.increment(c,1,l)}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=n?"closeup":"nonCloseup",c=t?"hls":"nonHls",u=e.sessionMark===i.DR?"sessionStart":"sessionEnd",h=s(s({},r),p);if(Object.entries(e).forEach((function(t){var n=a(t,2),r=n[0],i=n[1],p="web.video.".concat(c,".").concat(f,".").concat(l,".").concat(u,".").concat(r),m=parseInt(i,10),y="number"==typeof m?m:-1;if(!d.includes(r))if(r.includes("fatalError")&&!0===i){var v=e.errorCode,g=e.errorName,b=e.errorReason;o.Z.increment(p,1,s({errorCode:v,errorName:g,errorReason:b},h))}else if(r.includes("Width")||r.includes("Height")){var P=_(y);o.Z.increment(p,1,s({dimensionBucket:P},h))}else if("numberOfStalls"===r){var w=i;y>1e3?w="over1000":y>10?w="over10":y<0&&(w="negative"),o.Z.increment(p,1,s({numberOfStalls:w},h))}else"screenPixelScale"===r?o.Z.increment(p,1,s({screenPixelScale:i||-1},h)):y>=0?(0===y&&o.Z.increment("".concat(p,".zero"),1,h),o.Z.timing(p,y,1),o.Z.timing("".concat(p,"_with_tags"),y,1,h)):y<0&&o.Z.increment("".concat(p,".negative"),1,h)})),e.sessionMark!==i.DR){var m=e.rebufferRate,y=e.screenPixelScale,v=e.startupLatencyMs,g=e.startupVariantWidth,b=e.startupPlayerWidth,P="web.video.".concat(c,".").concat(f,".").concat(l,".").concat(u);if("number"==typeof g&&"number"==typeof b&&"number"==typeof y){var w=1.5*g>y*b;o.Z.increment("".concat(P,".upscaled.").concat(w?"good":"bad"),1,h)}"number"==typeof v&&o.Z.increment("".concat(P,".startupLatency.").concat(v<500?"good":"bad"),1,h),"number"==typeof m&&o.Z.increment("".concat(P,".rebufferRate.").concat(m<.01?"good":"bad"),1,h)}}},179888:function(e,t,n){"use strict";n.d(t,{$f:function(){return i},Cy:function(){return s},DR:function(){return o},EB:function(){return p},Fm:function(){return c},Y7:function(){return d},bR:function(){return l},gJ:function(){return a},lG:function(){return u}});var r=n(353356),o=1,i=2,a=1e3,l=1e3,c=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function d(e){return e+"-"+(0,r.Z)()}function p(){return(0,r.Z)()}},121630:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},e:function(){return o}});var r=n(81226),o=function(e){if("undefined"==typeof window)return"";var t=0,n=document.querySelector('[data-test-id="header"]');null!==n&&(t+=n.getBoundingClientRect().height);switch(e){case"AuthHomefeed":var r=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==r)t+=r.getBoundingClientRect().height;break;case"SearchItem":var o=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==o)t+=o.getBoundingClientRect().height;var i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i)t+=i.getBoundingClientRect().height}return"".concat(-1*t,"px 0px 0px 0px")},i=function(e){var t,n,o,i,a;return(0,r.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(o=n.video_list)||void 0===o||null===(i=o.V_HLSV4)||void 0===i?void 0:i.duration)||(null===(a=e.story_pin_data)||void 0===a?void 0:a.total_video_duration)||0)}},905723:function(e,t){"use strict";t.Z={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},229428:function(e,t,n){"use strict";function r(e){return e.filter((function(e){return e.is_stela}))}function o(e){return e.filter((function(e){return!!e.label}))}n.d(t,{k:function(){return r},m:function(){return o}})},487392:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(784590),o=n(19121),i=n(780280);function a(){var e,t=(0,i.B)(),n=(0,o.Z)(),a=t.advertiser,l=(0,r.Z)(null!=a&&a.merchant_id?null:{name:"UserResource",options:{user_id:a?a.owner_user_id:n.isAuth&&n.id,field_set_key:"merchant_summary"}});return{merchantId:(null==a?void 0:a.merchant_id)||(null===(e=l.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==a?void 0:a.id)||"",ownerUserId:(null==a?void 0:a.owner_user_id)||(n.isAuth?n.id:""),advertiser:a}}},183051:function(e,t,n){"use strict";n.d(t,{C:function(){return o},O:function(){return r}});var r=function(){return["".concat(2),"".concat(100),"".concat(101),"".concat(102),"".concat(103),"".concat(129),"".concat(138),"".concat(139),"".concat(140),"".concat(143),"".concat(150),"".concat(152),"".concat(155),"".concat(9051)]},o=function(){return["".concat(108),"".concat(114),"".concat(115),"".concat(116),"".concat(117),"".concat(118),"".concat(119),"".concat(121),"".concat(123),"".concat(124),"".concat(125),"".concat(126),"".concat(127),"".concat(129),"".concat(130),"".concat(131),"".concat(132),"".concat(133),"".concat(134),"".concat(136),"".concat(137),"".concat(144),"".concat(145),"".concat(146),"".concat(147),"".concat(148),"".concat(149),"".concat(153),"".concat(154),"".concat(155),"".concat(157),"".concat(158),"".concat(159),"".concat(160),"".concat(161),"".concat(162),"".concat(163),"".concat(164),"".concat(165),"".concat(166),"".concat(167),"".concat(168),"".concat(169),"".concat(170),"".concat(171),"".concat(174),"".concat(175),"".concat(176),"".concat(179),"".concat(180),"".concat(181),"".concat(182),"".concat(183),"".concat(184),"".concat(185),"".concat(186),"".concat(188),"".concat(189),"".concat(191),"".concat(192),"".concat(4029),"".concat(4043),"".concat(4055)]}},488177:function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{$E:function(){return i},AG:function(){return P},EF:function(){return _},F4:function(){return y},HB:function(){return S},Hm:function(){return f},N7:function(){return l},OF:function(){return d},Qv:function(){return p},RS:function(){return v},TL:function(){return h},Wd:function(){return u},Wg:function(){return x},gp:function(){return b},n6:function(){return m},pg:function(){return a},qN:function(){return c},ul:function(){return g},v6:function(){return w},yn:function(){return s}});var i=[1,3],a=(o(r={},1,5),o(r,2,8),o(r,3,24),o(r,4,24),r),l={inStockCount:"inStockProductCount",outOfStockCount:"outOfStockProductCount",preorderCount:"preorderProductCount"},c={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",COMPLETED_EARLY:"COMPLETED_EARLY",UNDER_REVIEW:"UNDER_REVIEW",DISAPPROVED:"DISAPPROVED",QUEUED_FOR_PROCESSING:"QUEUED_FOR_PROCESSING",UNDER_APPEAL:"UNDER_APPEAL"},s={PENDING:"PENDING",ACTIVE:"ACTIVE",PAUSED:"PAUSED",DISABLED:"DISABLED",INACTIVE:"INACTIVE"},u={APPROVED:"approved",PENDING:"pending",DECLINED:"declined",REVOKED:"revoked",STAGING:"staging",PROD_TEST:"prod_test",APPEAL_PENDING:"appeal_pending"},d={MARKETPLACE:"MARKETPLACE",MARKETPLACE_SECOND_HAND:"MARKETPLACE_SECOND_HAND",MARKETPLACE_AFFILIATES:"MARKETPLACE_AFFILIATES",MARKETPLACE_WHOLESALE:"MARKETPLACE_WHOLESALE",PROHIBITED_PRODUCTS:"PROHIBITED_PRODUCTS",SERVICES:"SERVICES",DOMAIN_AGE:"DOMAIN_AGE",DOMAIN_MISMATCH:"DOMAIN_MISMATCH",SHIPPING:"SHIPPING",RETURNS:"RETURNS",BROKEN_URL:"BROKEN_URL",BROKEN_404:"BROKEN_404",BROKEN_REGISTRATION:"BROKEN_REGISTRATION",INCOMPLETE:"INCOMPLETE",AUTHENTICITY:"AUTHENTICITY",IN_STOCK:"IN_STOCK",BANNER_ADS:"BANNER_ADS",LOW_QUALITY_IMAGERY:"LOW_QUALITY_IMAGERY",SALE:"SALE",OUT_OF_DATE:"OUT_OF_DATE",PRODUCTS:"PRODUCTS",POP_UP:"POP_UP",MINIMUM_WEBSITE_QUALITY:"MINIMUM_WEBSITE_QUALITY",BROKEN_SOCIAL_MEDIA:"BROKEN_SOCIAL_MEDIA",INACTIVE_FEED:"INACTIVE_FEED",TERMINATED:"TERMINATED",LABELING:"LABELING",TS:"TS",ADS_QUALITY:"ADS_QUALITY",PINNER:"PINNER",SHOPPING:"SHOPPING",MERCHANT:"MERCHANT",RESALE_MARKETPLACE:"RESALE_MARKETPLACE",AFFILIATE_MARKETPLACE:"AFFILIATE_MARKETPLACE",WEBSITE_REQUIREMENTS:"WEBSITE_REQUIREMENTS",PRODUCT_REQUIREMENTS:"PRODUCT_REQUIREMENTS",BRAND_REPUTATION:"BRAND_REPUTATION"},p=[d.TS,d.ADS_QUALITY,d.PINNER,d.SHOPPING,d.MERCHANT],f={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",NEW_NOT_YET_ACTIVE:"NEW_NOT_YET_ACTIVE",TESTING:"TESTING"},_=[c.PROCESSING,c.QUEUED_FOR_PROCESSING],h={DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12,I2PC_MODAL_GOT_IT_DISMISSED:13},m={PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7},y="USD",v="None",g={IN_STOCK:"IN STOCK",OUT_OF_STOCK:"OUT OF STOCK",PREORDER:"PREORDER"},b=function(e){return[{value:"AED",label:e._('AED - United Arab Emirates Dirham', '[catalogs] name of AED currency', '[catalogs] name of AED currency')},{value:"AFN",label:e._('AFN - Afghanistan Afghani', '[catalogs] name of AFN currency', '[catalogs] name of AFN currency')},{value:"ALL",label:e._('ALL - Albania Lek', '[catalogs] name of ALL currency', '[catalogs] name of ALL currency')},{value:"AMD",label:e._('AMD - Armenia Dram', '[catalogs] name of AMD currency', '[catalogs] name of AMD currency')},{value:"ANG",label:e._('ANG - Netherlands Antilles Guilder', '[catalogs] name of ANG currency', '[catalogs] name of ANG currency')},{value:"AOA",label:e._('AOA - Angola Kwanza', '[catalogs] name of AOA currency', '[catalogs] name of AOA currency')},{value:"ARS",label:e._('ARS - Argentina Peso', '[catalogs] name of ARS currency', '[catalogs] name of ARS currency')},{value:"AUD",label:e._('AUD - Australia Dollar', '[catalogs] name of AUD currency', '[catalogs] name of AUD currency')},{value:"AWG",label:e._('AWG - Aruba Guilder', '[catalogs] name of AWG currency', '[catalogs] name of AWG currency')},{value:"AZN",label:e._('AZN - Azerbaijan New Manat', '[catalogs] name of AZN currency', '[catalogs] name of AZN currency')},{value:"BAM",label:e._('BAM - Bosnia and Herzegovina Convertible Marka', '[catalogs] name of BAM currency', '[catalogs] name of BAM currency')},{value:"BBD",label:e._('BBD - Barbados Dollar', '[catalogs] name of BBD currency', '[catalogs] name of BBD currency')},{value:"BDT",label:e._('BDT - Bangladesh Taka', '[catalogs] name of BDT currency', '[catalogs] name of BDT currency')},{value:"BGN",label:e._('BGN - Bulgaria Lev', '[catalogs] name of BGN currency', '[catalogs] name of BGN currency')},{value:"BHD",label:e._('BHD - Bahrain Dinar', '[catalogs] name of BHD currency', '[catalogs] name of BHD currency')},{value:"BIF",label:e._('BIF - Burundi Franc', '[catalogs] name of BIF currency', '[catalogs] name of BIF currency')},{value:"BMD",label:e._('BMD - Bermuda Dollar', '[catalogs] name of BMD currency', '[catalogs] name of BMD currency')},{value:"BND",label:e._('BND - Brunei Darussalam Dollar', '[catalogs] name of BND currency', '[catalogs] name of BND currency')},{value:"BOB",label:e._('BOB - Bolivia Boliviano', '[catalogs] name of BOB currency', '[catalogs] name of BOB currency')},{value:"BRL",label:e._('BRL - Brazil Real', '[catalogs] name of BRL currency', '[catalogs] name of BRL currency')},{value:"BSD",label:e._('BSD - Bahamas Dollar', '[catalogs] name of BSD currency', '[catalogs] name of BSD currency')},{value:"BTN",label:e._('BTN - Bhutan Ngultrum', '[catalogs] name of BTN currency', '[catalogs] name of BTN currency')},{value:"BWP",label:e._('BWP - Botswana Pula', '[catalogs] name of BWP currency', '[catalogs] name of BWP currency')},{value:"BYR",label:e._('BYR - Belarus Ruble', '[catalogs] name of BYR currency', '[catalogs] name of BYR currency')},{value:"BZD",label:e._('BZD - Belize Dollar', '[catalogs] name of BZD currency', '[catalogs] name of BZD currency')},{value:"CAD",label:e._('CAD - Canada Dollar', '[catalogs] name of CAD currency', '[catalogs] name of CAD currency')},{value:"CDF",label:e._('CDF - Congo/Kinshasa Franc', '[catalogs] name of CDF currency', '[catalogs] name of CDF currency')},{value:"CHF",label:e._('CHF - Switzerland Franc', '[catalogs] name of CHF currency', '[catalogs] name of CHF currency')},{value:"CLP",label:e._('CLP - Chile Peso', '[catalogs] name of CLP currency', '[catalogs] name of CLP currency')},{value:"CNY",label:e._('CNY - China Yuan Renminbi', '[catalogs] name of CNY currency', '[catalogs] name of CNY currency')},{value:"COP",label:e._('COP - Colombia Peso', '[catalogs] name of COP currency', '[catalogs] name of COP currency')},{value:"CRC",label:e._('CRC - Costa Rica Colon', '[catalogs] name of CRC currency', '[catalogs] name of CRC currency')},{value:"CUC",label:e._('CUC - Cuba Convertible Peso', '[catalogs] name of CUC currency', '[catalogs] name of CUC currency')},{value:"CUP",label:e._('CUP - Cuba Peso', '[catalogs] name of CUP currency', '[catalogs] name of CUP currency')},{value:"CVE",label:e._('CVE - Cape Verde Escudo', '[catalogs] name of CVE currency', '[catalogs] name of CVE currency')},{value:"CZK",label:e._('CZK - Czech Republic Koruna', '[catalogs] name of CZK currency', '[catalogs] name of CZK currency')},{value:"DJF",label:e._('DJF - Djibouti Franc', '[catalogs] name of DJF currency', '[catalogs] name of DJF currency')},{value:"DKK",label:e._('DKK - Denmark Krone', '[catalogs] name of DKK currency', '[catalogs] name of DKK currency')},{value:"DOP",label:e._('DOP - Dominican Republic Peso', '[catalogs] name of DOP currency', '[catalogs] name of DOP currency')},{value:"DZD",label:e._('DZD - Algeria Dinar', '[catalogs] name of DZD currency', '[catalogs] name of DZD currency')},{value:"EGP",label:e._('EGP - Egypt Pound', '[catalogs] name of EGP currency', '[catalogs] name of EGP currency')},{value:"ERN",label:e._('ERN - Eritrea Nakfa', '[catalogs] name of ERN currency', '[catalogs] name of ERN currency')},{value:"ETB",label:e._('ETB - Ethiopia Birr', '[catalogs] name of ETB currency', '[catalogs] name of ETB currency')},{value:"EUR",label:e._('EUR - Euro Member Countries', '[catalogs] name of EUR currency', '[catalogs] name of EUR currency')},{value:"FJD",label:e._('FJD - Fiji Dollar', '[catalogs] name of FJD currency', '[catalogs] name of FJD currency')},{value:"FKP",label:e._('FKP - Falkland Islands (Malvinas) Pound', '[catalogs] name of FKP currency', '[catalogs] name of FKP currency')},{value:"GBP",label:e._('GBP - United Kingdom Pound', '[catalogs] name of GBP currency', '[catalogs] name of GBP currency')},{value:"GEL",label:e._('GEL - Georgia Lari', '[catalogs] name of GEL currency', '[catalogs] name of GEL currency')},{value:"GGP",label:e._('GGP - Guernsey Pound', '[catalogs] name of GGP currency', '[catalogs] name of GGP currency')},{value:"GHS",label:e._('GHS - Ghana Cedi', '[catalogs] name of GHS currency', '[catalogs] name of GHS currency')},{value:"GIP",label:e._('GIP - Gibraltar Pound', '[catalogs] name of GIP currency', '[catalogs] name of GIP currency')},{value:"GMD",label:e._('GMD - Gambia Dalasi', '[catalogs] name of GMD currency', '[catalogs] name of GMD currency')},{value:"GNF",label:e._('GNF - Guinea Franc', '[catalogs] name of GNF currency', '[catalogs] name of GNF currency')},{value:"GTQ",label:e._('GTQ - Guatemala Quetzal', '[catalogs] name of GTQ currency', '[catalogs] name of GTQ currency')},{value:"GYD",label:e._('GYD - Guyana Dollar', '[catalogs] name of GYD currency', '[catalogs] name of GYD currency')},{value:"HKD",label:e._('HKD - Hong Kong Dollar', '[catalogs] name of HKD currency', '[catalogs] name of HKD currency')},{value:"HNL",label:e._('HNL - Honduras Lempira', '[catalogs] name of HNL currency', '[catalogs] name of HNL currency')},{value:"HRK",label:e._('HRK - Croatia Kuna', '[catalogs] name of HRK currency', '[catalogs] name of HRK currency')},{value:"HTG",label:e._('HTG - Haiti Gourde', '[catalogs] name of HTG currency', '[catalogs] name of HTG currency')},{value:"HUF",label:e._('HUF - Hungary Forint', '[catalogs] name of HUF currency', '[catalogs] name of HUF currency')},{value:"IDR",label:e._('IDR - Indonesia Rupiah', '[catalogs] name of IDR currency', '[catalogs] name of IDR currency')},{value:"ILS",label:e._('ILS - Israel Shekel', '[catalogs] name of ILS currency', '[catalogs] name of ILS currency')},{value:"IMP",label:e._('IMP - Isle of Man Pound', '[catalogs] name of IMP currency', '[catalogs] name of IMP currency')},{value:"INR",label:e._('INR - India Rupee', '[catalogs] name of INR currency', '[catalogs] name of INR currency')},{value:"IQD",label:e._('IQD - Iraq Dinar', '[catalogs] name of IQD currency', '[catalogs] name of IQD currency')},{value:"IRR",label:e._('IRR - Iran Rial', '[catalogs] name of IRR currency', '[catalogs] name of IRR currency')},{value:"ISK",label:e._('ISK - Iceland Krona', '[catalogs] name of ISK currency', '[catalogs] name of ISK currency')},{value:"JEP",label:e._('JEP - Jersey Pound', '[catalogs] name of JEP currency', '[catalogs] name of JEP currency')},{value:"JMD",label:e._('JMD - Jamaica Dollar', '[catalogs] name of JMD currency', '[catalogs] name of JMD currency')},{value:"JOD",label:e._('JOD - Jordan Dinar', '[catalogs] name of JOD currency', '[catalogs] name of JOD currency')},{value:"JPY",label:e._('JPY - Japan Yen', '[catalogs] name of JPY currency', '[catalogs] name of JPY currency')},{value:"KES",label:e._('KES - Kenya Shilling', '[catalogs] name of KES currency', '[catalogs] name of KES currency')},{value:"KGS",label:e._('KGS - Kyrgyzstan Som', '[catalogs] name of KGS currency', '[catalogs] name of KGS currency')},{value:"KHR",label:e._('KHR - Cambodia Riel', '[catalogs] name of KHR currency', '[catalogs] name of KHR currency')},{value:"KMF",label:e._('KMF - Comoros Franc', '[catalogs] name of KMF currency', '[catalogs] name of KMF currency')},{value:"KPW",label:e._('KPW - Korea (North) Won', '[catalogs] name of KPW currency', '[catalogs] name of KPW currency')},{value:"KRW",label:e._('KRW - Korea (South) Won', '[catalogs] name of KRW currency', '[catalogs] name of KRW currency')},{value:"KWD",label:e._('KWD - Kuwait Dinar', '[catalogs] name of KWD currency', '[catalogs] name of KWD currency')},{value:"KYD",label:e._('KYD - Cayman Islands Dollar', '[catalogs] name of KYD currency', '[catalogs] name of KYD currency')},{value:"KZT",label:e._('KZT - Kazakhstan Tenge', '[catalogs] name of KZT currency', '[catalogs] name of KZT currency')},{value:"LAK",label:e._('LAK - Laos Kip', '[catalogs] name of LAK currency', '[catalogs] name of LAK currency')},{value:"LBP",label:e._('LBP - Lebanon Pound', '[catalogs] name of LBP currency', '[catalogs] name of LBP currency')},{value:"LKR",label:e._('LKR - Sri Lanka Rupee', '[catalogs] name of LKR currency', '[catalogs] name of LKR currency')},{value:"LRD",label:e._('LRD - Liberia Dollar', '[catalogs] name of LRD currency', '[catalogs] name of LRD currency')},{value:"LSL",label:e._('LSL - Lesotho Loti', '[catalogs] name of LSL currency', '[catalogs] name of LSL currency')},{value:"LYD",label:e._('LYD - Libya Dinar', '[catalogs] name of LYD currency', '[catalogs] name of LYD currency')},{value:"MAD",label:e._('MAD - Morocco Dirham', '[catalogs] name of MAD currency', '[catalogs] name of MAD currency')},{value:"MDL",label:e._('MDL - Moldova Leu', '[catalogs] name of MDL currency', '[catalogs] name of MDL currency')},{value:"MGA",label:e._('MGA - Madagascar Ariary', '[catalogs] name of MGA currency', '[catalogs] name of MGA currency')},{value:"MKD",label:e._('MKD - Macedonia Denar', '[catalogs] name of MKD currency', '[catalogs] name of MKD currency')},{value:"MMK",label:e._('MMK - Myanmar (Burma) Kyat', '[catalogs] name of MMK currency', '[catalogs] name of MMK currency')},{value:"MNT",label:e._('MNT - Mongolia Tughrik', '[catalogs] name of MNT currency', '[catalogs] name of MNT currency')},{value:"MOP",label:e._('MOP - Macau Pataca', '[catalogs] name of MOP currency', '[catalogs] name of MOP currency')},{value:"MRO",label:e._('MRO - Mauritania Ouguiya', '[catalogs] name of MRO currency', '[catalogs] name of MRO currency')},{value:"MUR",label:e._('MUR - Mauritius Rupee', '[catalogs] name of MUR currency', '[catalogs] name of MUR currency')},{value:"MVR",label:e._('MVR - Maldives (Maldive Islands) Rufiyaa', '[catalogs] name of MVR currency', '[catalogs] name of MVR currency')},{value:"MWK",label:e._('MWK - Malawi Kwacha', '[catalogs] name of MWK currency', '[catalogs] name of MWK currency')},{value:"MXN",label:e._('MXN - Mexico Peso', '[catalogs] name of MXN currency', '[catalogs] name of MXN currency')},{value:"MYR",label:e._('MYR - Malaysia Ringgit', '[catalogs] name of MYR currency', '[catalogs] name of MYR currency')},{value:"MZN",label:e._('MZN - Mozambique Metical', '[catalogs] name of MZN currency', '[catalogs] name of MZN currency')},{value:"NAD",label:e._('NAD - Namibia Dollar', '[catalogs] name of NAD currency', '[catalogs] name of NAD currency')},{value:"NGN",label:e._('NGN - Nigeria Naira', '[catalogs] name of NGN currency', '[catalogs] name of NGN currency')},{value:"NIO",label:e._('NIO - Nicaragua Cordoba', '[catalogs] name of NIO currency', '[catalogs] name of NIO currency')},{value:"NOK",label:e._('NOK - Norway Krone', '[catalogs] name of NOK currency', '[catalogs] name of NOK currency')},{value:"NPR",label:e._('NPR - Nepal Rupee', '[catalogs] name of NPR currency', '[catalogs] name of NPR currency')},{value:"NZD",label:e._('NZD - New Zealand Dollar', '[catalogs] name of NZD currency', '[catalogs] name of NZD currency')},{value:"OMR",label:e._('OMR - Oman Rial', '[catalogs] name of OMR currency', '[catalogs] name of OMR currency')},{value:"PAB",label:e._('PAB - Panama Balboa', '[catalogs] name of PAB currency', '[catalogs] name of PAB currency')},{value:"PEN",label:e._('PEN - Peru Nuevo Sol', '[catalogs] name of PEN currency', '[catalogs] name of PEN currency')},{value:"PGK",label:e._('PGK - Papua New Guinea Kina', '[catalogs] name of PGK currency', '[catalogs] name of PGK currency')},{value:"PHP",label:e._('PHP - Philippines Peso', '[catalogs] name of PHP currency', '[catalogs] name of PHP currency')},{value:"PKR",label:e._('PKR - Pakistan Rupee', '[catalogs] name of PKR currency', '[catalogs] name of PKR currency')},{value:"PLN",label:e._('PLN - Poland Zloty', '[catalogs] name of PLN currency', '[catalogs] name of PLN currency')},{value:"PYG",label:e._('PYG - Paraguay Guarani', '[catalogs] name of PYG currency', '[catalogs] name of PYG currency')},{value:"QAR",label:e._('QAR - Qatar Riyal', '[catalogs] name of QAR currency', '[catalogs] name of QAR currency')},{value:"RON",label:e._('RON - Romania New Leu', '[catalogs] name of RON currency', '[catalogs] name of RON currency')},{value:"RSD",label:e._('RSD - Serbia Dinar', '[catalogs] name of RSD currency', '[catalogs] name of RSD currency')},{value:"RUB",label:e._('RUB - Russia Ruble', '[catalogs] name of RUB currency', '[catalogs] name of RUB currency')},{value:"RWF",label:e._('RWF - Rwanda Franc', '[catalogs] name of RWF currency', '[catalogs] name of RWF currency')},{value:"SAR",label:e._('SAR - Saudi Arabia Riyal', '[catalogs] name of SAR currency', '[catalogs] name of SAR currency')},{value:"SBD",label:e._('SBD - Solomon Islands Dollar', '[catalogs] name of SBD currency', '[catalogs] name of SBD currency')},{value:"SCR",label:e._('SCR - Seychelles Rupee', '[catalogs] name of SCR currency', '[catalogs] name of SCR currency')},{value:"SDG",label:e._('SDG - Sudan Pound', '[catalogs] name of SDG currency', '[catalogs] name of SDG currency')},{value:"SEK",label:e._('SEK - Sweden Krona', '[catalogs] name of SEK currency', '[catalogs] name of SEK currency')},{value:"SGD",label:e._('SGD - Singapore Dollar', '[catalogs] name of SGD currency', '[catalogs] name of SGD currency')},{value:"SHP",label:e._('SHP - Saint Helena Pound', '[catalogs] name of SHP currency', '[catalogs] name of SHP currency')},{value:"SLL",label:e._('SLL - Sierra Leone Leone', '[catalogs] name of SLL currency', '[catalogs] name of SLL currency')},{value:"SOS",label:e._('SOS - Somalia Shilling', '[catalogs] name of SOS currency', '[catalogs] name of SOS currency')},{value:"SPL",label:e._('SPL - Seborga Luigino', '[catalogs] name of SPL currency', '[catalogs] name of SPL currency')},{value:"SRD",label:e._('SRD - Suriname Dollar', '[catalogs] name of SRD currency', '[catalogs] name of SRD currency')},{value:"STD",label:e._('STD - So Tom and Prncipe Dobra', '[catalogs] name of STD currency', '[catalogs] name of STD currency')},{value:"SVC",label:e._('SVC - El Salvador Colon', '[catalogs] name of SVC currency', '[catalogs] name of SVC currency')},{value:"SYP",label:e._('SYP - Syria Pound', '[catalogs] name of SYP currency', '[catalogs] name of SYP currency')},{value:"SZL",label:e._('SZL - Swaziland Lilangeni', '[catalogs] name of SZL currency', '[catalogs] name of SZL currency')},{value:"THB",label:e._('THB - Thailand Baht', '[catalogs] name of THB currency', '[catalogs] name of THB currency')},{value:"TJS",label:e._('TJS - Tajikistan Somoni', '[catalogs] name of TJS currency', '[catalogs] name of TJS currency')},{value:"TMT",label:e._('TMT - Turkmenistan Manat', '[catalogs] name of TMT currency', '[catalogs] name of TMT currency')},{value:"TND",label:e._('TND - Tunisia Dinar', '[catalogs] name of TND currency', '[catalogs] name of TND currency')},{value:"TOP",label:e._('TOP - Tonga Pa\'anga', '[catalogs] name of TOP currency', '[catalogs] name of TOP currency')},{value:"TRY",label:e._('TRY - Turkey Lira', '[catalogs] name of TRY currency', '[catalogs] name of TRY currency')},{value:"TTD",label:e._('TTD - Trinidad and Tobago Dollar', '[catalogs] name of TTD currency', '[catalogs] name of TTD currency')},{value:"TVD",label:e._('TVD - Tuvalu Dollar', '[catalogs] name of TVD currency', '[catalogs] name of TVD currency')},{value:"TWD",label:e._('TWD - Taiwan New Dollar', '[catalogs] name of TWD currency', '[catalogs] name of TWD currency')},{value:"TZS",label:e._('TZS - Tanzania Shilling', '[catalogs] name of TZS currency', '[catalogs] name of TZS currency')},{value:"UAH",label:e._('UAH - Ukraine Hryvnia', '[catalogs] name of UAH currency', '[catalogs] name of UAH currency')},{value:"UGX",label:e._('UGX - Uganda Shilling', '[catalogs] name of UGX currency', '[catalogs] name of UGX currency')},{value:"USD",label:e._('USD - United States Dollar', '[catalogs] name of USD currency', '[catalogs] name of USD currency')},{value:"UYU",label:e._('UYU - Uruguay Peso', '[catalogs] name of UYU currency', '[catalogs] name of UYU currency')},{value:"UZS",label:e._('UZS - Uzbekistan Som', '[catalogs] name of UZS currency', '[catalogs] name of UZS currency')},{value:"VEF",label:e._('VEF - Venezuela Bolivar', '[catalogs] name of VEF currency', '[catalogs] name of VEF currency')},{value:"VND",label:e._('VND - Viet Nam Dong', '[catalogs] name of VND currency', '[catalogs] name of VND currency')},{value:"VUV",label:e._('VUV - Vanuatu Vatu', '[catalogs] name of VUV currency', '[catalogs] name of VUV currency')},{value:"WST",label:e._('WST - Samoa Tala', '[catalogs] name of WST currency', '[catalogs] name of WST currency')},{value:"XAF",label:e._('XAF - Communaut Financire Africaine (BEAC) CFA Franc BEAC', '[catalogs] name of XAF currency', '[catalogs] name of XAF currency')},{value:"XCD",label:e._('XCD - East Caribbean Dollar', '[catalogs] name of XCD currency', '[catalogs] name of XCD currency')},{value:"XDR",label:e._('XDR - International Monetary Fund (IMF) Special Drawing Rights', '[catalogs] name of XDR currency', '[catalogs] name of XDR currency')},{value:"XOF",label:e._('XOF - Communaut Financire Africaine (BCEAO) Franc', '[catalogs] name of XOF currency', '[catalogs] name of XOF currency')},{value:"XPF",label:e._('XPF - Comptoirs Franais du Pacifique (CFP) Franc', '[catalogs] name of XPF currency', '[catalogs] name of XPF currency')},{value:"YER",label:e._('YER - Yemen Rial', '[catalogs] name of YER currency', '[catalogs] name of YER currency')},{value:"ZAR",label:e._('ZAR - South Africa Rand', '[catalogs] name of ZAR currency', '[catalogs] name of ZAR currency')},{value:"ZMW",label:e._('ZMW - Zambia Kwacha', '[catalogs] name of ZMW currency', '[catalogs] name of ZMW currency')},{value:"ZWD",label:e._('ZWD - Zimbabwe Dollar', '[catalogs] name of ZWD currency', '[catalogs] name of ZWD currency')}]},P=["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","CET","CST6CDT","EET","EST","EST5EDT","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich","HST","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion","MET","MST","MST7MDT","PST8PDT","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","WET"],w=[{label:"English (Canada)",value:"en-CA"},{label:"Franais (Canadien)",value:"fr-CA"}],S=20,x="-"},497020:function(e,t,n){"use strict";n.d(t,{Bc:function(){return O},Di:function(){return T},Dy:function(){return b},Hc:function(){return S},I5:function(){return D},Qv:function(){return _},Sx:function(){return k},Vn:function(){return E},Yy:function(){return v},bD:function(){return A},bQ:function(){return f},d9:function(){return I},do:function(){return z},f7:function(){return h},gP:function(){return C},h$:function(){return x},hW:function(){return y},p6:function(){return g},qH:function(){return w},v6:function(){return P}});var r=n(66699),o=n(183051),i=(n(908390),n(451820)),a=n(800751),l=n(488177);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t=e.feedProfile,n=e.workflows;if(n.length){var r,o=n[0].workflowStatus,i=l.EF.includes(o);return o===l.qN.DISAPPROVED?l.yn.DISABLED:(null==t?void 0:t.feedStatus)===l.Hm.INACTIVE?l.yn.PAUSED:o===l.qN.UNDER_REVIEW||o===l.qN.UNDER_APPEAL||i&&(null==t||null===(r=t.lastSuccessfulIngestion)||void 0===r?void 0:r.workflowStatus)!==l.qN.COMPLETED?l.yn.PENDING:null!=t&&t.lastSuccessfulIngestion?l.yn.ACTIVE:l.yn.INACTIVE}return null},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return 0===e&&(t===a.$o.PENDING||t===a.$o.APPEAL_PENDING)},h=function(e){var t;return p(t={},l.yn.PENDING,{color:"subtle",icon:"workflow-status-unstarted",text:e._('Pending', 'catalogs.dataSource.UnderReviewStatus', '[Catalogs] The data source is under review')}),p(t,l.yn.ACTIVE,{color:"success",icon:"workflow-status-in-progress",text:e._('Active', 'catalogs.dataSource.ActiveStatus', '[Catalogs] The feed has ingested successfully.')}),p(t,l.yn.PAUSED,{color:"subtle",icon:"workflow-status-halted",text:e._('Paused', 'catalogs.dataSource.PausedStatus', '[Catalogs] The daily feed ingestion processes are paused and will not refresh')}),p(t,l.yn.DISABLED,{color:"error",icon:"workflow-status-problem",text:e._('Disabled', 'catalogs.dataSource.DisabledStatus', '[Catalogs] The feed has been disapproved by our review team.')}),p(t,l.yn.INACTIVE,{color:"error",icon:"workflow-status-problem",text:e._('Inactive', 'catalogs.dataSource.InactiveStatus', '[Catalogs] The feed has not completed ingestion successfully and needs to be corrected')}),t},m={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce",ADOBE:"Adobe",SALESFORCE:"Salesforce"},y=function(e,t,n){if(n&&n in m)return m[n];if(!t)return e._('-', 'catalogs.dataSource.noFileName', '[Catalogs] no data source file name');var r=t.split("/");if(1===r.length)return t;var o=r.pop();return o.length>15?"../"+o.slice(o.length-15):"../"+o},v=function(e,t,n,o,i){var a=(0,r.Z)(o.ngettext('{{ count }} error', '{{ count }} errors', t, ' - ', ' -- '),{count:i(e,t)}),l=(0,r.Z)(o.ngettext('{{ count }} alert', '{{ count }} alerts', n, ' - ', ' -- '),{count:i(e,n)});return"".concat(a," | ").concat(l)},g=function(e,t,n,r){return n.toDateString()===t.toDateString()?r._('Today', 'catalogs.dataSources.dateAttribute', 'Date represents today in local timezone'):(0,i.Z)(e,t,i.k.NUMERIC)},b=function(e,t){if(!e)return"-";var n=t[e]||e;return n.length>17?n.substring(0,14)+"...":n},P=function(e){return d(d({},e.validationStatsWarnings),e.ingestionStatsWarnings)},w=function(e){return d(d({},e.validationStatsErrors),e.ingestionStatsErrors)},S=function(e){return{warningStats:P(e),errorStats:w(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}},x=function(e,t){return Object.keys(e).length>0||Object.keys(t).length>0},O=function(e){return{id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName}};function A(e){return e.filter((function(e){var t=e.workflowStatus;return t===l.qN.COMPLETED||t===l.qN.COMPLETED_EARLY})).some((function(e){return Object.values(l.N7).some((function(t){return e[t]&&0!==e[t]}))}))}function j(e){var t="".concat(128),n="".concat(1008);return Object.keys(e).every((function(e){return[t,n].includes(e)}))}function E(e,t){return j(t)&&0===Object.keys(e).length||j(t)&&!function(e){return Object.keys(e).some((function(e){return(0,o.C)().includes(e)}))}(e)}function T(e){var t,n=e||{},r=n.feed_format,o=n.feed_default_currency,i=n.default_availability_type,a=n.id,l=n.location_config,c=n.feed_username,s=n.feed_has_password,u=n.feed_status,d=n.preferred_schedule,p=n.locale,f=n.country,_=n.display_name,h=n.last_successful_ingestion,m=n.all_products_pg_item_count,y=n.integration_platform_type,v=n.created_at,g=n.domain,b=n.eligible_for_on_demand_kickoff,P=n.priority_lane;return{id:a,url:l?l.full_feed_fetch_location:"",format:r,defaultCurrency:o,defaultAvailability:i,feedStatus:u,feedPreferredScheduleTime:d?d.time:void 0,feedPreferredScheduleTimezone:d?d.timezone:void 0,feedProfileName:_,integrationPlatformType:y,locale:p,country:f,credential:{username:c,hasPassword:s},lastSuccessfulIngestion:(t=h,t?{workflowStatus:t.workflow_status,workflowId:t.feed_fetch_workflow_id,productCount:t.product_count,inStockProductCount:t.in_stock_product_count,outOfStockProductCount:t.out_of_stock_product_count,preorderProductCount:t.preorder_product_count,originalProductCount:t.original_product_count,dateModified:t.created_at,originalUrl:t.original_url,s3SourceUrl:t.s3_source_url,s3ValidationUrl:t.s3_validation_url,validationStatsWarnings:t.validation_stats_warnings||{},validationStatsErrors:t.validation_stats_errors||{},ingestionStatsWarnings:t.ingestion_stats_warnings||{},ingestionStatsErrors:t.ingestion_stats_errors||{},ingestionStatsInfo:t.ingestion_stats_info||{},lastSuccessfulWorkflowId:t.last_successful_workflow_id}:null),allProductsPGItemCount:m,createdAt:v,domain:g,eligibleForOnDemandKickoff:b,priorityLane:P}}function I(e){return(e||[]).map((function(e){return T(e)}))}function C(e,t){return!!(e.id&&t.id?e.id===t.id:e.feedProfileName&&t.feedProfileName&&e.feedProfileName===t.feedProfileName)}function D(e,t){return e.find((function(e){return C(t,e)}))}var R=function(e,t){var n;return(n={},p(n,l.ul.IN_STOCK,t._('in stock', 'Catalogs.DataSource.feedProfileAvailabilyType.inStock', 'Feed profile in stock availability type')),p(n,l.ul.OUT_OF_STOCK,t._('out of stock', 'Catalogs.DataSource.feedProfileAvailabilyType.outOfStock', 'Feed profile out of stock availability type')),p(n,l.ul.PREORDER,t._('preorder', 'Catalogs.DataSource.feedProfileAvailabilyType.preorder', 'Feed profile preorder availability type')),n)[e]},k=function(e){return[{value:"UNAVAILABLE",label:e._('NONE', 'Catalogs.DataSource.feedProfileAvailabilyType.none', 'Feed profile no availability type')}].concat(c(Object.keys(l.ul).map((function(t){var n;return{value:t,label:(null!==(n=R(l.ul[t],e))&&void 0!==n?n:e._('Unknown Type', 'Catalogs.DataSource.feedProfileAvailabilyType.Unknown', 'Unknown availability type.')).toUpperCase()}}))))},z=function(e){var t,n=null!==(t=e.data)&&void 0!==t?t:{},r=n.product_pin_approval_status,o=void 0===r?"":r,i=n.product_pin_approval_status_reasons,a=n.format,l=n.id,c=n.disapprovalTrackingData;return d(d({},e),{},{data:{product_pin_approval_status:o,product_pin_approval_status_reasons:i,disapprovalTrackingData:c,format:a,id:l}})}},306732:function(e,t,n){"use strict";var r,o,i,a,l,c,s,u;function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Be:function(){return h},DD:function(){return C},EK:function(){return m},Eo:function(){return w},HK:function(){return oe},KO:function(){return B},MD:function(){return U},MU:function(){return G},PD:function(){return H},QE:function(){return R},QX:function(){return q},R0:function(){return te},V0:function(){return x},VO:function(){return ue},WH:function(){return N},XT:function(){return E},Y3:function(){return v},aF:function(){return K},bS:function(){return S},cU:function(){return D},cm:function(){return J},d0:function(){return I},eu:function(){return P},g2:function(){return k},gd:function(){return z},h1:function(){return Y},h8:function(){return f},hh:function(){return T},iu:function(){return ne},j0:function(){return de},j1:function(){return W},k7:function(){return re},kc:function(){return b},kl:function(){return g},kq:function(){return O},l5:function(){return A},pF:function(){return V},pM:function(){return F},pV:function(){return j},ps:function(){return _},q9:function(){return y},qB:function(){return ee},qf:function(){return ce},r2:function(){return L},rC:function(){return Z},rD:function(){return le},sG:function(){return X},ss:function(){return se},t7:function(){return ae},ul:function(){return p},vr:function(){return ie},wZ:function(){return Q},yA:function(){return $},yq:function(){return M}});var p={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},f={NEW:"new",USED:"used",REFURBISHED:"refurbished"},_={MALE:"male",FEMALE:"female",UNISEX:"unisex"},h=(d(r={},1,"All Products"),d(r,2,"Best Deals"),d(r,3,"Most Popular"),d(r,4,"Top Sellers"),d(r,5,"Back In Stock"),d(r,6,"New Arrivals"),r),m={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},y=[1,2,3,4,5,6,7,8],v=[1,2,3,4,5,6,8],g=[1,2,3,4,5,6,7,0,8],b=90,P=350,w=72,S=450,x=200,O=12,A=114,j={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},E={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},T={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},I=[T.PRODUCT_CATEGORY,T.PRODUCT_TYPE,T.BRANDS,T.CUSTOM_LABEL_0,T.CUSTOM_LABEL_1,T.CUSTOM_LABEL_2,T.CUSTOM_LABEL_3,T.CUSTOM_LABEL_4],C=(d(o={},T.ITEM_ID,["ITEM_ID"]),d(o,T.ITEM_GROUP_ID,["ITEM_GROUP_ID"]),d(o,T.PRODUCT_CATEGORY,["GOOGLE_PRODUCT_CATEGORY_0"]),d(o,T.PRODUCT_TYPE,["PRODUCT_TYPE_0"]),d(o,T.COST,["MIN_PRICE","MAX_PRICE"]),d(o,T.BRANDS,["BRAND"]),d(o,T.CUSTOM_LABEL,["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"]),d(o,T.AVAILABILITY,["AVAILABILITY"]),d(o,T.CONDITION,["CONDITION"]),d(o,T.GENDER,["GENDER"]),o),D=[T.CUSTOM_LABEL,T.COST,T.CURRENCY],R=(d(i={},1,p.IN_STOCK),d(i,2,p.OUT_OF_STOCK),d(i,3,p.PREORDER),i),k=(d(a={},1,f.NEW),d(a,2,f.USED),d(a,3,f.REFURBISHED),a),z=(d(l={},1,_.MALE),d(l,2,_.FEMALE),d(l,3,_.UNISEX),l),L=(d(c={},1,T.ITEM_ID),d(c,5,T.PRODUCT_CATEGORY),d(c,12,T.PRODUCT_TYPE),d(c,3,T.BRANDS),d(c,2,T.AVAILABILITY),d(c,17,T.CUSTOM_LABEL_0),d(c,18,T.CUSTOM_LABEL_1),d(c,19,T.CUSTOM_LABEL_2),d(c,20,T.CUSTOM_LABEL_3),d(c,21,T.CUSTOM_LABEL_4),d(c,4,T.CONDITION),d(c,25,T.GENDER),d(c,22,T.PRICE),d(c,23,T.PRICE),d(c,26,T.CURRENCY),d(c,24,T.ITEM_GROUP_ID),c),M=(d(s={},T.ITEM_ID,1),d(s,T.PRODUCT_CATEGORY,5),d(s,T.PRODUCT_TYPE,12),d(s,T.BRANDS,3),d(s,T.AVAILABILITY,2),d(s,T.CUSTOM_LABEL_0,17),d(s,T.CUSTOM_LABEL_1,18),d(s,T.CUSTOM_LABEL_2,19),d(s,T.CUSTOM_LABEL_3,20),d(s,T.CUSTOM_LABEL_4,21),d(s,T.CONDITION,4),d(s,T.GENDER,25),d(s,T.PRICE,23),d(s,T.CURRENCY,26),d(s,T.ITEM_GROUP_ID,24),s),N={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},B=(d(u={},N.GREATER_EXCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!1}}),d(u,N.GREATER_INCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!0}}),d(u,N.LESS_EXCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!1}}),d(u,N.LESS_INCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!0}}),u),F="newlyCreatedPGId",Z="storefront",U={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},G=163,V=350,H={LIST:"LIST",GRID:"GRID"},W="236x",K=23,Y=164,X=256,q=112,J="calc(100vh - ".concat(175,"px)"),$=75,Q=200,ee=40,te={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},ne=500,re=20,oe=40,ie=100,ae=4,le={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},ce={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},se="US",ue="selectedCountryKey",de="selectedFeedProfileId"},400264:function(e,t,n){"use strict";n.d(t,{G7:function(){return _},Lp:function(){return v},Ib:function(){return u}});var r=n(76911),o=n(898781),i=n(784590),a=n(306732);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=(0,o.ZP)(),s=(0,i.Z)(t?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:n}),u=(0,r.useMemo)((function(){return s.data&&s.isLoaded?s.data.map((function(e){return e.name===a.Be[Number(e.type)]&&(1===Number(e.type)?e.name=l._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products'):2===Number(e.type)?e.name=l._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals'):3===Number(e.type)?e.name=l._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular'):4===Number(e.type)?e.name=l._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers'):5===Number(e.type)?e.name=l._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock'):6===Number(e.type)&&(e.name=l._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals'))),e})):[]}),[l,s.data,s.isLoaded]);return c(c({},s),{},{data:u})}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.Z)(t?null:{name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e});return(0,r.useEffect)((function(){n.isAtEnd||n.fetchMore()}),[n.nextBookmark]),p(p({},n),{},{data:n&&n.data||[]})}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return m(m({},t),{},{data:t&&t.data||{}})}},869899:function(e,t,n){"use strict";n.r(t),n.d(t,{RoleBasedAccessControlProvider:function(){return C},useRoleBasedAccessControlContext:function(){return I}});var r=n(76911),o=n(389643),i=n(784590),a=n(19121),l=n(773285),c=n(425288),s=n(70061);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==h(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,s.Z)(r)]=t[r]:n[(0,s.Z)(r)]=e(t[r]));return n},y=function(e,t){var n=[];for(var r in e)r!==t&&n.push(f({id:r},m(e[r])));var o,i=n.sort((function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)})),a=new Map,l=u(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;a.set(c.id,c)}}catch(s){l.e(s)}finally{l.f()}return a},v=n(339363);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},O=function(e,t){switch(t.type){case"LOAD_PROFILES":return w(w({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return w(w({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return w(w({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return w(w({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return w(w({},e),{},{disableProfileChanger:t.payload});default:return e}},A=function(e){var t=g((0,r.useReducer)(O,x),2),n=t[0],o=t[1],i=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,r.useCallback)((function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[n,t]),toggleORBACVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})}),[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})}),[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})}),[n,t,l])}}({dispatch:o,isEnabled:e,state:n}),a=n.activeProfile,l=n.orbacVisibility;return(0,r.useEffect)((function(){var e=(0,v.qn)("orbacActiveProfile",!1);e&&o({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,r.useEffect)((function(){var e=(0,v.qn)("orbacVisibilty",!1);e&&o({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,r.useEffect)((function(){(0,v.Nh)("orbacVisibility",l)}),[l]),(0,r.useEffect)((function(){(0,v.Nh)("orbacActiveProfile",a)}),[a]),{state:n,actions:i,receiveProfiles:(0,r.useCallback)((function(e,t){o({type:"LOAD_PROFILES",payload:y(e,t)})}),[o])}},j=n(515198),E=(0,c.Z)("RoleBasedAccessControlContext"),T=E.Provider,I=E.useMaybeHook,C=function(e){var t=e.children,n=(0,l.F)().checkExperiment,c=(0,a.Z)(),s=Boolean(c.isAuth&&c.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled),u=A(s),d=u.state,p=u.actions,f=u.receiveProfiles,_=d.activeProfile,h=d.headerVisible,m=d.profiles,y=void 0===m?[]:m,v=y?Array.from(y.values()):[],g=(0,o.Z)(v),b=!!(c.isAuth&&v.length>0)&&g,P=c.isAuth?c.id:"",w=c.isAuth?c.username:"",S=p.changeProfile,x=p.toggleORBACVisibility,O=p.toggleDisableProfileChanger,E=p.toggleHeaderVisibility;(0,r.useEffect)((function(){s&&("string"!=typeof g?_||S(P):S(g))}),[g,P,s,S,_]),(0,r.useEffect)((function(){s&&(b&&!h&&E(!0),!b&&h&&E(!1))}),[E,b,s,h,y]);var I,C=(0,i.Z)(s?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,D=null==C?void 0:C.profiles;c&&c.isAuth&&d.activeProfile===c.id?I={id:c.id,permissions:["OWNER"],user:{username:w,businessName:c.fullName,imgUrl:c.imageSmallUrl}}:_&&d.profiles&&(I=d.profiles.get(_)),(0,r.useEffect)((function(){D&&f(D,P)}),[f,D,P]);var R=d.profiles?Array.from(d.profiles.values()):[];return(0,j.jsx)(T,{value:{profiles:R,headerVisible:d.headerVisible,activeProfile:I,changeProfile:S,toggleORBACVisibility:x,toggleDisableProfileChanger:O,toggleHeaderVisibility:E},children:t})}},717615:function(e,t,n){"use strict";var r=n(389643),o=n(773285),i=n(869899);t.Z=function(){var e=(0,o.F)().checkExperiment,t=(0,i.useRoleBasedAccessControlContext)(),n=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,r.Z)((null==t?void 0:t.profiles)||[]),c=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a?c&&!l?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},389643:function(e,t,n){"use strict";var r=n(506979),o=n(19121),i=n(773285),a=n(53987),l=n(609500);t.Z=function(e){var t,n=(0,l.useLocation)(),c=(0,o.Z)(),s=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,u=(0,l.useRouteMatch)("/:username"),d=null==u||null===(t=u.params)||void 0===t?void 0:t.username,p=(0,l.useRouteMatch)("/pin/:id"),f=(0,r.useSelector)((function(e){var t,n,r,o;return!(null==p||null===(t=p.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(r=n[p.params.id])||void 0===r||null===(o=r.pinner)||void 0===o?void 0:o.id)}));if((0,a.ej)(n))return!1;if((0,a.RU)(n))return!0;if((0,a.mY)(n))return s;var _=e.concat(c.isAuth?{user:{username:c.username},id:c.id}:{}).find((function(e){var t=e||{},n=t.user,r=void 0===n?{}:n,o=t.id,i=r.username;return!!(i&&d||f&&o)&&(i===d||f===o)}));return!!_&&_.id}},231947:function(e,t,n){"use strict";n.d(t,{D3:function(){return s},DX:function(){return l},KY:function(){return u},Ms:function(){return r},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return c}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=function(e,t){return Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(r=e.advertiser)||void 0===r?void 0:r.merchant_id},l=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},c=function(e,t,n){var r=e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t;return!!r},s=function(e,t,n){var r=c(e,t,n)||e&&e.isAuth&&t===e.id;return!!r},u=function(e,t,n){var r=t&&t.owner&&t.owner.id||"";return s(e,r,n)};function d(e,t,n){var r=t?t.id:"";return s(e,r,n)}},40706:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(62700),o=n(908390),i=n(515198),a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function l(e){var t=e.pin,n=e.enableCloseupLink,l=(t.aggregated_pin_data||{}).pin_tags_chips,c=l&&l.length>=3?l.slice(0,3):[];return(0,i.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map((function(e){var l,c,s,u,d=(null===(l=e.images)||void 0===l?void 0:l["750x"])||{},p=(0,i.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(c=d.height)&&void 0!==c?c:1,naturalWidth:null!==(s=d.width)&&void 0!==s?s:1,role:"presentation",src:null!==(u=d.url)&&void 0!==u?u:""});return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,i.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,i.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:n?(0,i.jsx)(r.Z,{sizing:"fullSize",collageChipId:e.id,pin:t,children:p}):p})})})},e.id)}))})}},199387:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),o=n(407043),i=n(576440),a=["aux_data","view_type","view_parameter","component","clientTrackingParams"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){var n=(0,o.v)().logContextEvent,l=(0,i.E)(),s=l.componentType,d=l.contextLogData,p=l.viewParameter,f=l.viewType,_=null!=t?t:{},h=_.aux_data,m=_.view_type,y=_.view_parameter,v=_.component,g=_.clientTrackingParams,b=u(_,a);return(0,r.useCallback)((function(){n(c(c({event_type:e,view_type:m||f,view_parameter:y||p,component:v||s,clientTrackingParams:g},b),{},{aux_data:c(c({},h),d)}))}),[n,h,g,b,y,m,v,s,d,e,p,f])}},225692:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return l}});var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=120;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=(0,r.useState)(e?"active":"inactive"),l=o(i,2),c=l[0],s=l[1];return(0,r.useEffect)((function(){if(!e){var r=setTimeout((function(){return s("inactive")}),n);return function(){clearTimeout(r)}}if(t){var o=setTimeout((function(){return s("active")}),t);return function(){clearTimeout(o)}}s("active")}),[e]),c}},350445:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(898781),o=n(908390),i=n(515198),a={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},l={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},c={overlay:{__style:{backgroundColor:"#000"}}};function s(e){var t=e.backgroundImage,n=e.naturalHeight,s=e.naturalWidth,u=e.onRestartVideo,d=e.pinTitle,p=e.pin,f=(0,r.ZP)(),_=p.id;return(0,i.jsxs)(o.Ee,{alt:d||f._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:n,naturalWidth:s,src:t,children:[(0,i.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:c.overlay}),(0,i.jsxs)(o.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-".concat(_),children:[(0,i.jsx)(o.iP,{rounding:2,children:(0,i.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,i.jsx)(o.JO,{accessibilityLabel:f._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:l,size:25}),(0,i.jsx)(o.xu,{margin:1}),(0,i.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:f._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,i.jsx)(o.xu,{margin:3}),(0,i.jsx)(o.iP,{onTap:u,rounding:2,children:(0,i.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,i.jsx)(o.JO,{accessibilityLabel:f._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:a,size:25}),(0,i.jsx)(o.xu,{margin:1}),(0,i.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:f._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}},697247:function(e,t,n){"use strict";n.d(t,{$:function(){return i},B:function(){return o}});var r=(0,n(425288).Z)("SurfaceContext",{surface:"Unknown"}),o=r.Provider,i=r.useHook},576440:function(e,t,n){"use strict";n.d(t,{B:function(){return o},E:function(){return i}});var r=(0,n(425288).Z)("trackingParametersContext"),o=r.Provider,i=r.useHook},238771:function(e,t,n){"use strict";n.d(t,{ZP:function(){return T},we:function(){return E},nn:function(){return j},zn:function(){return A}});var r=n(76911),o=n(941646),i=n(908390),a=n(515198);function l(e){var t=e.iconAccessibilityLabel,n=e.icon,r=e.linkAccessibilityLabel,l=e.showNavigationIcon,c=e.text;return(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.Z,{id:"ad-reason-icon",children:(0,a.jsx)(i.Sj,{accessibilityLabel:t,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),(0,a.jsx)(i.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,a.jsx)(i.xv,{children:c})}),l&&r&&(0,a.jsx)(i.kC,{direction:"column",justifyContent:"center",children:(0,a.jsx)(i.JO,{accessibilityLabel:r,color:"default",icon:"arrow-forward"})})]})}var c=n(898781),s=n(966113),u=n(170168),d=n(349700),p=n(407043);function f(e){var t=e.brandName,n=e.country,r=e.language,f=e.isAgeMatched,_=e.isBehaviorTargetingMatched,h=e.isCustomerListMatched,m=e.isGeoPostalCodeMatched,y=e.isGeoRegionMatched,v=e.isShoppingTargetingRematched,g=(0,p.v)().logContextEvent,b=(0,c.ZP)();return(0,a.jsx)(o.Z,{id:"ad-reasons",children:(0,a.jsxs)(i.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(m||y)&&(0,a.jsx)(i.iP,{role:"link",href:"".concat(u.C0).concat(s.QL),onTap:function(){g({event_type:101,component:13756,element:12059})},target:"blank",children:(0,a.jsx)(l,{iconAccessibilityLabel:b._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",linkAccessibilityLabel:b._('Navigate to account settings', 'app.common.react.components.PinRep.components.AdReasonRow.icon', 'An icon for navigating to account settings'),showNavigationIcon:!0,text:(0,d.nk)(b._('Your primary location is in {{countryName}} and your primary language is {{language}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location'),{countryName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-language")})})}),f&&(0,a.jsx)(l,{iconAccessibilityLabel:b._('Icon for ad targeting age', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age'),icon:"person",text:(0,d.nk)(b._('{{ brandName }} is trying to reach people in your age range', 'app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting', 'Ad explanation for targeting age range'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),_&&(0,a.jsx)(l,{iconAccessibilityLabel:b._('Icon for ad targeting search history', 'app.common.react.components.PinRep.components.AdReasons.searchIcon', 'Icon for ad targeting search history'),icon:"search",text:b._('Your Pinterest browsing history and search behavior', 'app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting', 'Ad explanation for targeting the search history of the user')}),v&&(0,a.jsx)(l,{iconAccessibilityLabel:b._('Icon for ad targeting customers who interacted with this brand previously', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon', 'Ad explanation for targeting users who have interacted with an advertiser brand'),icon:"clock",text:(0,d.nk)(b._('You\'ve interacted with {{brandName}} before', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText', 'Text explaining the ad reason for targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),h&&(0,a.jsx)(l,{iconAccessibilityLabel:b._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"menu",text:(0,d.nk)(b._('You\'re on an audience list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})})]})})}var _=n(19121),h=n(698330);function m(e){var t,n=e.brandName,r=e.language,s=e.geoRegion,u=e.geoPostalCode,p=e.ageBucketMatch,f=e.localeMatch,m=e.interestMatch,y=e.genderMatch,v=e.deviceMatch,g=e.isCustomerListMatched,b=e.isShoppingTargetingRematched,P=e.isActAlikeMatched,w=e.isEngagementMatched,S=e.isExpandTargetingMatched,x=e.isFromGPSLocation,O=e.isVisitorMatched,A=e.gender,j=e.device,E=(0,c.ZP)(),T=(0,_.Z)().id,I=(0,h.mN)()(null!=T?T:""),C=null!==(t=null==I?void 0:I.gender)&&void 0!==t?t:"";return(0,a.jsx)(o.Z,{id:"ad-reasons",children:(0,a.jsxs)(i.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==p&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,d.nk)(E._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:p},"ad-reasons-age-bucket")})}),""!==y&&"unspecified"!==C&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,d.nk)(E._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:A},"ad-reasons-gender")})}),""!==s&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location, v2'),icon:"location",text:(0,d.nk)(E._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargetingV2', 'Ad explanation for targeting location v2, geoRegion: location user is based in'),{geoRegion:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:s},"ad-reasons-country-name")})}),""!==u&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location, v2'),icon:"location",text:(0,d.nk)(E._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargetingV2', 'Ad explanation for targeting location v2, geoPostalCode: location user is based in'),{geoPostalCode:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:u},"ad-reasons-country-name")})}),""!==f&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,d.nk)(E._('Primary language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-locale")})}),""!==v&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"desktop",text:(0,d.nk)(E._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:j},"ad-reasons-device")})}),""!==m&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,d.nk)(E._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:m},"ad-reasons-interest")})}),b&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,d.nk)(E._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-shopping-targeting")})}),O&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,d.nk)(E._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reason-visitor")})}),g&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,d.nk)(E._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargetingV2', 'Ad explanation for targeting customer list v2, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-customer-list")})}),w&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,d.nk)(E._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-engagement")})}),P&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,d.nk)(E._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-act-alike")})}),S&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:E._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),x&&(0,a.jsx)(l,{iconAccessibilityLabel:E._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:E._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}var y=n(121151),v=n(773285);function g(e){var t=e.onDismiss,n=e.brandName,r=e.userName,l=e.country,_=e.language,h=e.geoRegion,g=e.geoPostalCode,b=e.ageBucketMatch,P=e.localeMatch,w=e.interestMatch,S=e.genderMatch,x=e.deviceMatch,O=e.isAgeMatched,E=e.isBehaviorTargetingMatched,T=e.isCustomerListMatched,I=e.isGeoPostalCodeMatched,C=e.isGeoRegionMatched,D=e.isShoppingTargetingRematched,R=e.isActAlikeMatched,k=e.isEngagementMatched,z=e.isExpandTargetingMatched,L=e.isFromGPSLocation,M=e.isVisitorMatched,N=(0,p.v)().logContextEvent,B=(0,c.ZP)(),F=A(S,B),Z=j(x,B),U=function(){N({event_type:101,component:13756,element:12058})},G=I||C||O||E||D||T||k||R||z||L||M||""!==b||""!==P||""!==w||""!==F||""!==Z||""!==h||""!==g,V=(0,(0,v.F)().checkExperiment)("ads_web_waista_v2").anyEnabled,H=u.C0+"/".concat(r,"/");return(0,a.jsx)(y.ZP,{accessibilityModalLabel:B._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:t,children:(0,a.jsxs)(i.xu,{paddingX:8,paddingY:6,children:[(0,a.jsxs)(i.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,a.jsx)(i.xu,{position:"absolute",left:!0,children:(0,a.jsx)(i.hU,{accessibilityLabel:B._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:function(){N({event_type:102,element:11925,component:13756}),t()},size:"sm"})}),V?(0,a.jsx)(i.X6,{align:"center",size:"500",children:B._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation, v2', 'Heading for promoted pins explanation, WAISTA v2')}):(0,a.jsx)(i.X6,{align:"center",size:"500",children:B._('Why am I seeing this ad?', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation')})]}),(0,a.jsxs)(i.xu,{children:[(0,a.jsxs)(i.kC,{direction:"column",gap:{row:0,column:4},children:[V?null:(0,a.jsx)(i.xu,{children:(0,a.jsx)(i.xv,{children:(0,d.nk)(B._('{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation', 'text informing the user about who is the advertiser'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name"),learnMoreLink:(0,a.jsx)(o.Z,{id:"ad-reasons-learn-more-link",children:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{href:s.UF,display:"inlineBlock",onClick:function(){N({event_type:101,component:13756,element:12057})},target:"blank",underline:"hover",children:B._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})}),G&&(0,a.jsx)(i.xu,{marginBottom:4,children:V?(0,a.jsx)(i.xv,{children:(0,d.nk)(B._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTAv2', 'text informing the user about who is the advertiser\'s target audience, for WAISTAv2 brandName: is promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{href:H,display:"inlineBlock",onClick:function(){N({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:n})},"ad-reasons-brand-name")})}):(0,a.jsx)(i.xv,{children:(0,d.nk)(B._('{{ brandName }} is trying to reach people who fit the following criteria:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation', 'text informing the user about who is the advertiser\'s target audience'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name")})})})]}),(0,a.jsx)(o.Z,{id:"ad-reasons",children:(0,a.jsxs)(i.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[!V&&(0,a.jsx)(f,{brandName:n,country:l,language:_,isAgeMatched:O,isBehaviorTargetingMatched:E,isCustomerListMatched:T,isGeoPostalCodeMatched:I,isGeoRegionMatched:C,isShoppingTargetingRematched:D}),V&&(0,a.jsx)(m,{brandName:n,language:_,geoRegion:h,geoPostalCode:g,ageBucketMatch:b,localeMatch:P,genderMatch:S,interestMatch:w,deviceMatch:x,isCustomerListMatched:T,isShoppingTargetingRematched:D,isActAlikeMatched:R,isEngagementMatched:k,isExpandTargetingMatched:z,isFromGPSLocation:L,isVisitorMatched:M,gender:F,device:Z}),G&&!V&&(0,a.jsx)(i.xu,{marginBottom:1,children:(0,a.jsx)(i.xv,{children:B._('There could also be more factors not listed here.', 'app.common.react.components.PinRep.components.AdReasonsModal.miscFactors', 'Text explaining there are more targeting factors')})}),G&&V?(0,a.jsx)(i.xu,{marginBottom:1,children:(0,a.jsx)(i.xv,{children:(0,d.nk)(B._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inline",href:"".concat(u.C0).concat(s.AH),onClick:function(){N({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:B._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})}):null]})}),(0,a.jsxs)(i.kC,{direction:"column",gap:{row:0,column:1},children:[(0,a.jsx)(i.xu,{marginBottom:3,marginTop:3,children:V?null:(0,a.jsx)(i.iz,{})}),(0,a.jsx)(i.xu,{marginBottom:1,marginTop:1,children:V?(0,a.jsx)(i.X6,{size:"400",children:B._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')}):(0,a.jsx)(i.X6,{size:"400",children:B._('I don\'t want to see this ad', 'app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading', 'Text for explaining how to hide an ad')})}),(0,a.jsx)(i.xu,{marginBottom:4,children:V?(0,a.jsx)(i.xv,{children:(0,d.nk)(B._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inline",href:"".concat(u.C0).concat(s.Gx),onClick:function(){N({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:B._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-ad-preferences")})}):(0,a.jsx)(i.xv,{children:(0,d.nk)(B._('If you don\'t want to see ads from a specific advertiser you can block the advertiser\'s Pinterest profile. {{learnMoreLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText', 'Text explaining how to block an advertiser profile'),{learnMoreLink:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inlineBlock",href:s.K_,onClick:U,target:"blank",underline:"hover",children:B._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})}),(0,a.jsx)(i.xu,{marginBottom:4,children:V&&(0,a.jsx)(i.xv,{children:(0,d.nk)(B._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inline",href:s.R_,onClick:function(){N({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:B._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})}),(0,a.jsx)(i.xu,{marginBottom:4,children:V&&(0,a.jsx)(i.xv,{children:(0,d.nk)(B._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inline",href:s.K_,onClick:U,target:"blank",underline:"hover",children:B._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})]})]})]})})}var b=n(784590),P=n(350118),w=n(780280);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){return"FEMALE"===e?function(e){return e._('Female', 'waista.modal.attribute.female', 'Gender attribute for female')}(t):"MALE"===e?function(e){return e._('Male', 'waista.modal.attribute.male', 'Gender attribute for male')}(t):""}function j(e,t){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?function(e){return e._('Web', 'waista.modal.attribute.web', 'device attribute for web')}(t):"AppType_WEB_MOBILE"===e?function(e){return e._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web')}(t):""}function E(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}function T(e){var t,n,o,i,l,c=e.pinId,s=e.onDismiss,u=(0,p.v)().logContextEvent,d=(0,w.B)().locale,f=(0,_.Z)().country,h=void 0===f?"":f,m=(0,b.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),y=(0,b.Z)({name:"LocalesResource"}),v=(0,P.S6)()(c);(0,r.useEffect)((function(){u({event_type:120,component:13756})}),[u]);var S=null!=v?v:{},A=S.ad_targeting_attribution,j=S.promoter,T=null!==(t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e&&Object.keys(e).filter((function(t){return"boolean"==typeof e[t]||"string"==typeof e[t]})).slice(0,t).reduce((function(t,n){return x(x({},t),{},O({},n,e[n]))}),{})}(A))&&void 0!==t?t:{},I=T.is_age_matched,C=void 0!==I&&I,D=T.is_behavior_targeting_matched,R=void 0!==D&&D,k=T.is_customer_list_matched,z=void 0!==k&&k,L=T.is_geo_postal_code_matched,M=void 0!==L&&L,N=T.is_geo_region_matched,B=void 0!==N&&N,F=T.is_shopping_retargeting_matched,Z=void 0!==F&&F,U=T.is_actalike_matched,G=void 0!==U&&U,V=T.is_engagement_matched,H=void 0!==V&&V,W=T.is_expand_targeting_matched,K=void 0!==W&&W,Y=T.is_from_gps_location,X=void 0!==Y&&Y,q=T.is_visitor_matched,J=void 0!==q&&q,$=T.matched_age_bucket,Q=void 0===$?"":$,ee=T.matched_locale,te=void 0===ee?"":ee,ne=T.matched_interest,re=void 0===ne?"":ne,oe=T.matched_gender,ie=void 0===oe?"":oe,ae=T.matched_device,le=void 0===ae?"":ae,ce=T.geo_region,se=void 0===ce?"":ce,ue=T.geo_postal_code,de=void 0===ue?"":ue,pe=null!==(n=null==j?void 0:j.full_name)&&void 0!==n?n:"",fe=function(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}(null!==(o=m.data)&&void 0!==o?o:[],h),_e=E(null!==(i=y.data)&&void 0!==i?i:[],d),he=null!==(l=null==j?void 0:j.username)&&void 0!==l?l:"";return(0,a.jsx)(g,{brandName:pe,userName:he,country:fe,language:_e,ageBucketMatch:Q,localeMatch:te,interestMatch:re,genderMatch:ie,deviceMatch:le,isAgeMatched:C,isBehaviorTargetingMatched:R,isCustomerListMatched:z,isGeoPostalCodeMatched:M,isGeoRegionMatched:B,isShoppingTargetingRematched:Z,isActAlikeMatched:G,isEngagementMatched:H,isExpandTargetingMatched:K,isFromGPSLocation:X,isVisitorMatched:J,onDismiss:s,geoRegion:se,geoPostalCode:de})}},62700:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(605028),o=n(66699),i=n(898781),a=n(287072),l=n(35495),c=n(908390),s=n(407043),u=n(243943),d=n(576440),p=n(515198);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t,n=e.sizing,f=void 0===n?"default":n,h=e.children,m=e.collageChipId,y=e.componentType,v=e.contextLogData,g=e.elementType,b=e.pin,P=e.viewParameter,w=e.viewType,S=(0,i.ZP)(),x=(0,s.v)().logContextEvent,O=(0,d.E)(),A=b.carousel_data,j=b.id,E=(0,r.Z)(b).isLeadPin,T="/pin/".concat(m||j,"/"),I=(0,u.Xx)();if(null!=I&&I.variantUrl&&(T="/pin/".concat(I.variantUrl,"/")),A){var C=A.carousel_slots,D=void 0===C?[]:C,R=A.id,k=A.index,z=void 0===k?0:k;T="/pin/".concat(j,"/"),t={carousel_slot_id:D[z]&&D[z].id,carousel_data_id:R,carousel_slot_index:z}}t=_(_({},t||{}),(0,l.Kl)(b,v)||{});var L=(0,a.Z)({href:T,externalData:{auxData:t,pin:b}});return(0,p.jsx)(c.iP,{accessibilityLabel:(0,o.Z)(S._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:b.grid_title||b.title||b.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:function(e){var t,n,r=e.event;(0,e.dangerouslyDisableOnNavigation)(),E?(x({event_type:8948,view_type:w||O.viewType,view_parameter:P||O.viewParameter,component:null,object_id_str:b.id,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(t=b.promoted_lead_form)||void 0===t?void 0:t.lead_id}}),x({event_type:12,view_type:w||O.viewType,view_parameter:P||O.viewParameter,component:null,object_id_str:b.id,aux_data:_({lead_form_id:null===(n=b.promoted_lead_form)||void 0===n?void 0:n.lead_id},(0,l.Kl)(b,{})||{})})):(x({event_type:101,component:y||O.componentType,element:g,object_id_str:j,view_type:w||O.viewType,view_parameter:P||O.viewParameter,aux_data:_(_({},v),(0,l.Kl)(b,v)||{})}),x({event_type:8948,view_type:w||O.viewType,view_parameter:P||O.viewParameter,component:y||O.componentType,element:g,object_id_str:j,aux_data:_(_({closeup_navigation_type:"click"},v),(0,l.Kl)(b,v)||{})})),L({event:r})},fullWidth:"fullSize"===f,fullHeight:"fullSize"===f,href:T,role:"link",children:h})}},841509:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(908390),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.children,n=e.additionalStyles,i=void 0===n?{}:n;return(0,o.jsx)(r.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:a({pointerEvents:"none"},i)},"data-test-id":"contentLayer",children:t})}},337986:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(76911),o=n(499128),i=n(898781),a=n(908390),l=n(515198);function c(e){var t=(0,i.ZP)(),n=e.onHide,r=(0,l.jsx)(a.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,l.jsx)(o.ZP,{onHide:n,text:r})}var s=n(214494),u=n(19121),d=n(343341);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t=e.anchor,n=e.onDismiss,o=e.pinId,f=e.signals,_=(0,i.ZP)(),h=p((0,r.useState)(0),2),m=h[0],y=h[1],v=(0,u.Z)(),g=(0,d.F9)().showOneToast;if(!v.isEmployee)return null;var b=f.map((function(e){var t=e.signal_message;return{href:"#",text:null!=t?t:""}})),P=f[m],w=P.background_color,S=P.icon_url,x=P.signal_id,O=P.signal_message;return(0,l.jsx)(a.mh,{children:(0,l.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,l.jsxs)(a.xu,{padding:4,width:"100%",children:[f.length>1&&(0,l.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,l.jsx)(a.mQ,{activeTabIndex:m,onChange:function(e){var t=e.event,n=e.activeTabIndex;(0,e.dangerouslyDisableOnNavigation)(),function(e){var t=e.activeTabIndex;e.event.preventDefault(),y(t)}({activeTabIndex:n,event:t})},tabs:b})}),(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(a.X6,{size:"400",children:_._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,l.jsx)(a.xu,{paddingY:3,children:(0,l.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,l.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:S?(0,l.jsx)(a.Ee,{alt:_._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:S}):(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:w}},height:40,width:40})}),(0,l.jsx)(a.xv,{size:"200",children:O})]})}),(0,l.jsx)(a.xu,{marginBottom:3,children:(0,l.jsx)(a.xv,{size:"200",children:_._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,l.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:_._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){var e={pin_id:o,signal_id:x,user:v.id};s.Z.create("SignalReviewRequestResource",e).callCreate(),n(),g((function(e){var t=e.hideToast;return(0,l.jsx)(c,{onHide:t})}))}}),(0,l.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:_._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:n})]})]})})})},h=n(241244),m=n(319915),y=n(947599),v=n(215292);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=e.signals,n=e.pinId,o=t[0],i=o.background_color,c=o.icon_url,s=o.signal_message,u=g((0,r.useState)(!1),2),d=u[0],p=u[1],f=(0,r.useRef)();return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(m.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,l.jsx)(y.Z,{children:(0,l.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,l.jsx)(h.Z,{children:(0,l.jsx)(v.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,l.jsx)(a.iP,{onTap:function(){return p((function(e){return!e}))},rounding:"pill",onMouseEnter:n,onMouseLeave:r,children:(0,l.jsxs)(a.xu,{color:t?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:f,children:[(0,l.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,l.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,l.jsx)(a.Ee,{alt:"",color:i,src:null!=c?c:"",naturalHeight:1,naturalWidth:1})})}),(0,l.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:s})]})})}})})})})}),d&&f&&f.current&&(0,l.jsx)(_,{anchor:f.current,onDismiss:function(){return p(!1)},pinId:n,signals:t})]})}var w=function(e){var t,n=e.signal,r=e.anchor,o=e.setShowFlyout,i=e.setStore,c=(0,v.Z)(),s=c.hovered,u=c.onMouseEnter,d=c.onMouseLeave;return(0,l.jsx)(a.iP,{onTap:function(){return function(e){o((function(e){return!e})),i(e)}(n)},rounding:"pill",onMouseEnter:u,onMouseLeave:d,children:(0,l.jsxs)(a.xu,{color:s?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:r,children:[(0,l.jsx)(a.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,l.jsx)(a.Ee,{alt:"",color:n.background_color,src:null!==(t=n.icon_url)&&void 0!==t?t:"",naturalHeight:1,naturalWidth:1})})}),(0,l.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:n.signal_message})]})})};var S=function(e){var t=e.anchor,n=e.onDismiss,r=e.pinId,o=e.signal,p=(0,i.ZP)(),f=(0,u.Z)(),_=(0,d.F9)().showOneToast;if(!f.isEmployee)return null;var h=o.background_color,m=o.icon_url,y=o.signal_id,v=o.signal_message;return(0,l.jsx)(a.mh,{children:(0,l.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,l.jsxs)(a.xu,{padding:4,width:"100%",children:[(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(a.X6,{size:"400",children:p._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,l.jsx)(a.xu,{paddingY:3,children:(0,l.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,l.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:m?(0,l.jsx)(a.Ee,{alt:p._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:m}):(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h}},height:40,width:40})}),(0,l.jsx)(a.xv,{size:"200",children:v})]})}),(0,l.jsx)(a.xu,{marginBottom:3,children:(0,l.jsx)(a.xv,{size:"200",children:p._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,l.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:p._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){var e={pin_id:r,signal_id:y,user:f.id};s.Z.create("SignalReviewRequestResource",e).callCreate(),n(),_((function(e){var t=e.hideToast;return(0,l.jsx)(c,{onHide:t})}))}}),(0,l.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:p._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:n})]})]})})})};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.signals,n=e.pinId,o=x((0,r.useState)(!1),2),i=o[0],c=o[1],s=(0,r.useRef)(null),u=x((0,r.useState)(t[0]),2),d=u[0],p=u[1];return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(m.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,l.jsx)(y.Z,{children:(0,l.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,l.jsx)(h.Z,{children:(0,l.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:t.map((function(e){return(0,l.jsx)(a.xu,{marginEnd:2,children:(0,l.jsx)(w,{signal:e,anchor:s,setShowFlyout:c,setStore:p})},e.signal_id)}))})})})})}),i&&(0,l.jsx)(S,{anchor:s.current,onDismiss:function(){return c(!1)},pinId:n,signal:d})]})}var j=n(609500);function E(e){var t=e.pin,n=(0,u.Z)(),o=(0,j.useLocation)().search,i=(0,r.useMemo)((function(){return new URLSearchParams(o)}),[o]);if(!n.isEmployee)return null;var a=t.id,c=t.deb_ads,s=t.deb_content_quality,d=t.deb_inclusive_product,p=t.deb_shopping,f=t.deb_trust_and_safety;if(c)return(0,l.jsx)(P,{pinId:a,signals:c});if(s)return(0,l.jsx)(P,{pinId:a,signals:s});if(d){if("skin_tone"===i.get("type")){var _=d.filter((function(e){return"visual_signals_hair_pattern_v1"!==e.signal_id}));return(0,l.jsx)(A,{pinId:a,signals:_})}var h=d.filter((function(e){return"visual_body_analyses_v2_0"!==e.signal_id}));return(0,l.jsx)(A,{pinId:a,signals:h})}return p?(0,l.jsx)(P,{pinId:a,signals:p}):f?(0,l.jsx)(P,{pinId:a,signals:f}):null}},525199:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),o=n(225692),i=n(515198);function a(e,t){return{hidden:{opacity:0,transition:t?"opacity ".concat(t,"ms ease"):void 0},visible:{opacity:1,transition:e?"opacity ".concat(e,"ms ease"):void 0}}}function l(e){var t=e.children,n=e.fadeInDuration,l=void 0===n?0:n,c=e.fadeOutDuration,s=void 0===c?o.X:c,u=e.visibility;return"none"!==u&&t?(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(l,s)[u]},children:t}):null}},43671:function(e,t,n){"use strict";n.d(t,{ZP:function(){return g}});var r=n(76911),o=n(841509),i=n(898781),a=n(55275),l=n(310227),c=n(407043),s=n(908390),u=n(515198);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},y=["followed","related","search"],v=["pfy","pfyBoard"];function g(e){var t,n=e.feedbackType,d=e.pin,f=e.hideContents,h=void 0!==f&&f,g=(0,c.v)().logContextEvent,b=(0,i.ZP)(),P=_((0,r.useState)(!1),2),w=P[0],S=P[1],x=_((0,r.useState)(!1),2),O=x[0],A=x[1];(0,r.useEffect)((function(){return S(!0)}),[]);var j=function(){return A(!0)},E=d.feedbackText,T=d.images,I=d.showFeedbackOverlay,C=d.undoAction,D=T&&(null===(t=T["236x"])||void 0===t?void 0:t.url),R=null!=E?E:{},k=R.image,z=R.subTitle,L=R.title,M=R.unfollow,N=!y.includes(n),B=v.includes(n),F=function(){g({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,u.jsxs)(s.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,u.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:l.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[D&&(0,u.jsx)(o.Z,{additionalStyles:p(p(p({},m.background.base),w?m.background.blurred:{}),{},{backgroundImage:'url("'.concat(D,'")')})}),(0,u.jsx)(o.Z,{additionalStyles:p(p({},m.backdrop.base),m.backdrop.blurred)})]}),(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:p(p({},m.feedbackOverlayContainer.base),!I&&w?m.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%",children:!h&&(0,u.jsx)(s.xu,{height:"100%",children:(0,u.jsxs)(s.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,u.jsx)(s.xu,{marginBottom:2,children:(0,u.jsx)(s.X6,{color:"light",size:"400",children:L})}),(0,u.jsxs)(s.xu,{display:"flex",marginBottom:1,children:[k&&(0,u.jsx)(s.xu,{marginEnd:3,children:(0,u.jsx)(s.zd,{width:k.width,height:k.height,rounding:2,wash:!0,children:(0,u.jsx)(s.Ee,{alt:z||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:k.url||""})})}),(0,u.jsx)(s.xv,{color:"light",overflow:"normal",children:z})]}),(0,u.jsxs)(r.Fragment,{children:[C&&(0,u.jsx)(s.xu,{children:(0,u.jsx)(s.iP,{onTap:C,children:(0,u.jsx)(s.xv,{color:"inverse",weight:"bold",overflow:"normal",children:b._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,u.jsxs)(s.xu,{marginTop:"auto",children:[!C&&!O&&M&&!B&&(0,u.jsx)(s.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,a.t)(M.action,M.actionOptions,j)},text:b._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),N&&(0,u.jsx)(s.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:F,text:b._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},379884:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(852964),o=n(898781),i=n(55275),a=n(908390),l=n(814197),c=n(407043),s=n(680046),u=n(515198);function d(e){var t=e.anchor,n=e.feedbackData,d=e.feedbackType,p=e.pinId,f=e.onDismiss,_=e.onHide,h=e.recommendationReason,m=e.viewParameter,y=e.viewType,v=(0,c.v)().logContextEvent,g=(0,o.ZP)(),b=function(e,t){var o=(0,r.Z)(h),a=h&&(0,s.yl)(h),l=h&&(0,s.XZ)(h),c=(0,s.fJ)({feedbackData:n,feedbackType:d,pinId:p,recommendationReasonId:o,throughId:a,throughProperties:l,complaintReason:e}),u=c.action,f=c.actionOptions;!function(e){v({event_type:101,view_type:y,view_parameter:m,element:e,component:(0,s.nb)(d)})}(t),(0,i.t)(u,f),_()},P="promoted"===d?[{text:g._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:g._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:g._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:g._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:g._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:g._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:g._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:g._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,u.jsx)(a.Lt,{anchor:t,idealDirection:"down",onDismiss:f,zIndex:l.lI,id:"pin-action-dropdown",children:(0,u.jsx)(a.Lt.Section,{label:g._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:P.map((function(e){var t=e.text,n=e.reason,r=e.elementType;return(0,u.jsx)(a.Lt.Item,{onSelect:function(){return b(n,r)},option:{value:"hide-reason-".concat(t.split(" ").join("-")),label:t},dataTestId:"hide-reason-".concat(t.split(" ").join("-"))})}))})})}},685909:function(e,t,n){"use strict";var r=n(76911),o=n(206134),i=n.n(o),a=n(391254),l=n(149230),c=n(927104),s=n(898781),u=n(908390),d=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,o,s=v(p);function p(){var e;h(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(b(e=s.call.apply(s,[this].concat(n))),"state",{showBoardName:!1}),e}return t=p,(n=[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({showBoardName:!0})}),950)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state.showBoardName,t=this.props,n=t.isDenseView,o=t.isNewlySaved,s=t.name,p=t.shouldUseLegoStyles,f=t.type,_=t.url;if(p&&n)return null;var h,m,y="boardless"===f?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):s;if(!o||e||p){var v=p?(0,d.jsx)(u.xv,{color:"inverse",size:"300",weight:"bold",children:y.length<=20?y:(0,c.Z)(y,20)}):(0,d.jsx)(u.X6,{color:"inverse",size:"400",lineClamp:1,children:y}),g=(0,l.Z)({url:_})?"nofollow":"none";h=_?(0,d.jsx)(u.rU,{rel:g,href:_,children:v}):v}else h=(0,d.jsx)(u.xv,{color:"inverse",children:(0,d.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return o&&(m=e?"board":"saved"),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(a.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,d.jsx)("div",{"data-test-id":"savedInfo",className:!p&&i()("SavedAnimation",m),children:h})]})}}])&&m(t.prototype,n),o&&m(t,o),p}(r.Component);t.Z=function(e){var t=(0,s.ZP)();return(0,d.jsx)(S,_(_({},e),{},{i18n:t}))}},108529:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(333155);function o(e){return r.zI.includes(e)}},485308:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r=228},852964:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194};function o(e){return e&&e.reason&&r[e.reason]}},675725:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(680046);function o(e){var t,n,o=e.feedbackType,i=e.pin,a=e.viewParameter;return(0,r.hP)({boardFollowedByMe:!(null==i||null===(t=i.board)||void 0===t||!t.followed_by_me),feedbackType:o,promotion:i&&i.promoter&&{isDownstreamPromotion:!!i.is_downstream_promotion},pinnerFollowedByMe:!(null==i||null===(n=i.pinner)||void 0===n||!n.explicitly_followed_by_me),recommendationReason:(null==i?void 0:i.recommendation_reason)&&{hasBoard:!!i.recommendation_reason.board,reason:i.recommendation_reason.reason},viewParameter:a})}},784521:function(e,t){"use strict";t.Z={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},920085:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(867820);function o(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,c,"next",e)}function c(e){o(a,r,i,l,c,"throw",e)}l(void 0)}))}}function a(e,t){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t,n){var o,i,a,l,c,s,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.filename,i=t.imgSrc,a=t.imageDownloadSuccessCallback,l=t.category,c=t.isUnauth,s=t.pinId,u=t.viewParameter,d=t.viewType,"undefined"!=typeof window){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if((0,r.My)("web.".concat(c?"unauth":"auth",".download.click.").concat(l||"no_category")),n({event_type:82,object_id_str:s,view_type:d||3,view_parameter:u||139}),!i||!document){e.next=9;break}return e.abrupt("return",fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((function(e){return e.blob()})).then((function(e){var t,n,r=document.createElement("a");r.href=window.URL.createObjectURL(e),r.setAttribute("download",o&&o.replace(".","_")),r.style.display="none",null===(t=document.body)||void 0===t||t.appendChild(r),r.click(),null===(n=document.body)||void 0===n||n.removeChild(r),null==a||a()})).catch((function(){throw new Error("Download image error")})));case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},616211:function(e,t,n){"use strict";n.d(t,{W:function(){return l},Z:function(){return c}});var r=n(898781),o=n(908390),i=n(515198),a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},l={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function c(e){var t=e.isCloseupButton,n=e.isDisabled,c=e.isFavorited,s=e.onTap,u=e.size,d=(0,r.ZP)();return t?(0,i.jsx)(o.hU,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:c?l:a,disabled:n,iconColor:"darkGray",onClick:s,size:"lg"}):(0,i.jsx)(o.iP,{disabled:n,onTap:s,children:(0,i.jsx)(o.JO,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:c?l:a,size:u})})}},676464:function(e,t,n){"use strict";function r(e){var t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((function(e){return e.pin_type===t}))}n.d(t,{E:function(){return o},J:function(){return r}})},831539:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(474236),o=n(941646),i=n(898781),a=n(892819),l=n(349700),c=n(780280),s=n(561195),u=n(908390),d=n(515198),p=function(e){var t=e.rating,n=e.textSize;if("single"===e.type){var r=parseFloat(t);return Number.isNaN(r)?null:(0,d.jsxs)(u.kC,{alignItems:"center",children:[(0,d.jsx)(s.A,{fill:"full",width:12}),(0,d.jsx)(u.xv,{size:n,children:r.toFixed(1)})]})}return(0,d.jsx)(s.Z,{rating:t,width:12})},f=function(e){var t=e.bracket,n=e.count,r=e.countFormat,s=e.countType,p=e.marginStart,f=e.textSize,_=e.underline,h=(0,c.B)().locale,m=(0,i.ZP)(),y=(0,a.Z)();if(null==n)return null;var v=y(h,n,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===r){var g="review"===s?m.ngettext('{{ count }} review', '{{ count }} reviews', n, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):m.ngettext('{{ count }} rating', '{{ count }} ratings', n, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');v=(0,l.nk)(g,{count:n}).join("")}return t&&(v="(".concat(v,")")),(0,d.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:_?"1px solid gray":"none"}},marginStart:p,children:(0,d.jsx)(u.xv,{color:_?"subtle":"default",size:f,underline:_,children:(0,d.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:v})})})};function _(e){var t=e.bracket,n=e.count,o=e.countFormat,i=e.countType,a=e.rating,l=e.textSize,c=e.underline;return(0,r.Z)({count:n,rating:a})?(0,d.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(p,{rating:a,textSize:l,type:"multiple"}),(0,d.jsx)(f,{bracket:t,count:n,countFormat:o,countType:i,textSize:l,underline:c})]}):null}},474236:function(e,t,n){"use strict";function r(e){var t=e.count,n=e.rating;return Boolean(n&&"None"!==n&&Number.isFinite(t))}n.d(t,{Z:function(){return r}})},2396:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(76911),o=n(482981),i=n(827021),a=n(121151),l=n(750869),c=n(946984),s=n(908390),u=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=new s.Ry(1),S=function(e){return(0,e.children)((0,c.Z)())},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(d,e);var t,n,r,c=y(d);function d(){var e;_(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(g(e=c.call.apply(c,[this].concat(n))),"handleDismiss",(function(){(0,e.props.onFlyoutDismiss)()})),P(g(e),"onHide",(function(){e.props.onClick(),e.handleDismiss()})),P(g(e),"flyoutProps",(function(){var t,n=e.props,r=n.gridDescription,a=n.idealDirection,c=n.imageSrc,s=n.pinId,d=n.userId,p=n.board,_=n.sendType,h=n.fullName,m=n.profileUrl,y=n.element,v=n.viewParameter,g=n.component,b=n.viewType,P=n.onExternalSend,w=n.showCaret,S=n.todayArticle,x=n.ownerId,O={description:r,id:s,imageUrl:c,name:"",type:l.d.PIN,url:"/pin/".concat(s,"/"),ownerId:x},A=l.d.PIN;switch(_){case"user":O={description:r,id:d,imageUrl:c,name:h,type:l.d.PINNER,url:m},A=l.d.USER;break;case"board":O=p&&{description:p.description,id:p.id,imageUrl:p.imageUrl,name:p.name,type:l.d.BOARD,url:p.url,ownerId:null===(t=p.owner)||void 0===t?void 0:t.id},A=l.d.BOARD;break;case"today_article":O=S&&{description:S.subtitle||"",id:S.id,imageUrl:c,name:S.title,type:l.d.TODAY_ARTICLE,url:(0,o.Z)(S)},A=l.d.TODAY_ARTICLE}var j={element:y,component:g,onHide:e.onHide,onExternalSend:P,sendType:A,sharedObject:O,viewParameter:v,viewType:b};return{anchor:e.flyoutAnchor,idealDirection:a,onDismiss:e.handleDismiss,showCaret:w,children:(0,u.jsx)(i.default,f({},j))}})),e}return t=d,(n=[{key:"toggle",value:function(){var e=this.props,t=e.isOwnProfile,n=e.onToggleFlyout,r=e.sendType,o=e.userId,i=e.logContextEvent;"user"===r&&i({event_type:101,component:13675,element:1079,object_id_str:o,view_type:4,view_parameter:t?3106:3107}),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.Subject,r=t.inModal,o=t.isFlyoutOpen,i=t.shownWithinMasonry,l=t.shownWithinProfileHeader,c=this.flyoutProps(),d=c.anchor,p=c.idealDirection,_=c.showCaret,h=c.children,m=(0,u.jsx)(s.xu,{children:(0,u.jsx)(S,{children:function(t){return(0,u.jsx)(n,f({handleSendShareFlyoutButtonClick:function(n){t?t():(null!=n&&n.stopPropagation&&n.stopPropagation(),e.toggle())}},e.props))}})}),y=o&&(i||l?(0,u.jsx)(s.mh,{zIndex:l?w:void 0,children:(0,u.jsx)(s.xu,{zIndex:r?a.b7:void 0,position:r?"absolute":void 0,top:!!r||void 0,children:(0,u.jsx)(s.J2,{anchor:d,idealDirection:p,onDismiss:function(){e.handleDismiss()},showCaret:_,size:"flexible",positionRelativeToAnchor:!1,children:h})})}):(0,u.jsx)(s.J2,{anchor:d,idealDirection:p,onDismiss:function(){e.handleDismiss()},showCaret:_,size:"flexible",children:h}));return(0,u.jsxs)(s.xu,{ref:function(t){t&&(e.flyoutAnchor=t)},dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[m," ",y]})}}])&&h(t.prototype,n),r&&h(t,r),d}(r.Component);P(x,"defaultProps",{idealDirection:"down",onClick:function(){}});var O=n(112690);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return function(t){var n=(0,O.Z)();return(0,u.jsx)(x,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Subject:e,logContextEvent:n},t))}}},202870:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},j:function(){return c}});var r=n(898781),o=n(349700),i=n(773285),a=n(908390),l=n(515198),c=[0,2,3];function s(e){var t,n=e.hasAffiliateProducts,s=e.href,u=e.isPromoted,d=e.onNavigateSponsorClick,p=e.sponsorName,f=e.sponsorUsername,_=e.sponsorshipStatus,h=e.textWeight,m=void 0===h?"bold":h,y=(0,r.ZP)(),v=(0,i.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,i.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,b=s||(f?"/".concat(f,"/"):null),P=b&&p?(0,l.jsx)(a.rU,{href:b,onClick:d,children:(0,l.jsx)(a.xv,{weight:m,size:"200",children:p})},p):void 0;u?t=(0,o.nk)(y._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:P}):_||0===_?p&&!c.includes(_)?t=(0,o.nk)(y._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:P}):g&&2===_||(t=y._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):n&&(t=y._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));var w=v&&!u?"Ad  ":"";return(0,l.jsxs)(a.xv,{inline:!0,size:"200",lineClamp:2,children:[w,t]})}},800751:function(e,t,n){"use strict";n.d(t,{$I:function(){return b},$o:function(){return f},CC:function(){return y},Hr:function(){return a},Jo:function(){return d},Q8:function(){return A},Ux:function(){return h},VX:function(){return x},XZ:function(){return m},Zo:function(){return v},aD:function(){return g},b2:function(){return w},dJ:function(){return o},g2:function(){return S},g6:function(){return s},il:function(){return l},lM:function(){return c},qN:function(){return p},qX:function(){return i},s4:function(){return _},tK:function(){return j},ym:function(){return P},zQ:function(){return O}});var r=n(966113),o=546,i={height:136,width:272},a={advertise:r.Rf+"/advertise",targeting:r.Rf+"/advertise/#targeting",how_to_make_pins:r.Rf+"/basics/how-to-make-pins/#best-practices",success_stories:r.Rf+"/success-stories/"},l={status_page_header_background:"https://i.pinimg.com/originals/76/52/b8/7652b80aac786dac958ce996d9692771.png",additional_resources_business_advertise:"https://i.pinimg.com/originals/58/4d/6f/584d6f9e21d7e95b723c04015a7f3333.png",additional_resources_business_audience:"https://i.pinimg.com/originals/44/3d/67/443d671687e418a4ec23bb56419c509c.png",additional_resources_business_how_to_make_pins:"https://i.pinimg.com/originals/79/f4/99/79f499fedffcfd50ee86ebaac4f34e9a.png",additional_resources_business_success_stories:"https://i.pinimg.com/originals/e0/55/12/e05512dbb012d7bd1861d901dc851b2e.png"},c=["US","GB","CA","AU","DE","FR"],s=["ES","IT","AT","CH","NL","BR","MX"],u=["FR"],d=c.concat(s).filter((function(e){return!u.includes(e)})),p={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},f={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},_=Object.freeze({APPLIED:"APPLIED",IN_REVIEW:"IN_REVIEW",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED",OUTBOUND_LEAD:"OUTBOUND_LEAD"}),h=function(e,t){switch(e){case"IN_PROGRESS":return t._('In-progress', 'BizHubHeader.VMPEntryPointStatus.label', 'User is currently in progress of becoming a Verified Merchant');case"IN_REVIEW":return t._('In review', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently in review to become a Verified Merchant');case"ACTIVE":return t._('Active', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently an active Verified Merchant');case"NEEDS_ATTENTION":return t._('Needs attention', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account has an issue that needs attention in order to keep their Verified Merchant Status');case"SUSPENDED":return t._('Suspended', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently a suspended Verified Merchant');default:return e}},m=[_.NON_COMPLIANT,_.SUSPENDED],y=Object.freeze({UNSUPPORTED_MARKET:"unsupported_market",TAG_ID_NOT_CREATED:"tag_id_not_created",NO_TAG_TRAFFIC:"no_tag_traffic",HEALTH_SCORE_NOT_AVAILABLE:"health_score_not_available",UNHEALTHY:"unhealthy",ACCEPTABLE:"acceptable",HEALTHY:"healthy"}),v=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"alert",REJECTED:"clear",RECOMMENDED:"info-circle"}),g=Object.freeze({UNSTARTED:"subtle",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),b={status:"APPLIED",userId:"user_undefined",is_approved:!1,last_compliant_at:""},P="Verified merchant program not yet available in this country",w=2e3,S={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},x=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),O=[x.ACCOUNT_AGE,x.DOMAIN_AGE,x.PROFILE_IMAGE,x.PROFILE_COVER_IMAGE,x.BIO,x.SHOP_TAB,x.PINNER_FEEDBACK],A=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),j=30},966676:function(e,t,n){"use strict";n.d(t,{Nb:function(){return l},Of:function(){return c},YO:function(){return a},x4:function(){return u}});var r=n(76911),o=n(620707),i=n(92261),a=function(e){var t=e.showProductDetailPage,n=e.isLargerPane,r=e.showCloseupContentRight;return t&&n?r?i.Uj:i.zT:1},l=(0,o.qe)((function(e){return{paneWidth:e.paneWidth,pdpCarouselSlotToPaneRatio:e.pdpCarouselSlotToPaneRatio,showCloseupContentRight:e.showCloseupContentRight,showProductDetailPage:e.showProductDetailPage,viewportSize:e.viewportSize,maxWidth:e.maxWidth,descriptionPaneWidth:e.descriptionPaneWidth}})),c={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg},s=(0,r.createContext)(c);function u(){var e=(0,r.useContext)(s);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}t.ZP=s},92261:function(e,t,n){"use strict";n.d(t,{$T:function(){return m},CI:function(){return i},Ch:function(){return l},Gb:function(){return c},Gg:function(){return r},Ie:function(){return p},KP:function(){return f},Kn:function(){return a},Uj:function(){return s},bx:function(){return _},d2:function(){return d},g9:function(){return h},iB:function(){return y},u6:function(){return o},zT:function(){return u}});var r=508,o=2*r,i=488,a=992,l=672,c=1176,s=.6,u=.84,d=40,p=72,f=740,_=912,h=32,m=24,y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},814197:function(e,t,n){"use strict";n.d(t,{Cq:function(){return d},Dk:function(){return f},Fk:function(){return i},fS:function(){return u},km:function(){return p},lI:function(){return l},lJ:function(){return a},mS:function(){return s},qW:function(){return c},t5:function(){return _}});var r=n(908390),o=n(977558),i=new r.Ry(1),a=3,l=new r.Ry(a),c=2,s=new r.Ry(c),u=3,d=4,p=new r.Ry(5),f=new r.Ry(100),_=new r.Ry(o.fe+1)},538232:function(e,t,n){"use strict";n.d(t,{R:function(){return i},q:function(){return o}});var r=(0,n(425288).Z)("CloseupPageContext"),o=r.Provider,i=r.useHook},95551:function(e,t,n){"use strict";var r=n(898781),o=n(908390),i=n(780280),a=n(515198);t.Z=function(e){var t=e.onSendButtonClick,n=e.trackShareTap,l=e.color,c=e.size,s=e.bgColor,u=(0,r.ZP)(),d="android"===(0,i.B)().userAgent.platform;return(0,a.jsx)(o.hU,{accessibilityLabel:u._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:function(e){var r=e.event;t(r),n()},size:c||"lg",bgColor:s||"transparent",iconColor:l||"darkGray",icon:d?"android-share":"share"})}},435497:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),o=n(834911),i=n(391254),a=n(908390),l=n(455024),c=n(350118),s=n(515198);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.index,n=e.length,r=e.showBadge?.8:0;return(0,s.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:r,transition:"opacity .3s"}},children:(0,s.jsx)(a.xv,{color:"inverse",children:"".concat((null!=t?t:0)+1,"/").concat(n)})})}var f=n(564194);function _(e){var t,n,d,_=e.children,h=e.componentType,m=e.containerRef,y=e.contextLogData,v=e.disableTransition,g=e.gap,b=void 0===g?0:g,P=e.height,w=e.id,S=e.impressionType,x=e.index,O=e.shouldBeDragCarousel,A=e.showCarouselBadge,j=e.slideWidth,E=e.view,T=e.viewParameter,I=e.widthRatio,C=void 0===I?1:I,D=function(e){var t=e.index,n=u((0,r.useState)(!0),2),o=n[0],i=n[1],a=(0,r.useRef)(),l=(0,r.useRef)();return(0,r.useEffect)((function(){return a.current=setTimeout((function(){i(!1)}),3e3),function(){clearTimeout(a.current)}}),[]),(0,r.useEffect)((function(){l.current?(clearTimeout(a.current),i(!0)):l.current=t}),[t]),{showBadge:o}}({index:x}).showBadge,R=(0,r.useRef)(),k=(0,r.useRef)(),z=(0,c.S6)()(w);if(C>1||C<0)throw new Error("widthRatio should be between 0 and 1 inclusive");var L=Math.floor(j*C),M=r.Children.toArray(_),N=M.length*L,B=(null===(t=m.current)||void 0===t?void 0:t.clientWidth)||N;return(0,s.jsxs)(a.xu,{display:"flex",justifyContent:B>N?"center":"start",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",children:[A&&(0,s.jsx)(p,{length:M.length,index:x,showBadge:D}),"BoardMoreIdeasRep"!==S&&(0,s.jsx)(f.Z,{carouselData:z&&(0,o.Z)({carouselData:z.carousel_data,images:z.images,richMetadata:z.rich_metadata,richSummary:z.rich_summary}),contextLogData:y,trackCarousel:!0,impressionType:"Pin",loggingId:w,slotIndex:x,viewParameter:null!=T?T:72,viewType:null!=E?E:1,children:(0,s.jsx)(a.xu,{height:null!==(n=null!=P?P:null===(d=R.current)||void 0===d?void 0:d.clientHeight)&&void 0!==n?n:1,overflow:"hidden",position:"absolute",width:j})},"carousel-impression-key-".concat(x)),O&&(0,s.jsx)(i.Z,{unsafeCSS:"\n  .horizontal-scroll-container {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }"}),(0,s.jsx)("div",{className:"horizontal-scroll-container",style:{overflowX:O?"scroll":"visible",scrollbarWidth:0,transition:v?"":"left .3s",display:"flex",flexDirection:"row",position:"relative",left:!O&&(0,l.CU)({slotWidth:L,gap:b,numberOfSlides:M.length,index:x,containerWidth:B})},ref:k,children:M.map((function(e,t){var n=t===M.length-1,r=(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:n?0:b}},"data-test-id":"carousel-img-".concat(t),height:null!=P?P:void 0,ref:R,width:L,children:e},"carousel-slot-".concat(w,"-").concat(t));if("BoardMoreIdeasRep"===S){var o=e.props,i={total_object_count:null==o?void 0:o.story.objects.length,storyType:null==o?void 0:o.story.story_type,boardIdStr:null==o?void 0:o.item.board_id,slotIndex:null==o?void 0:o.slotIndex,story_id:null==o?void 0:o.story.id};return(0,s.jsx)(f.Z,{componentType:h,contextLogData:i,impressionAuxFields:i,impressionType:null!=S?S:"Pin",loggingId:w,slotIndex:t,viewParameter:null!=T?T:72,viewType:null!=E?E:1,children:r},"carousel-slot-".concat(w,"-").concat(t))}return r}))})]})}},356725:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(506979),o=n(834911),i=n(447948),a=n(35495),l=n(407043),c=n(350118),s=n(966676),u=n(908390),d=n(515198);function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=e.carouselData,n=e.carouselIndex,f=e.componentType,_=e.contextLogData,m=e.handleCarouselSwipe,y=e.isCloseup,v=e.isEditMode,g=e.pinId,b=e.viewParameter,P=e.viewType,w=e.variant,S=(0,l.v)().logContextEvent,x=(0,c.S6)()(g),O=t||(0,o.Z)({carouselData:null==x?void 0:x.carousel_data,images:null==x?void 0:x.images,richMetadata:null==x?void 0:x.rich_metadata,richSummary:null==x?void 0:x.rich_summary}),A=(0,r.useDispatch)();if(!O)return null;var j=function(e,t,n){v||void 0===i.yR||(e.preventDefault(),e.stopPropagation(),A((0,i.yR)(String(g),n))),void 0!==m&&m(n),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0;if(!(arguments.length>10?arguments[10]:void 0)){var d=i.carousel_slots,p=i.id;e({event_type:108,object_id_str:n,component:s,view_type:c,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==d?void 0:d[r])&&Number(d[r].id),carouselDataId:Number(p),carouselSlotIndex:r,toCarouselSlotIndex:o}},aux_data:h(h({},u),(0,a.Kl)(t)||{})})}}(S,x,g,t,n,O,b,P,f,_,v)},E=O.carousel_slots,T=void 0===E?[]:E,I=O.index,C=void 0!==n?n:I,D="default"===w,R=D?"white":"#555",k=D?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,d.jsx)(s.ZP.Consumer,{children:function(e){return"sm"===e.viewportSize?null:(0,d.jsx)(u.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:y?"end":"center",paddingY:v?1:0,children:p(Array(T.length).keys()).map((function(e){var t;return(0,d.jsx)(u.xu,{paddingX:1,children:(0,d.jsx)(u.iP,{accessibilityLabel:null!==(t=T[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:function(t){var n=t.event;return j(n,C,e)},rounding:"circle",children:(0,d.jsx)(u.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===C?R:k}},rounding:"circle"})})},g+e)}))})}})}},239062:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(506979),o=n(356725),i=n(834911),a=n(898781),l=n(840003),c=n(447948),s=n(35495),u=n(407043),d=n(350118),p=n(908390),f=n(515198);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={slider:{cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1,pointerEvents:"auto"}};function v(e){var t=e.addEllipsis,n=e.carouselIndex,_=e.carouselData,m=e.handleCarouselSwipe,v=e.isShowingLastSlide,g=e.pinId,b=e.contextLogData,P=e.viewParameter,w=e.viewType,S=e.componentType,x=e.isEditMode,O=e.forwardNode,A=e.backNode,j=(0,a.ZP)(),E=(0,r.useDispatch)(),T=(0,u.v)().logContextEvent,I=(0,d.S6)()(g),C=(0,l.Z)(null==I?void 0:I.is_eligible_for_pdp_plus),D=_||(0,i.Z)({carouselData:null==I?void 0:I.carousel_data,images:null==I?void 0:I.images,richMetadata:null==I?void 0:I.rich_metadata,richSummary:null==I?void 0:I.rich_summary});if(!D)return null;var R=function(e,t){return E((0,c.yR)(e,t))},k=D.carousel_slots,z=void 0===k?[]:k,L=D.index,M=void 0!==n?n:void 0===L?0:L,N=Math.max(0,M-1),B=Math.min(z.length-1,M+1),F=0===M,Z=v||M===z.length-1,U=function(e,t){!function(e,t,n,r,o,i){i||void 0===r||(e.preventDefault(),e.stopPropagation(),r(t,n)),void 0!==o&&o(n)}(e,g,t,R,m,x),function(e,t,n,r,o,i,a,l,c,u,d,p){if(!d||!i){var f=i.carousel_slots,_=i.id;e({event_type:108,object_id_str:n,component:c,view_type:l,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==f?void 0:f[r])&&Number(f[r].id),carouselDataId:Number(_),carouselSlotIndex:r,toCarouselSlotIndex:o}},aux_data:h(h({},u),(0,s.Kl)(t,{},p?"pdp_plus":void 0)||{})})}}(T,I,g,M,t,D,P,w,S,b,x,C)};return(0,f.jsxs)(p.xu,{display:"flex",justifyContent:"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[(0,f.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:function(e){U(e,N)},onKeyUp:function(e){U(e,N)},style:y.slider,children:(0,f.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:F?"hidden":"visible"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:A||(0,f.jsx)(p.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:j._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})}),t&&(0,f.jsx)(o.default,{pinId:g,carouselIndex:n,carouselData:D,handleCarouselSwipe:m,variant:"default"}),(0,f.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:function(e){U(e,B)},onKeyUp:function(e){U(e,B)},style:y.slider,children:(0,f.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Z?"hidden":"visible"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:O||(0,f.jsx)(p.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:j._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')})})})]})}},876371:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(76911),o=n(564194),i=n(834911),a=n(737022),l=n(310227),c=n(350118),s=n(898781),u=n(908390),d=n(455024),p=n(444445),f=n(515198);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,n,r,i=v(c);function c(){var e;h(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(b(e=i.call.apply(i,[this].concat(n))),"state",{showBadge:!0}),x(b(e),"renderBadge",(function(){var t=e.props,n=t.carouselData,r=t.isCloseup,o=t.showCarouselBadge;if(!n)return null;var i=e.state.showBadge,a=n.carousel_slots,l=n.index,c=i?.8:0;return!r&&o?(0,f.jsx)(u.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new u.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:c,transition:"opacity .3s"}},children:(0,f.jsx)(u.xv,{color:"inverse",children:"".concat((null!=l?l:0)+1,"/").concat((null!=a?a:[]).length)})}):null})),e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout((function(){return e.setState({showBadge:!1})}),3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,r=e.carouselData,o=this.props.carouselData;if(r&&o){var i=r.index,a=o.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout((function(){return t.setState({showBadge:!1})}),3e3)),i!==a&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCloseup,r=t.carouselIndex,i=t.closeupHeight,c=t.closeupWidth,s=void 0===c?0:c,_=t.widthRatio,h=void 0===_?1:_,m=t.cropHeight,y=t.cropWidth,v=t.carouselData,g=t.disableTransition,b=t.highResOnly,P=t.lowResOnly,w=t.onError,O=t.onLoad,A=t.pinId,j=t.isEditMode,E=t.isDenseView,T=t.pin;if(!v)return null;if(h>1||h<0)throw new Error("widthRatio should be between 0 and 1 inclusive");var I,C=v.carousel_slots,D=void 0===C?[]:C,R=v.index,k=void 0===R?0:R,z=void 0!==r?r:k,L=!n&&y,M=D[z].images;I=n?s:L||(b?474:E?p.Lo:p.yF);var N,B,F=Math.floor(I*h),Z=(null==M?void 0:M["236x"])||{},U=m||Z.height||0,G=y||Z.width||236,V=i||U/G*F,H=(N=D.reduce((function(e,t){var n,r=t.images,o=(null==r?void 0:r["736x"])||(null==r?void 0:r["236x"])||{},i=o.height,a=void 0===i?1:i,l=o.width,c=void 0===l?1:l,s="".concat(c,"x").concat(a),u=(null===(n=e[s])||void 0===n?void 0:n.times)||0;return S(S({},e),{},x({},s,{imageHeight:a,imageWidth:c,times:u+1}))}),{}),B=Object.keys(N).reduce((function(e,t){return N[t].times>e.times?N[t]:e}),{times:-1,imageHeight:-1,imageWidth:-1}),Object.keys(N).length>1?{imageHeight:B.imageHeight,imageWidth:B.imageWidth}:null);return(0,f.jsxs)(u.xu,{height:V,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:l.Ml,"data-test-image-signature":null==T?void 0:T.image_signature,children:[!j&&this.renderBadge(),(0,f.jsx)(o.Z,{carouselData:v,trackCarousel:!0,impressionType:"Pin",loggingId:A,slotIndex:k,viewParameter:72,viewType:1,children:(0,f.jsx)(u.xu,{position:"absolute",height:V,width:F,overflow:"hidden"})},"carousel-impression-key-".concat(z)),(0,f.jsx)(u.xu,{width:F*D.length,dangerouslySetInlineStyle:{__style:{transition:g?"":"left .3s",left:(0,d.vF)(D.length,F,I,z)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:D.map((function(t,r){if(n){var o=r===D.length-1;return function(e,t){var n=e.pinId,r=e.slot,o=e.slotIndex,i=e.onError,l=e.onLoad,c=e.widthToUse,s=e.gap,p=(0,a.Z)(r.images)||{},_=p.url,h=p.width,m=p.height,y=r.details,v=void 0===y?"":y,g=(0,d.GH)(v,t,o);return(0,f.jsx)(u.xu,{"data-test-id":"carousel-slot-container",width:c,height:"100%",marginEnd:s,children:(0,f.jsx)(u.zd,{height:"100%",wash:!0,children:(0,f.jsx)(u.Ee,{alt:g,fit:"contain",naturalHeight:null!=m?m:1,naturalWidth:null!=h?h:1,onError:i,onLoad:l,src:null!=_?_:""})})},"carousel-slot-".concat(n,"-").concat(o))}({pinId:A,slot:t,slotIndex:r,onError:w,onLoad:O,widthToUse:F,gap:F<I&&!o?1:0},e.props.i18n)}return function(e,t,n,r,o,i,a,l,c,s,p,_,h,m,y){var v,g,b,P,w,S,x,O,A,j,E,T,I=t.images,C=t.details,D=void 0===C?"":C,R=236,k=236,z="";if(o?(R=474,k=I&&Math.min(R/.8,R/((null!==(w=null===(S=I["564x"])||void 0===S?void 0:S.width)&&void 0!==w?w:1)/(null!==(x=null===(O=I["564x"])||void 0===O?void 0:O.height)&&void 0!==x?x:1))),z=I&&(null===(A=I["564x"])||void 0===A?void 0:A.url)):I&&I["736x"]?(k=I&&I["736x"]&&I["736x"].height,R=I&&I["736x"]&&I["736x"].width,z=I&&I["736x"]&&I["736x"].url):I&&I["236x"]&&(k=I&&I["236x"]&&I["236x"].height,R=I&&I["236x"]&&I["236x"].width,z=I&&I["236x"]&&I["236x"].url),h&&m&&(k=Math.min(h*m,null!==(j=k)&&void 0!==j?j:1)),i)P="".concat(null!==(E=null==I||null===(T=I["236x"])||void 0===T?void 0:T.url)&&void 0!==E?E:""," 1x");else if(o){var L,M;P="".concat(null!==(L=null==I||null===(M=I["564x"])||void 0===M?void 0:M.url)&&void 0!==L?L:""," 1x")}else{var N,B,F;P=[(null==I?void 0:I["474x"])&&"".concat(null!==(N=I["474x"].url)&&void 0!==N?N:""," 2x"),(null==I?void 0:I["736x"])&&"".concat(null!==(B=I["736x"].url)&&void 0!==B?B:""," 3x"),(null==I?void 0:I.orig)&&"".concat(null!==(F=I.orig.url)&&void 0!==F?F:""," 4x")].filter(Boolean).join(", ")}var Z=(0,d.GH)(D,e,r),U=_?void 0:k,G=_?void 0:R,V=y?{boxHeight:null==y?void 0:y.imageHeight,boxWidth:null==y?void 0:y.imageWidth}:{boxHeight:U,boxWidth:G},H=V.boxHeight,W=V.boxWidth;return(0,f.jsx)(u.xu,{"data-test-id":"carousel-slot-container",height:H,width:W,children:(0,f.jsx)(u.xu,{height:_?p:void 0,width:_||void 0,"data-test-id":"carousel-img-".concat(r),children:(0,f.jsx)(u.Ee,{alt:Z,fit:_?"cover":"none",naturalHeight:null!==(v=k)&&void 0!==v?v:1,naturalWidth:null!==(g=R)&&void 0!==g?g:1,onError:a,onLoad:l,src:null!==(b=z)&&void 0!==b?b:"",srcSet:P})})},"carousel-slot-".concat(n,"-").concat(r))}(e.props.i18n,t,A,r,b,P,w,O,0,0,m,y,V,F,H)}))})]})}}])&&m(t.prototype,n),r&&m(t,r),c}(r.Component);function A(e){var t=(0,s.ZP)(),n=(0,c.S6)()(e.pinId)||e.pin,r=(0,i.Z)({carouselData:null==n?void 0:n.carousel_data,images:null==n?void 0:n.images,richMetadata:null==n?void 0:n.rich_metadata,richSummary:null==n?void 0:n.rich_summary,shouldUnifyImageSizes:!0});return(0,f.jsx)(O,S(S({},e),{},{carouselData:r,i18n:t}))}x(O,"defaultProps",{showCarouselBadge:!0})},751191:function(e,t,n){"use strict";var r=n(76911),o=n(898781),i=n(908390),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t=e.iconType,n=e.showFab,c=e.backgroundColor,s=e.hoverColor,u=e.iconColor,d=(0,o.ZP)(),p=l((0,r.useState)(!1),2),f=p[0],_=p[1];return(0,a.jsx)(i.zd,{rounding:6,children:(0,a.jsx)(i.xu,{opacity:f?1:.8,rounding:"circle",onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)},"data-test-id":"navigation-fab-container",children:(0,a.jsx)(i.xu,{width:48,height:48,color:f?s:c,display:"flex",justifyContent:"center",alignItems:"center",opacity:n?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",children:"forward"===t?(0,a.jsx)(i.JO,{color:u,icon:"arrow-forward",accessibilityLabel:d._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')}):(0,a.jsx)(i.JO,{color:u,icon:"arrow-back",accessibilityLabel:d._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})})})}},455024:function(e,t,n){"use strict";n.d(t,{CU:function(){return i},GH:function(){return c},Iw:function(){return l},gA:function(){return s},tD:function(){return a},vF:function(){return u}});var r=function e(t){var n=t.containerWidth,r=t.contentWidth,o=t.index,i=t.slotAndGapWidth,a=o-1,l=a*i;return r-l>=n?l:e({index:a,slotAndGapWidth:i,containerWidth:n,contentWidth:r})},o=function(e){var t=e.containerWidth,n=e.contentWidth,o=e.gap,i=e.index,a=e.slidesShownPerPosition,l=e.slotAndGapWidth;return r({containerWidth:t,contentWidth:n,index:i,slotAndGapWidth:l})+function(e){var t=e.slidesShownPerPosition,n=e.slotAndGapWidth;return n-(t-parseInt(t,10))*n}({slidesShownPerPosition:a,slotAndGapWidth:l})-o},i=function(e){var t=e.containerWidth,n=e.gap,r=e.index,i=e.numberOfSlides,a=e.slotWidth+n,l=a*i;if(l<=t)return 0;var c=t/a,s=function(e){var t=e.index,n=e.numberOfSlides,r=e.slidesShownPerPosition;return n-t-Math.floor(r)<1}({index:r,numberOfSlides:i,slidesShownPerPosition:c})?o({containerWidth:t,contentWidth:l,gap:n,index:r,slidesShownPerPosition:c,slotAndGapWidth:a}):r*a;return s?Math.round(-s):0},a=function(e){var t=e.containerWidth,n=e.gap,r=e.index,o=e.numberOfSlides,a=e.slotWidth,l=(a+n)*o;if(l<=t||0===t)return!0;var c=i({containerWidth:t,gap:n,index:r,numberOfSlides:o,slotWidth:a}),s=l-t;return Math.abs(c)+n>=s},l=function(e){var t=e.containerWidth,n=e.currentIndex,r=e.gap,o=e.index,a=e.numberOfSlides,l=e.slotWidth,c=l+r;return c*a<=t||0===t||i({containerWidth:t,gap:r,index:n,numberOfSlides:a,slotWidth:l})+c*o<t+c},c=function(e,t,n){return e||"".concat(t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')," ").concat(n)},s=function(e){var t,n,r,o,i,a,l,c=e.highResOnly,s=e.lowResOnly,u=e.slot.images;return s?"".concat(null!==(o=null==u||null===(i=u["236x"])||void 0===i?void 0:i.url)&&void 0!==o?o:""," 1x"):c?"".concat(null!==(a=null==u||null===(l=u["564x"])||void 0===l?void 0:l.url)&&void 0!==a?a:""," 1x"):[(null==u?void 0:u["474x"])&&"".concat(null!==(t=u["474x"].url)&&void 0!==t?t:""," 2x"),(null==u?void 0:u["736x"])&&"".concat(null!==(n=u["736x"].url)&&void 0!==n?n:""," 3x"),(null==u?void 0:u.orig)&&"".concat(null!==(r=u.orig.url)&&void 0!==r?r:""," 4x")].filter(Boolean).join(", ")},u=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(n===t)return r*t*-1;var i=Math.floor(n-t),a=t+o;return r===e-1?-1*r*a+i:-1*r*a}},92331:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(654874),o=n(564194),i=n(676142),a=n(444445),l=n(407043),c=n(940882),s=n(908390),u=n(515198);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=a.yF;function h(e){var t=e.contextLogData,n=e.bubbles,a=e.id,d=e.referringSource,f=e.slotIndex,h=e.storyType,m=e.title,y=e.titleIcon,v=e.viewType,g=e.viewParameter,b=(0,l.v)().logContextEvent,P=n.map((function(e){return e.type+":"+e.id})).join("|"),w=p(p({story_type:h},t),{},{content_ids:P});return(0,u.jsx)(o.Z,{viewType:v,componentType:200,viewParameter:g,loggingId:a,objectIdStr:a,contextLogData:w,impressionType:"Story",slotIndex:f,children:(0,u.jsxs)(s.xu,{children:[m&&(0,u.jsxs)(s.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof y&&y!==c.J&&(0,u.jsx)(s.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,u.jsx)(s.JO,{accessibilityLabel:"",color:"default",icon:(0,c.Z)(y),size:14})}),(0,u.jsx)(s.xv,{weight:"bold",children:(0,i.Z)(m)})]}),n.map((function(e,t){return(0,u.jsx)(s.xu,{paddingY:1,flex:"none",children:(0,u.jsx)(r.Z,{bubble:e,onClick:function(e){b({event_type:101,object_id_str:e,view_type:v,view_parameter:g,component:200,aux_data:w})},referringSource:d,height:103,width:_,storyId:a,viewType:v,viewParameter:g,slotIndex:t,contextLogData:w})},"bubble-".concat(e.id))}))]})})}},798821:function(e,t){"use strict";t.Z={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},990823:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},tY:function(){return u},Yh:function(){return s}});var r=n(506979),o=n(784590),i=n(19121);var a=0,l=1;function c(e){var t,n=(0,i.Z)(),r=n.isAuth&&n.id===e,a=(0,o.Z)(!n.isAuth||r?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:r&&n.has_quicksave_board||!(!n.isAuth||null===(t=(null!=a?a:{}).data)||void 0===t||!t.has_quicksave_board)}}function s(e){var t,n=(0,r.useDispatch)(),a=(0,i.Z)(),l=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,c=(0,o.Z)(l&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id}}:null);return a.isAuth&&void 0===a.save_behavior&&c&&null!==(t=c.data)&&void 0!==t&&t.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:c.data.save_behavior}}),{showEnabledSaveBehavior:l}}function u(e){var t,n=(0,i.Z)();return e&&(n.save_behavior===a?t={type:"classic"}:n.save_behavior===l&&(t={type:"inline"})),{saveBehaviorType:t}}},151645:function(e,t,n){"use strict";function r(e){var t=e.user,n=e.viewer;return Boolean(n.isAuth&&(null==t?void 0:t.username)===n.username)}n.d(t,{Z:function(){return r}})},565380:function(e,t,n){"use strict";n.d(t,{$B:function(){return d},L6:function(){return _},S5:function(){return f},UI:function(){return s},Up:function(){return m},jl:function(){return u},vW:function(){return p},yK:function(){return h}});var r,o,i=n(833991),a=n(977558),l=n(908390);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=new l.H3([new l.Ry(i.HW),new l.Ry(a.fe)]),u=1e5,d={ALL:"ALL",FEATURED:"FEATURED",CATEGORY:"CATEGORY"},p={SectionCategories:"SectionCategories",SectionEditYourShop:"SectionEditYourShop",SectionFeaturedProductGroups:"SectionFeaturedProductGroups"},f=(c(r={},p.SectionCategories,d.CATEGORY),c(r,p.SectionFeaturedProductGroups,d.FEATURED),c(r,p.SectionEditYourShop,d.ALL),r),_=(c(o={},p.SectionCategories,14126),c(o,p.SectionFeaturedProductGroups,14127),o),h={FEATURED:"featured_product_groups",CATEGORY:"featured_categories_product_groups"},m="/product-catalogs"},390598:function(e,t,n){"use strict";n.d(t,{C:function(){return d},Z:function(){return u}});var r=n(76911),o=n(833759),i=n(908390),a=n(407043),l=n(515198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={HEIGHT:362,WIDTH:362};function d(e){var t,n,s,d,p=e.productGroup,f=e.preferredPreviewPinSizes,_=void 0===f?[]:f,h=e.coverFit,m=void 0!==h&&h,y=(0,a.v)().logContextEvent,v=p.cover_images&&p.cover_images[0]&&(0,o.cB)(p.cover_images[0]),g=u.WIDTH,b=u.HEIGHT,P=p.preview_pins&&p.preview_pins[0]&&p.preview_pins[0].images,w=c((0,r.useState)(!v),2),S=w[0],x=w[1];P&&S&&(d=_.concat("orig").map((function(e){return P[e]})).find((function(e){return!!e})));var O=S?null===(t=d)||void 0===t?void 0:t.height:b,A=S?null===(n=d)||void 0===n?void 0:n.width:g,j=S?null===(s=d)||void 0===s?void 0:s.url:v;return O&&A&&j?(0,l.jsx)(i.Ee,{alt:"",naturalHeight:O,naturalWidth:A,src:j,fit:m?"cover":"contain",onError:function(){S||(y({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:v}}),x(!0))}}):null}},81300:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(76911),o=n(121151),i=n(214494),a=n(499128),l=n(487392),c=n(898781),s=n(784590),u=n(19121),d=n(833991),p=n(977558),f=n(349700),_=n(407043),h=n(35066),m=n(343341),y=n(833759),v=n(908390),g=n(400264),b=n(515198);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=new v.H3([new v.Ry(d.HW),new v.Ry(p.fe)]),x=316;function O(e){var t=e.onFileUpload,n=(0,c.ZP)(),o=P((0,r.useState)(!1),2),i=o[0],a=o[1],l=(0,r.useRef)(null),s=n._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,b.jsxs)(v.kC,{justifyContent:"center",children:[(0,b.jsx)(v.hU,{accessibilityExpanded:i,accessibilityHaspopup:!0,accessibilityLabel:n._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:function(){return a((function(e){return!e}))},ref:l,size:"lg"}),i&&(0,b.jsx)(v.Lt,{anchor:l.current,id:"product-group-image-dropdown",onDismiss:function(){return a(!1)},children:(0,b.jsx)(v.Lt.Item,{onSelect:function(){a(!1),t()},option:{value:s,label:s}})})]})}function A(e){var t=e.image,n=e.onFileUpload,r=e.onError,o=(0,c.ZP)(),i=o._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,b.jsxs)(v.xu,{position:"relative",children:[(0,b.jsx)(v.xu,{height:x,width:x,rounding:5,overflow:"hidden",children:(0,b.jsx)(v.Ee,{alt:i,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:t,onError:r})}),(0,b.jsx)(v.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,b.jsx)(O,{onFileUpload:n})})]})}function j(e){var t,n,d,p=e.onDismiss,w=e.onSubmit,O=e.productGroup,j=(0,_.v)().logContextEvent,E=(0,c.ZP)(),T=E._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),I=(0,u.Z)().id||"",C="/v3/business/users/".concat(I,"/storefront/product_group_image/"),D=P((0,r.useState)(""),2),R=D[0],k=D[1],z=P((0,r.useState)(""),2),L=z[0],M=z[1],N=P((0,r.useState)(),2),B=N[0],F=N[1],Z=P((0,r.useState)(),2),U=Z[0],G=Z[1],V=P((0,r.useState)(!1),2),H=V[0],W=V[1],K=P((0,r.useState)(0),2),Y=K[0],X=K[1],q=P((0,r.useState)((new Date).getTime()),1)[0],J=O.group_type!==y.yh,$=(0,l.Z)(),Q=$.merchantId,ee=$.advertiserId,te=(0,m.F9)().showOneToast,ne=(0,h.S)().updateStorefrontLastUpdated,re=(0,g.Ib)({advertiserId:ee,merchantId:Q,productGroupsIds:[O.id],uniq:q},!1,!0),oe=(0,s.Z)({name:"ApiResource",options:{url:C,data:{product_group_ids:[O.id]},uniq:q},noCache:!0}),ie=(0,r.useRef)(),ae=Number(O.id),le=null===(t=re.data)||void 0===t?void 0:t.find((function(e){return e.id===ae})),ce=re.isLoaded&&oe.isLoaded,se=le&&(R!==le.name||L!==(le.description||"")||!!B),ue=le&&R!==le.name,de=le&&L!==(le.description||""),pe=ce?(0,y.cB)(null===(n=oe.data)||void 0===n||null===(d=n[O.id])||void 0===d?void 0:d[0]):null,fe=O.preview_pins[0],_e=null==fe?void 0:fe.image_signature,he=(0,y.cB)(null==fe?void 0:fe.images),me=U||[pe,he].filter((function(e){return!!e}))[Y];(0,r.useEffect)((function(){le&&(k(le.name||""),M(le.description||""))}),[le]),(0,r.useEffect)((function(){j({event_type:9854,component:13998})}),[j]);var ye=function(){p(),j({event_type:9856,component:13998})},ve=E._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),ge=E._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,b.jsx)(v.mh,{zIndex:S,children:(0,b.jsx)(o.ZP,{accessibilityModalLabel:T,align:"center",heading:T,onDismiss:ye,footer:ce?(0,b.jsxs)(v.kC,{alignItems:"start",children:[(0,b.jsx)(v.xu,{width:"50%",children:(0,b.jsx)(v.xv,{size:"300",children:(0,f.nk)(E._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,b.jsx)(v.rU,{href:"/product-catalogs",display:"inlineBlock",target:"blank",underline:"hover",children:(0,b.jsx)(v.xv,{weight:"bold",inline:!0,children:E._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,b.jsx)(v.xu,{width:"50%",children:(0,b.jsxs)(v.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,b.jsx)(v.zx,{color:"gray",text:ge,onClick:ye}),(0,b.jsx)(v.zx,{color:"red",text:ve,onClick:function(){var e=pe?B:B||_e,t=[],n=[];e&&(t.push(i.Z.create("ApiResource",{url:C,data:{image_signatures:[e],product_group_id:O.id}}).callUpdate()),n.push("cover_image")),(ue||de)&&(t.push(i.Z.create("ProductGroupsResource",{name:R,description:L,productGroupId:Number(O.id),filters:null==le?void 0:le.filter_v2}).callUpdate()),ue&&n.push("name"),de&&n.push("description")),j({event_type:9857,component:13998,aux_data:{product_group_modal_changes:n.join(",")}}),p(),Promise.all(t).then((function(){w(),ne((new Date).getTime()),te((function(e){var t=e.hideToast;return(0,b.jsx)("div",{className:"ProductGroupSavedToast",children:(0,b.jsx)(a.ZP,{duration:y.QE,onHide:t,text:E._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})}))}))},disabled:!se})]})})]},"product-group-details-footer"):(0,b.jsx)(r.Fragment,{}),size:J?"md":"sm",children:(0,b.jsx)(v.xu,{paddingX:8,marginBottom:2,children:ce?(0,b.jsxs)(v.kC,{justifyContent:"center",children:[(0,b.jsxs)(v.xu,{width:320,children:[(0,b.jsx)(v.xu,{marginBottom:4,children:(0,b.jsx)(v.xv,{size:"300",weight:"bold",children:E._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,b.jsx)("input",{accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:function(e){if(e.target instanceof HTMLInputElement){var t=e.target.files[0],n=new FileReader;t&&n.readAsDataURL(t),n.addEventListener("load",(function(){W(!0),j({event_type:9855,component:13998}),i.Z.create("ApiResource",{url:C,data:{image_base64:n.result}}).callCreate().then((function(e){var t,r;F(null===(t=e.resource_response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.image_signature),W(!1),"string"==typeof n.result&&G(n.result)}))}),!1)}},ref:ie,style:{display:"none"},type:"file"}),H&&(0,b.jsx)(v.xu,{height:x,width:x,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,b.jsx)(v.$j,{accessibilityLabel:E._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!H&&me&&(0,b.jsx)(A,{image:me,onFileUpload:function(){var e;null===(e=ie.current)||void 0===e||e.click()},onError:function(){return X(Y+1)}})]}),J&&(0,b.jsxs)(v.xu,{width:320,marginStart:4,children:[(0,b.jsx)(v.xu,{marginBottom:4,children:(0,b.jsx)(v.xv,{size:"300",weight:"bold",children:E._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,b.jsx)(v.nv,{id:"name",onChange:function(e){var t=e.value;return k(t.slice(0,255))},size:"lg",type:"text",value:R}),(0,b.jsxs)(v.xu,{marginTop:2,marginBottom:4,height:30,children:[R&&(0,b.jsx)(v.xv,{size:"100",color:"subtle",children:E._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!R&&(0,b.jsx)(v.xv,{size:"100",color:"error",children:E._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,b.jsx)(v.xu,{marginBottom:4,children:(0,b.jsx)(v.xv,{size:"300",weight:"bold",children:E._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,b.jsx)(v.xu,{height:178,children:(0,b.jsx)(v.Kx,{id:"description",onChange:function(e){var t=e.value;return M(t.slice(0,155))},placeholder:E._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:L,rows:7})})]})]}):(0,b.jsx)(v.$j,{accessibilityLabel:E._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},478144:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),o=n(81300),i=n(390598),a=n(898781),l=n(908390),c=n(515198);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(){},p=function(e){var t=e.url,n=e.onClick,r=e.i18n;return(0,c.jsx)(l.zx,{accessibilityLabel:r._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:r._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"link",href:t,onClick:n})},f=function(e){var t=e.i18n;return(0,c.jsx)(l.zx,{accessibilityLabel:t._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:t._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"button"})};function _(e){var t=e.onClick,n=e.productGroup,u=e.showControls,_=e.url,h=(0,a.ZP)(),m=h._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),y=(h._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),s((0,r.useState)(!1),2)),v=y[0],g=y[1],b=s((0,r.useState)(!1),2),P=b[0],w=b[1],S=!(!_||!t),x=i.Z.WIDTH,O=i.Z.HEIGHT,A=x-64;return(0,c.jsxs)(l.xu,{position:"relative",onMouseEnter:function(){w(!0)},onMouseLeave:function(){w(!1)},children:[(0,c.jsxs)(l.xu,{position:"relative",children:[(0,c.jsxs)(l.zd,{width:x,height:O,rounding:8,children:[(0,c.jsx)(i.C,{productGroup:n}),(0,c.jsx)(l.xu,{position:"absolute",width:x,height:O,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,c.jsx)(l.xu,{position:"absolute",color:"selected",opacity:P?.5:0,width:x,height:O,rounding:8,top:!0})]}),u&&P&&(0,c.jsxs)(l.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,c.jsx)(l.xu,{marginEnd:0,children:(0,c.jsx)(l.u,{text:m,idealDirection:"down",children:(0,c.jsx)(l.hU,{accessibilityLabel:m,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),g(!0)},size:"xl"})})}),false]}),(0,c.jsxs)(l.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,c.jsx)(l.xu,{marginBottom:5,maxWidth:A,children:(0,c.jsx)(l.X6,{size:"600",color:"inverse",lineClamp:2,children:n.name})}),P&&(0,c.jsx)(l.xu,{marginBottom:5,maxWidth:A,children:(0,c.jsx)(l.xv,{size:"300",color:"inverse",children:n.description})}),!S&&(0,c.jsx)(f,{i18n:h}),S&&(0,c.jsx)(p,{url:null!=_?_:"",onClick:null!=t?t:d,i18n:h})]}),u&&v&&(0,c.jsx)(o.Z,{onDismiss:function(){return g(!1)},onSubmit:function(){return g(!1)},productGroup:n})]})}},507264:function(e,t,n){"use strict";n.d(t,{LO:function(){return O},N0:function(){return E},t8:function(){return T},tt:function(){return I}});var r=n(76911),o=n(151645),i=n(798821),a=n(487392),l=n(717615),c=n(436395),s=n(784590),u=n(19121),d=n(488177),p=n(844974),f=n(231947),_=n(497020),h=n(35066),m=n(833759);function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=(0,s.Z)(e?{name:"ApiResource",options:{url:"/v3/catalogs/".concat(e,"/feed_profiles/"),field_sets:["feedprofile.id","feedprofile.display_name","feedprofile.country","feedprofile.locale","feedprofile.all_products_pg_item_count","feedprofile.feed_status"]}}:null);return{feedProfilesResource:t,feedProfiles:(0,_.d9)(t.data||[]).filter((function(e){return e.country&&e.locale&&e.feedStatus===d.Hm.ACTIVE}))}}function O(){var e=(0,a.Z)(),t=e.merchantId,n=e.ownerUserId,r=function(){var e=(0,s.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce((function(e,t){return w(w({},e),{},S({},t.key,t.name.split(" (")[0]||""))}),{})}}(),o=r.countriesResource,i=r.countries,l=x(t),c=l.feedProfilesResource,u=l.feedProfiles,d=function(e){var t=(0,s.Z)(e?{name:"ApiResource",options:{url:"/v3/business/users/".concat(e,"/storefront/settings/")}}:null);return{storefrontSettingsResource:t,settings:t.data||{}}}(n),p=d.storefrontSettingsResource,f=d.settings;return{countries:i,feedProfiles:u,isLoaded:o.isLoaded&&c.isLoaded&&p.isLoaded,refresh:function(){c.refresh(),p.refresh()},settings:f,userId:n}}function A(){var e=x((0,a.Z)().merchantId),t=e.feedProfilesResource,n=e.feedProfiles,r=function(){var e=(0,s.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data||{}}}(),o=r.userSettingsResource,i=r.userSettings;return{feedProfiles:n,isLoaded:t.isLoaded&&o.isLoaded,userSettings:i}}function j(){var e=(0,c.Z)().data,t=(0,u.Z)(),n=(0,o.Z)({user:e,viewer:t}),r=(0,l.Z)();return{isORBACProfileManager:(0,f.q6)(t,null==e?void 0:e.id,r),ownProfile:n}}function E(){return j().ownProfile}function T(){var e=j(),t=e.ownProfile,n=e.isORBACProfileManager;return t||n}function I(){var e=A(),t=e.feedProfiles,n=e.userSettings,o=e.isLoaded,a=(0,h.S)(),l=a.merchantStorefrontSettings.currentViewingLocale,c=l.country,s=l.language,u=a.updateLocaleStorefrontSetting,d=O().countries;(0,r.useEffect)((function(){if(o&&(!c||!s||!(0,m.Ee)(t,c,s))){var e,r=v(((0,p.qn)(i.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),2),a=r[0],l=r[1],f=n.country,_=n.locale,h=(0,m.b8)(t,d),g=(0,m.Ee)(h,a,l),b=(0,m.Ee)(h,f,(0,m.Md)(_)),P=v(y(h).sort((function(e,t){return(0,m.gE)(t)-(0,m.gE)(e)})),1)[0],w=g||b||P;if(w)u(w.country||"",(0,m.Md)(w.locale),null!==(e=w.id)&&void 0!==e?e:"")}}))}},760693:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(81636);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={BrandCatalogFeed:{tapBrandCatalogPin:function(e,t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:i({},e.commerceData)})}},ProductFeed:{tapProductPin:function(e,t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:i({},e.commerceData)})}},StorefrontFeed:{tapProductGroup:function(e,t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e.productGroupId})},useShoppingProfileViewLog:function(){(0,r.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function(e,t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e.productGroupId})}}};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=e.entryPoint,n=e.objectId,r=e.groupType;return{aux_data:{commerce_data:JSON.stringify({entrypoint:t}),product_group_type:r},component:13698,object_id_str:n,view_type:1,view_parameter:3515}}var p={BrandCatalog:{tapBrandCatalogPin:function(e,t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:s({},e.commerceData)})}},Categories:{tapCategoryBubble:function(e,t){var n=e.entryPoint;t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:n})}})}},ProductGroups:{productGroupRendered:function(e,t){t(s({event_type:120},d({entryPoint:e.entryPoint,objectId:e.productGroupId,groupType:e.groupType})))},tapProductGroup:function(e,t){t(s({event_type:102},d({entryPoint:e.entryPoint,objectId:e.productGroupId,groupType:e.groupType})))}},ProductPins:{tapProductPin:function(e,t){var n=e.commerceData;t({event_type:102,component:e.component,view_type:1,view_parameter:3513,aux_data:s({},n)})},viewProductPinsFeed:function(e,t){var n=e.component,r=e.entryPoint,o=e.category,i=e.productGroupId;t({event_type:13,component:n,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:r}),category_title:o,product_group_id:i}})}},viewFeedPage:function(e,t){var n=e.entryPoint;t({event_type:13,view_type:1,view_parameter:e.viewParameter,aux_data:{commerce_data:JSON.stringify({entrypoint:n})}})}},f=n(249727);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={Control:l,DomainModule:{trackSeeMoreClick:function(e,t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e.viewParameter})}},Feeds:p,StructuredFeed:{viewStructuredFeed:function(e,t){var n=e.merchantId,r=e.source;t(h({event_type:13,view_type:(0,f.Z)(r),view_parameter:3512},"profile"===r?{object_id_str:n}:Object.freeze({})))},Categories:{viewCategory:function(e,t){var n=e.id,r=e.source,o=e.title,i=e.bubble;t({event_type:120,component:13699,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:h({story_type:"storefront_category_bubbles",story_id:n,category_title:o},i.aux_fields)})},tapCategory:function(e,t){var n=e.id,r=e.source,o=e.title,i=e.bubble;t({event_type:102,component:13699,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:h({story_type:"storefront_category_bubbles",story_id:n,category_title:o},i.aux_fields)})},tapSeeMoreCategories:function(e,t){var n=e.id,r=e.source;t({event_type:102,component:13699,element:179,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:{story_id:n,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function(e,t){var n=e.productGroupId,r=e.source,o=e.groupType,i=e.componentType,a=e.index;t({event_type:102,component:i,object_id_str:n,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:{product_group_type:o,grid_index:a}})},tapSeeMoreProductGroups:function(e,t){var n=e.id,r=e.source;t({event_type:102,component:13698,element:179,aux_data:{story_id:n,story_type:"storefront_product_group_footer_button"},view_type:(0,f.Z)(r),view_parameter:3512})},viewProductGroup:function(e,t){var n=e.productGroupId,r=e.source,o=e.groupType;t({event_type:120,component:e.componentType,object_id_str:n,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:{product_group_type:o}})}},PinsFeed:{viewPinsFeed:function(e,t){var n=e.id,r=e.OwnerUserId,o=e.pinsFeedTitle,i=e.source;t({event_type:120,component:13700,view_type:(0,f.Z)(i),view_parameter:3512,aux_data:{story_id:n,story_type:"storefront_pins_feed",pins_feed_title:o,owner_user_id:r}})},tapPin:function(e,t){var n=e.commerceData,r=e.source;t({event_type:102,component:0,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:h({},n)})}}}}},249727:function(e,t,n){"use strict";function r(e){return"profile"===e?4:1}n.d(t,{Z:function(){return r}})},833759:function(e,t,n){"use strict";n.d(t,{Ee:function(){return w},LT:function(){return g},Md:function(){return h},Q1:function(){return P},QE:function(){return _},S8:function(){return x},WU:function(){return j},YY:function(){return A},b8:function(){return T},c8:function(){return b},cB:function(){return S},gE:function(){return m},mV:function(){return O},u3:function(){return y},yh:function(){return f},z1:function(){return v}});var r=n(214494),o=n(565380);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f="ALL_PRODUCTS",_=5e3,h=function(e){return e?e.split("-")[0].toLowerCase():""},m=function(e){var t;return e.allProductsPGItemCount||(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},y=function(e){return[e.country||"",h(e.locale)].join("/").toUpperCase()},v=function(e,t){return e&&t?"".concat(e," (").concat(h(t).toUpperCase(),")"):""},g=function(e,t){var n=u(t.split("/"),2),r=n[0],o=n[1];return v(e[r.toUpperCase()],o)},b=function(e){return!e||void 0===e.shop_visible||e.shop_visible},P=function(e,t){var n=t.map(y);return Object.keys(e).map((function(e){return e.toUpperCase()})).filter((function(t,r,o){return n.includes(t)&&!b(e[t])&&o.indexOf(t)===r}))},w=function(e,t,n){return t&&n?e.find((function(e){return e.country===t&&h(e.locale)===n})):void 0},S=function(e){if(!e)return"";for(var t=0,n=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];t<n.length;t++){var r=n[t];if(e[r])return e[r].url||""}return""},x=function(e){return e.filter((function(e){return Number.isInteger(e.featured_position)})).map((function(e){return e.id}))},O=function(e,t){var n=new Set(t),r=new Set(e);return{featureProductGroupsSet:new Set(s(r.values()).filter((function(e){return!n.has(e)}))),unfeatureProductGroupsSet:new Set(s(n.values()).filter((function(e){return!r.has(e)})))}},A=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i,c,u,d,p,f,_,h,m,y,v,g,b,P,w,S,x=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x.length>2&&void 0!==x[2]?x[2]:"FEATURED",c=n.featureProductGroupsSet,u=n.unfeatureProductGroupsSet,d=t.userId,p=t.feedProfileId,f=t.countrySetting,_=t.languageSetting,h=t.settings,m="".concat(f,"/").concat(_.toUpperCase()),y=i===o.$B.CATEGORY?[]:s(c.values()).map((function(e){return r.Z.create("FeaturedProductGroupsResource",{feedProfileId:p,productGroupId:e}).callCreate()})),v=i===o.$B.CATEGORY?[]:s(u.values()).map((function(e){return r.Z.create("FeaturedProductGroupsResource",{feedProfileId:p,productGroupId:e}).callDelete()})),g=o.yK[i],b=h[m]&&h[m][g]||[],P=s(new Set([].concat(s(b),s(c.values())))).filter((function(e){return!u.has(e)})),w=a(a({},h),{},l({},m,a(a({},h[m]||{}),{},l({},g,P)))),S=r.Z.create("ApiResource",{url:"/v3/business/users/".concat(d,"/storefront/settings/"),data:{settings:JSON.stringify(w)}}).callUpdate(),e.next=13,Promise.all([S].concat(s(y),s(v)));case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),j=function(e,t){return e.length===t.length&&t.every((function(t){return e.includes(t)}))},E=function(e,t){return v(t[e.country||""],e.locale)},T=function(e,t){return e.reduce((function(e,n){var r=e.findIndex((function(e){return E(e,t)===E(n,t)}));return-1===r?e.push(n):m(e[r])<m(n)&&(e[r]=n),e}),[])}},436395:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(784590),o=n(609500);function i(){var e=(0,o.useParams)().username;return(0,r.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},956800:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:function(){return a},N8:function(){return o},Qv:function(){return i},_f:function(){return r},vX:function(){return l}});var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},447948:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e,t,n,r,o){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:n,url:r,localPinId:o}}}function a(e){return{type:"PIN_UNSAVE",payload:{id:e}}}n.d(t,{Gb:function(){return a},I1:function(){return u},Ib:function(){return p},NA:function(){return s},Ur:function(){return i},Vw:function(){return c},b9:function(){return _},i0:function(){return f},mO:function(){return o},q1:function(){return d},t_:function(){return l},yR:function(){return r},yj:function(){return h}});var l=function(e,t,n){return{type:"PIN_UNDO_SAVE",payload:{pinId:e,boardId:t,boardSectionId:n}}};function c(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,undoAction:e.undoAction,undoActionOptions:e.undoActionOptions,undoText:e.undoText}}}function u(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function d(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function f(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function _(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}},852025:function(e,t,n){"use strict";n.d(t,{k:function(){return i},s:function(){return a}});var r=n(76911),o=(0,r.createContext)(Object.freeze({})),i=o.Provider;function a(){return(0,r.useContext)(o)}},596493:function(e,t,n){"use strict";n.d(t,{Ac:function(){return i},c7:function(){return o},cg:function(){return r}});var r=-1,o=5,i=6},475970:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(76911),o=n(898781),i=n(908390),a=n(515198);function l(e){var t=e.size,n=e.iconColor,r=e.backgroundColor,l=e.disabled,c=e.onClick,s=(0,o.ZP)(),u=48===t?"lg":"xl";return(0,a.jsx)(i.hU,{accessibilityLabel:s._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:r,icon:"link",iconColor:n||r&&!["white","lightGray","transparent"].includes(r)?n:"gray",size:u,disabled:l,onClick:c})}var c=n(172071),s=n(375436),u=n(67428),d=n(499128),p=n(53987),f=n(867060),_=n(407043),h=n(773285),m=n(609500),y=n(343341),v=n(743473),g=n(827896);function b(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.backgroundColor,n=e.iconColor,w=e.iconSize,S=e.iconWrapperWidth,x=e.isCloseupActionBar,O=e.marginEnd,A=e.onClick,j=e.sharedObject,E=e.spaceBelowIcon,T=e.viewType,I=e.viewParameter,C=e.relayEnvironment,D=(0,o.ZP)(),R=(0,_.v)().logContextEvent,k=(0,h.F)().checkExperiment,z=k("web_share_menu_logging").anyEnabled,L=(0,y.F9)(),M=P((0,r.useState)(""),2),N=M[0],B=M[1],F=P((0,r.useState)(!1),2),Z=F[0],U=F[1],G=P((0,r.useState)(!1),2),V=G[0],H=G[1],W=(0,m.useLocation)(),K=(0,g.Z)(),Y=D._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),X=function(e){var t;if("pin"===j.type&&j.id){t=K(j.id,{shouldTrackForPrevLocation:!0})}return{invite_category:3,invite_channel:e,object_type:j.type,object_id:j.id,name:j.name,description:j.description||"",path:j.url,picture:j.imageUrl,client_tracking_params:t}},q=function(e){x?navigator.clipboard.writeText(e).then((function(){var e;e=D._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),L.showToast((function(t){var n=t.hideToast;return(0,a.jsx)(i.xu,{top:!0,children:(0,a.jsx)(d.ZP,{duration:3e3,onHide:n,text:e})})}))})):navigator.clipboard.writeText(e).then((function(){H(!0),setTimeout((function(){H(!1)}),3e3)}))},J=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=3;break}return q(N),e.abrupt("return");case 3:U(!0),t=X(12),v.Z.createShareInviteData(t,C).then((function(e){var n=e.invite_url;U(!1),n&&(B(n),v.Z.logShareInvite(t,e,C),q(n))}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),$=function(){if(J(),z){var e=f.yF[j.type];e||c.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:j.type}),x&&R({event_type:101,component:14147,element:13103,object_id_str:j.id,view_type:T,view_parameter:I,aux_data:e?{invite_object:e}:void 0}),A&&A()}};return(0,p.am)(W)&&x&&k("web_copy_link_btn_replace").anyEnabled?(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.zx,{accessibilityLabel:D._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:D._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:function(){return $()},size:"lg",color:"gray",fullWidth:!0})}):(0,a.jsxs)(u.Z,{isCloseupActionBar:!0,width:S||w,marginEnd:O||!1,children:[(0,a.jsx)(i.xu,{alignItems:x?"center":"stretch",display:x?"flex":"block",marginBottom:E,width:x?"100%":"auto",children:(0,a.jsx)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:w,children:(0,a.jsx)(l,{backgroundColor:t,iconColor:n,size:w,onClick:$,disabled:Z})})}),!x&&(0,a.jsx)(s.Z,{text:V?Y:D._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},750869:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},827021:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ve}});var r=n(76911),o=n(172071),i=n(116303),a=n(898781),l=n(977558),c=n(349700),s=n(407043),u=n(773285),d=n(385740),p=48,f="error",_=n(908390),h=n(515198);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n=e.idx,o=e.item,y=e.onSendMessage,v=e.onViewConversation,g=e.sentHistory,b=e.objectAttachment,P=(0,a.ZP)(),w=(0,s.v)().logContextEvent,S=m((0,r.useState)(!1),2),x=S[0],O=S[1],A=(0,d.SU)(),j=A.viewType,E=A.viewParameter,T=o.id||"string"==typeof o.email&&o.email||"",I=g[T]===f,C=Object.prototype.hasOwnProperty.call(g,T)&&!I,D=null!==(t=g[T])&&void 0!==t?t:"";(0,r.useEffect)((function(){I&&O(!1)}),[I]);var R="",k=o.full_name,z=o.email;"string"!=typeof k||k.match(/^\s*$/)?"string"!=typeof z||z.match(/^\s*$/)||(R=z):R=k;var L,M,N="";C?N=P._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):x&&(N=P._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact')),"pinner"===b.type||"user"===b.type?(L=13530,M=13532):"board"===b.type?(L=13527,M=13529):(L=13524,M=13526);var B=(0,(0,u.F)().checkExperiment)("web_share_show_more_contacts").anyEnabled;return(0,h.jsx)(_.xu,{"data-test-id":"sharesheet-contact-item",width:74,marginBottom:5,children:(0,h.jsx)(_.iP,{onTap:C?function(){w({view_type:j,view_parameter:E,event_type:10399,component:14309,element:M}),v(D)}:function(){w({event_type:101,component:13029,element:1039,aux_data:{result_index:n+1,rs:o.debug_reason.reason}}),w({view_type:j,view_parameter:E,event_type:10399,component:14309,element:L,aux_data:{result_index:n+1,rs:o.debug_reason.reason}}),O(!0),y(o)},children:(0,h.jsxs)(_.kC,{direction:"column",alignItems:"center",children:[(0,h.jsxs)(_.xu,{alignItems:"center","data-test-id":x?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:p,justifyContent:"center",marginBottom:2,width:p,children:[x&&(0,h.jsx)(_.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:p,justifyContent:"center",position:"absolute",rounding:"circle",width:p,zIndex:new _.Ry(l.fe),children:(0,h.jsx)(_.JO,{accessibilityLabel:(0,c.Wc)(P._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:R}),icon:"check",color:"light",size:24})}),(0,h.jsx)(i.Z,{size:"fit",src:o.image_large_url,name:R})]}),(0,h.jsxs)(_.xu,{"data-test-id":"sharesheet-contact-item-label",width:B?"100%":p,paddingX:B?1:void 0,children:[(0,h.jsx)(_.xv,{lineClamp:1,size:"100",align:"center",children:R}),(0,h.jsx)(_.xv,{color:"subtle",size:"100",align:"center",children:N})]})]})})})}var g=n(784590),b=n(313951),P=n(17676);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t,n=(0,s.v)().logContextEvent,o=(0,a.ZP)(),i=e.onHide,l=e.onSendMessage,c=e.onShowImportContacts,f=e.objectAttachment,m=e.sentHistory,y=(0,g.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}).isLoaded,x=(0,(0,u.F)().checkExperiment)("web_share_show_more_contacts").anyEnabled?9:4,O=(null===(t=(0,P.E)().shareSuggestions[""])||void 0===t?void 0:t.slice(0,x))||[],A=O.length>0,j=(0,d.SU)(),E=j.viewType,T=j.viewParameter;(0,r.useEffect)((function(){y&&n({event_type:A?7511:7512,component:56,view_type:70,view_parameter:256})}),[A,n,y]);var I=(0,b.Z5)(),C=I.dropdownOpen,D=I.conversationOpen,R=I.newMessageOpen,k=function(e){D(e),C(),i()},z=O.map((function(e,t){var n="".concat(e.id||e.email||t),r={item:e,idx:t,onSendMessage:l,onViewConversation:k,sentHistory:m,objectAttachment:f};return(0,h.jsx)(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),n)})),L=!A&&!y;return(0,h.jsxs)(_.kC,{direction:"column",children:[(0,h.jsx)(_.kC,{alignItems:"center",height:49,justifyContent:"center",children:(0,h.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:o._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,h.jsx)(_.kC,{flex:"none",minHeight:81,justifyContent:L?"center":void 0,children:L?(0,h.jsx)(_.xu,{paddingY:2,children:(0,h.jsx)(_.$j,{accessibilityLabel:o._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,h.jsxs)(_.kC,{wrap:!0,children:[(0,h.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:74,children:[(0,h.jsx)(_.xu,{height:p,marginBottom:2,width:p,children:(0,h.jsx)(_.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:function(){var e;e="pinner"===f.type||"user"===f.type?13531:"board"===f.type?13528:13525,n({view_type:E,view_parameter:T,event_type:10399,component:14309,element:e}),R(f),C(),i()},size:"lg"})}),(0,h.jsx)(_.xv,{lineClamp:1,size:"100",children:o._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),A?z:(0,h.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:74,children:[(0,h.jsx)(_.xu,{height:p,marginBottom:2,width:p,children:(0,h.jsx)(_.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:c,size:"lg"})}),(0,h.jsx)(_.xv,{lineClamp:1,size:"100",children:o._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function O(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var A=n(936776),j=n(750869);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=k(i);function i(){var e;C(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(L(e=o.call.apply(o,[this].concat(n))),"state",{textValue:e.props.initialTextValue||"",emailValue:""}),N(L(e),"handleSendEmail",(function(t,n){if(t){var r={type:"email_share_suggestion",id:"",email:t,debug_reason:{reason:"",readable_reason:""}};e.props.onSendMessage(r,n)}})),N(L(e),"handleTextValueChange",(function(t){var n=t.value;e.setState({textValue:n})})),N(L(e),"handleEmailValueChange",(function(t){var n=t.value;e.setState({emailValue:n})})),e}return t=i,(n=[{key:"renderCloseButton",value:function(){var e=this.props,t=e.i18n,n=e.onCancelDraft;return(0,h.jsx)(_.hU,{accessibilityLabel:t._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:n,size:"sm",iconColor:"gray"})}},{key:"render",value:function(){var e=this,t=this.props.width;return(0,h.jsxs)(_.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:t,color:"default",children:[(0,h.jsxs)(_.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,h.jsx)(_.xu,{flex:"grow",marginEnd:8,children:(0,h.jsx)(_.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,h.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,h.jsx)(_.xu,{paddingY:1,marginBottom:4,children:(0,h.jsx)(_.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,h.jsx)(_.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,h.jsx)(_.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,h.jsx)(_.zx,{size:"lg",color:"red",onClick:function(){return e.handleSendEmail(e.state.emailValue||"",e.state.textValue||"")},type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,A.Z)(this.state.emailValue)})})]})]})}}])&&D(t.prototype,n),r&&D(t,r),i}(r.Component);function F(e){var t=(0,a.ZP)();return(0,h.jsx)(B,I(I({},e),{},{i18n:t}))}var Z=n(567831),U=n(475970),G=n(31149),V=n(107193),H=n(659522),W=n(331744),K=n(757146);function Y(e){var t=e.size,n=void 0===t?48:t;return(0,h.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,h.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,h.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,h.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,h.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,h.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,h.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var X=n(375436),q=n(67428),J=n(19121);function $(e){var t=e.iconSize,n=e.iconWrapperWidth,r=e.marginBottom,o=e.marginEnd,i=e.onCreatePincodeClick,l=e.sharedObject,c=(0,a.ZP)(),s=(0,J.Z)();return i&&[j.d.BOARD,j.d.PINNER,j.d.USER].includes(l.type)&&s.isAuth&&(l.id===s.id||s.isEmployee)?(0,h.jsxs)(q.Z,{width:n,marginEnd:o,children:[(0,h.jsx)(_.xu,{marginBottom:r,children:(0,h.jsx)(_.iP,{fullWidth:!1,onTap:i,children:(0,h.jsx)(Y,{size:t})})}),(0,h.jsx)(X.Z,{text:c._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var Q=n(464240),ee=n(22641),te=n(704217),ne=n(780280),re=n(743473),oe=n(827896),ie=n(867060),ae=n(343341);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve={backgroundColor:"#ffffff",border:"none",padding:0},ge=new Set(["JP","TW","TH"]),be=function(e,t){(0,V.default)((function(t){t&&(t.getUserID()?e():t.login((function(){e()})))}),t)},Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(l,e);var t,n,i,a=fe(l);function l(){var e;ue(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ye(he(e=a.call.apply(a,[this].concat(n))),"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),ye(he(e),"logShareInviteLink",(function(){var t=e.state,n=t.copyLinkLogged,r=t.inviteData,o=e.getShareOptions(12);n||(re.Z.logShareInvite(o,r,e.props.relayEnvironment),e.setState({copyLinkLogged:!0}))})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.getWhatsAppURL()}},{key:"getShareOptions",value:function(e){var t,n=this.props,r=n.sharedObject,o=n.getClientTrackingParams;return"pin"===r.type&&r.id&&(t=o(r.id,{shouldTrackForPrevLocation:!0})),{invite_category:3,invite_channel:e,object_type:r.type,object_id:r.id,name:r.name,description:r.description||"",path:r.url,picture:r.imageUrl,client_tracking_params:t}}},{key:"getWhatsAppURL",value:function(){var e=this,t=this.getShareOptions(10);re.Z.createShareInviteData(t,this.props.relayEnvironment).then((function(t){var n="".concat(t.title,"\n").concat(t.invite_url);if(n){var r=encodeURIComponent(n);e.setState({whatsappInviteData:t,whatsappURL:"https://web.whatsapp.com/send?text="+r})}else e.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,Z.Z)(e.props.sharedObject.url)})}))}},{key:"checkWritePermissions",value:function(){return!!this.props.viewer.isWriteBanned}},{key:"handleSocialShareClick",value:function(e,t){if(!this.checkWritePermissions()){var n=this.props,r=n.onCreatePincodeClick,i=n.onExternalSend,a=n.logContextEvent,l=n.viewType,c=n.viewParameter,s=n.inShareMenuLoggingExp,u=n.sharedObject,d=s?ie.cc[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),s||(d=257)):"twitter"===e||9===t?(this.openTwitterDialog(),s||(d=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),s||(d=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),s||(d=951)):"pincode"===e||16===t?r&&r():"copylink"===e||12===t?(this.openShareUrlLink(),s||(d=100)):"email"===e||1===t?(this.openEmailDialog(),s||(d=258)):"line"!==e&&8!==t||(this.openLineDialog(),s||(d=952)),i&&i();var p=ie.yF[u.type];p||o.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:u.type}),a({event_type:101,component:s?14121:153,element:d,object_id_str:s?u.id:void 0,view_type:s?l:void 0,view_parameter:s?c:void 0,aux_data:s?{invite_object:p}:void 0});var f={board:ie.LO,pinner:ie.Pu,user:ie.Pu,pin:ie.dB,did_it:ie.dB,today_article:ie.dB};a({event_type:10399,component:14309,object_id_str:u.id||void 0,view_type:l,view_parameter:c,aux_data:{invite_object:p},element:f[u.type][t]})}}},{key:"openEmailDialog",value:function(){this.props.onEmailIconClick()}},{key:"openFacebookDialog",value:function(){var e=this,t=this.props,n=t.unauthId,r=t.viewer;be((function(){re.Z.shareFacebookInvite({options:e.getShareOptions(5),unauthId:n,viewer:r},e.props.relayEnvironment)}),r)}},{key:"openFbMessengerDialog",value:function(){var e=this,t=this.props,n=t.unauthId,r=t.viewer;be((function(){re.Z.shareFbMessengerInvite({options:e.getShareOptions(6),unauthId:n,viewer:r},e.props.relayEnvironment)}),r)}},{key:"openWhatsAppDialog",value:function(){var e=this.getShareOptions(10);this.state.whatsAppLogged||(re.Z.logShareInvite(e,this.state.whatsappInviteData,this.props.relayEnvironment),this.setState({whatsAppLogged:!0}))}},{key:"openShareUrlLink",value:function(){this.logShareInviteLink()}},{key:"openTwitterDialog",value:function(){re.Z.shareTwitterInvite(this.getShareOptions(9),this.props.relayEnvironment)}},{key:"openLineDialog",value:function(){re.Z.shareLineInvite(this.getShareOptions(8),this.props.relayEnvironment)}},{key:"renderEmail",value:function(){var e=this;return(0,h.jsxs)(q.Z,{width:74,marginEnd:!1,children:[(0,h.jsx)(_.xu,{display:"inlineBlock",marginBottom:2,children:(0,h.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:function(){return e.handleSocialShareClick("email",1)},style:ve,children:(0,h.jsx)(G.Z,{size:48})})}),(0,h.jsx)(X.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}},{key:"renderShareOptions",value:function(){var e=this,t=this.props,n=t.i18n,o=t.onCreatePincodeClick,i=t.sharedObject,a=t.showLineShare,l=t.showMessengerShare,c=t.isPublisherSharingObject,s=t.viewType,u=t.viewParameter,d=p,f=74;return(0,h.jsx)(r.Fragment,{children:(0,h.jsxs)(_.kC,{justifyContent:"start",wrap:!0,children:[a&&(0,h.jsxs)(q.Z,{width:f,marginEnd:!1,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":n._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:function(){return e.handleSocialShareClick("line",8)},style:ve,children:(0,h.jsx)(W.Z,{size:d})})}),(0,h.jsx)(X.Z,{text:n._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,h.jsxs)(q.Z,{width:f,marginEnd:!1,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":n._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:function(){return e.handleSocialShareClick("whatsapp",10)},style:ve,tabIndex:"-1",children:(0,h.jsx)(_.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,h.jsx)(ee.Z,{size:d})})})}),(0,h.jsx)(X.Z,{text:n._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),l&&(0,h.jsxs)(q.Z,{width:f,marginEnd:!1,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":n._('Share on Messenger', 'sharesheet.shareSocialBar.ShareMessenger', 'Button that will share via Messenger'),onClick:function(){return e.handleSocialShareClick("messenger",6)},style:ve,children:(0,h.jsx)(K.Z,{size:d})})}),(0,h.jsx)(X.Z,{text:n._('Messenger', 'sharesheet.shareSocialBar.ShareMessengerLabel', 'Messenger button label')})]}),(0,h.jsxs)(q.Z,{width:f,marginEnd:!1,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":n._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:function(){return e.handleSocialShareClick("facebook",5)},style:ve,children:(0,h.jsx)(H.Z,{size:d})})}),(0,h.jsx)(X.Z,{text:n._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,h.jsxs)(q.Z,{width:f,marginEnd:!1,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":n._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:function(){return e.handleSocialShareClick("twitter",9)},style:ve,"data-test-id":"twitter-share-icon",children:(0,h.jsx)(Q.Z,{size:d})})}),(0,h.jsx)(X.Z,{text:n._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)($,{iconSize:d,iconWrapperWidth:f,marginBottom:2,marginEnd:!1,onCreatePincodeClick:o,sharedObject:i}),(0,h.jsx)(U.default,{sharedObject:i,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:d,iconWrapperWidth:f,onClick:function(){return e.handleSocialShareClick("copylink",12)},isCloseupActionBar:!1,spaceBelowIcon:2,viewType:s,viewParameter:u,relayEnvironment:this.props.relayEnvironment},"copylink"),!c&&this.renderEmail()]})]})})}},{key:"render",value:function(){var e=this.props.paddingX;return(0,h.jsxs)(_.xu,{paddingX:e,children:[(0,h.jsx)(_.kC,{alignContent:"center",alignItems:"center",height:49,justifyContent:"center",children:(0,h.jsx)(_.xv,{size:"200",weight:"bold",children:this.props.i18n._('Share', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,h.jsx)(_.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:81,children:this.renderShareOptions()})]})}}])&&de(t.prototype,n),i&&de(t,i),l}(r.Component);function we(e){var t=(0,s.v)().logContextEvent,n=(0,u.F)().checkExperiment,r=(0,a.ZP)(),o=(0,J.Z)(),i=o.isAuth&&ge.has(o.country),l=n("web_messenger_share_channel").anyEnabled,c=(0,ne.B)(),d=n("web_share_menu_logging").anyEnabled,p=n("graphql_migration_sharesheet_sgrowth_web").anyEnabled,f=(0,te.useRelayEnvironment)();return(0,h.jsx)(Pe,se(se({},e),{},{toastManagerContext:(0,ae.F9)(),viewer:(0,J.Z)(),showLineShare:i,showMessengerShare:l,i18n:r,logContextEvent:t,unauthId:c.unauthId,inShareMenuLoggingExp:d,shareSheetExpEnabled:p,relayEnvironment:p?f:void 0,getClientTrackingParams:(0,oe.Z)()}))}var Se=n(214494),xe=n(499128),Oe=n(717615),Ae=n(231947),je=n(697247);function Ee(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e,t){return e.reduce((function(e,n){return De(De({},e),{},Re({},n,t))}),{})};function ze(e){var t=(0,s.v)().logContextEvent,n=(0,a.ZP)(),i=Te((0,r.useState)(!1),2),l=i[0],c=i[1],d=Te((0,r.useState)(null),2),p=d[0],m=d[1],y=Te((0,r.useState)({}),2),v=y[0],g=y[1],P=Te((0,r.useState)(function(e,t){return"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):""}(e.sendType,n)),1)[0],w=(0,ae.F9)().showOneToast,S=(0,je.$)().surface,A=(0,J.Z)(),j=(0,Oe.Z)(),E=(0,b.Z5)().conversationCreate,T=(0,b.NG)(),I=(0,r.useRef)();(0,r.useEffect)((function(){var e;return null===(e=I.current)||void 0===e?void 0:e.focus()}),[]);var C=function(n,r){c(!1),e.onMessageSent(),function(n,r){var i=e.sharedObject.id;o.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:i,aux_data:{conversation_id:n,pin_id:r}})}(n,r)},D=function(e,t){o.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),g(De(De({},v),ke(e,f)));var n=t.message_detail||t.message;n&&w((function(e){var t=e.hideToast;return(0,h.jsx)(xe.ZP,{variant:"error",duration:5e3,onHide:t,text:n})}))},R=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,o){var i,a,l,c,s,u,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.sharedObject,a=e.sendType,l=i.id,(c={emails:r,user_ids:n,text:o,source:O(S)})[a]=l,s=Se.Z.create("ConversationsResource",c),u=n.length>0?n:r,t.prev=6,t.next=9,s.callCreate();case 9:d=t.sent,p=d&&d.resource_response.data,E(p),C(p.id,"pin"===a?l:null),g(De(De({},v),ke(u,p.id))),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),D(u,t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Ee(i,r,o,a,l,"next",e)}function l(e){Ee(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}(),k=function(n,r){"conversation_share_suggestion"===n.type?function(t,n,r){var o,i,a=e.sharedObject,l=e.sendType;switch(l){case"pin":i="pinId";break;case"board":i="boardId";break;case"did_it":i="didItId";break;case"user":case"pinner":i="userId"}var c=i?T(t,(Re(o={text:n},i,a.id),Re(o,"source",O(S)),o),void 0,A):void 0;c&&c.then((function(){C(t,"pin"===l?a.id:null),g(De(De({},v),{},Re({},t,t)))})).catch((function(e){D([t],e)}))}(n.id,r):"user_share_suggestion"===n.type&&n.username?R([n.id],[],r):R([],[n.email],r),t({event_type:101,component:56,element:276})},z=e.onCreatePincodeClick,L=e.onShowImport,M=e.sendType,N=e.sharedObject,B=e.onHide,Z=e.onExternalSend,U=e.viewType,G=e.viewParameter,V="user"===e.sendType&&(0,Ae.q6)(A,e.sharedObject.id,j),H=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,Ae.q6)(A,e.sharedObject.ownerId,j),W=V||H,K=(0,(0,u.F)().checkExperiment)("web_share_show_more_contacts").anyEnabled,Y=(0,h.jsx)(_.xu,{paddingY:1,paddingX:3,children:(0,h.jsx)(_.iz,{})}),X=(0,h.jsxs)(r.Fragment,{children:[K&&Y,(0,h.jsx)(we,{onCreatePincodeClick:z,onEmailIconClick:function(){c(!0),m("email")},onExternalSend:Z,onHide:B,sharedObject:N,isPublisherSharingObject:W,viewType:U,viewParameter:G}),!K&&Y]});return l&&"email"===p?(0,h.jsx)(F,{initialTextValue:P,objectId:N.id,objectType:M,onCancelDraft:function(){c(!1),m(null)},onHide:B,onSendMessage:k,width:394}):(0,h.jsxs)(_.xu,{color:"default",paddingX:3,paddingY:1,width:394,tabIndex:0,ref:I,children:[!K&&X,!W&&(0,h.jsx)(x,{objectAttachment:{type:M,id:N.id},onHide:B,onSendMessage:k,onShowImportContacts:L,sentHistory:v}),K&&X]})}var Le=n(177471),Me=["facebook","google"];function Ne(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function Be(e,t,n){return"facebook"===e?n._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function Fe(e){var t=e.onBack,n=(0,a.ZP)(),r=(0,J.Z)(),o=r.isAuth?r.email:null,i=Me.filter((function(e){return!r.isAuth||!1===r.socialNetwork[e].connected})),l=(0,Le.k)();return(0,h.jsx)(_.xu,{paddingX:1,paddingY:2,children:(0,h.jsxs)(_.kC,{gap:{row:0,column:2},direction:"column",children:[(0,h.jsxs)(_.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,h.jsx)(_.hU,{accessibilityLabel:n._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:t,size:"md"}),(0,h.jsx)(_.xv,{size:"300",weight:"bold",children:n._('Upload contacts from...', ' - ', ' -- ')})]}),(0,h.jsx)(_.kC,{direction:"column",gap:{row:0,column:4},children:i.map((function(e){return(0,h.jsx)(_.xu,{paddingX:2,children:(0,h.jsxs)(_.iP,{onTap:function(){return function(e){l.handleConnect(e,!0,Object.freeze({}),n)}(e)},children:[(0,h.jsx)(_.xv,{size:"200",children:Ne(e,n)}),(0,h.jsx)(_.xv,{size:"200",children:Be(e,o,n)})]})},e)}))})]})})}var Ze=n(749049);function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e){var t=e.element,n=e.onCreatePincodeClick,i=e.onExternalSend,a=e.onHide,c=e.sendType,p=e.sharedObject,f=e.viewType,m=e.viewParameter,y=e.component,v=(0,s.v)().logContextEvent,g=Ue((0,r.useState)(!1),2),b=g[0],P=g[1],w=(0,(0,u.F)().checkExperiment)("web_share_menu_logging").anyEnabled,S=(0,r.useRef)(!1),x=(0,d.SU)().viewParameter;(0,r.useEffect)((function(){var e=ie.yF[c];return e||o.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:c}),v({event_type:7120,component:w?14121:void 0,object_id_str:p.id,element:w?t:void 0,view_type:f,view_parameter:m,aux_data:w?{invite_object:e}:void 0}),v({event_type:10400,component:y,object_id_str:p.id,element:(0,Ze.O)(e),view_type:f,view_parameter:m||x,aux_data:{invite_object:e}}),function(){w||v({event_type:7121,object_id_str:p.id,view_type:f,view_parameter:m}),S.current||v({event_type:10403,component:14309,object_id_str:p.id,element:13478,view_type:f,view_parameter:x,aux_data:{invite_object:e}});var t=S.current?7493:7492;v({event_type:t,component:w?14121:void 0,object_id_str:w?p.id:void 0,element:w?13097:void 0,view_type:f,view_parameter:m,aux_data:w?{invite_object:e}:void 0})}}),[]);var O=function(){P(!0)},A=function(){P(!1)},j=function(){S.current=!0},E=function(){S.current=!0,i&&i()};return b?(0,h.jsx)(Fe,{onBack:A}):(0,h.jsx)(_.xu,{overflow:"hidden",rounding:4,zIndex:new _.Ry(l.fe-1),color:"default",children:(0,h.jsx)(ze,{onCreatePincodeClick:n,onHide:a,onShowImport:O,onMessageSent:j,onExternalSend:E,sendType:c,sharedObject:p,viewType:f,viewParameter:m})})}},375436:function(e,t,n){"use strict";var r=n(207112),o=n(908390),i=n(515198);t.Z=function(e){var t=e.text;return(0,i.jsx)(o.xv,{align:"center",size:"100",children:(0,i.jsx)(r.Z,{maxWidthPx:128,maxHeightPx:50,children:t})})}},67428:function(e,t,n){"use strict";var r=n(908390),o=n(515198);t.Z=function(e){var t=e.width,n=e.marginEnd,i=e.children,a=e.isCloseupActionBar;return(0,o.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:n?2:0,width:t,marginBottom:a?0:5,children:i})}},749049:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var r=function(e){switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},152028:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(81226),o=n(898781),i=n(908390),a=n(515198);function l(e){var t=e.duration,n=(0,o.ZP)();return(0,a.jsxs)(i.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(i.JO,{accessibilityLabel:n._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,r.Z)(t)})})]})}},926749:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Z}});var r=n(76911),o=n(664229),i=n.n(o),a=n(722767),l=["eventData","component","objectId","view","viewParameter"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=n(121630),f=n(944546),_=n(407043),h=n(158103),m=n(908390),y=n(515198);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=["height","width","windowHeight","windowWidth","viewability"];function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=[0,.25,.5,.75,.95,.97],R=[0,.5,.8,.99,1],k="-64px 0px 0px 0px",z={rootMargin:k,threshold:R},L={rootMargin:k,threshold:f.iM},M=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function N(){return(new Date).getTime()}function B(e){return!!e.volume&&e.volume>0}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,n,o,c=O(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),T(j(t=c.call(this,e)),"videoWrapperRef",(0,r.createRef)()),T(j(t),"handleWindowResize",(function(){if(!t.fullscreen){var e=t.getDimensions(),n=t.currentInterval,r=n.height,o=n.width;e.height!==r||e.width!==o?t.startNewInterval(e):(t.currentInterval.windowHeight=e.windowHeight,t.currentInterval.windowWidth=e.windowWidth)}})),T(j(t),"handlePlayheadDown",(function(e){var n=e.event,r=t.props.onPlayheadDown;t.setState({seeking:!0}),r&&r({event:n})})),T(j(t),"handlePlayheadUp",(function(e){var n=e.event,r=t.props.onPlayheadUp;t.setState({seeking:!1}),r&&r({event:n})})),T(j(t),"handleLoop",(function(){t.videoTime=0})),T(j(t),"handleTimeChange",(function(e){var n=t.state,r=n.seeking,o=n.ready;if(t.currentInterval.videoDuration){var i=1e3*e.time,a=function(e,t,n,r){if(e>t)return null;if(n<=0)return null;var o,i=I(r);try{for(i.s();!(o=i.n()).done;){var a=o.value,l=a*n;if(e<=l&&t>l)return a}}catch(c){i.e(c)}finally{i.f()}return null}(t.videoTime,i,t.currentInterval.videoDuration,D);if("number"==typeof a&&t.props.playing&&!r&&o){var l=N();t.logVideoEvent(6906,w(w({},t.currentInterval),{},{startTime:l,endTime:l,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a}))}t.videoTime=i,t.props.onTimeChange&&t.props.onTimeChange(e)}})),T(j(t),"handleDurationChange",(function(e){t.currentInterval.videoDuration=1e3*e.duration,t.props.onDurationChange&&t.props.onDurationChange(e)})),T(j(t),"handleReady",(function(e){t.state.ready||t.setState({ready:!0}),t.props.onReady&&t.props.onReady(e)})),T(j(t),"handleEnded",(function(e){t.logFourthQuartileEvent(),t.props.loop&&(t.startNewInterval(),t.currentInterval.videoStartTime=0),t.props.onEnded&&t.props.onEnded(e)})),T(j(t),"handleVisibilityChange",(function(e,n){if(0!==e.length){var r=e.slice(-1)[0],o=function(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],o=t[n+1];if(null==o)return r;if(r<=e&&e<o)return r}return null}(Number.parseFloat(r.intersectionRatio.toFixed(2)),R);"number"==typeof o&&(t.visible=o>=.5),null==o||o===t.currentInterval.viewability||t.fullscreen||(0===o?t.startNewInterval({viewability:o,playbackState:M.PAUSED}):t.startNewInterval({viewability:o}))}})),T(j(t),"handleFullscreenChange",(function(e){var n=e.event,r=e.fullscreen;if(r){var o=window.screen,i=o.height,a=o.width;t.startNewInterval({height:i,width:a,windowHeight:i,windowWidth:a})}else r||t.startNewInterval(t.getDimensions());t.fullscreen=r,t.props.onFullscreenChange&&t.props.onFullscreenChange({event:n,fullscreen:r})})),T(j(t),"handleClose",(function(){t.startNewInterval()})),T(j(t),"handleContextMenu",(function(e){e.preventDefault()})),t.state={ready:!1,seeking:!1};var n=N();return t.handleWindowResize=i()(t.handleWindowResize,1e3),t.currentInterval={videoDuration:0,startTime:n,endTime:n,videoStartTime:0,videoEndTime:0,isAudible:B(e),playbackState:t.getPlaybackState(e,t.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},t.videoTime=0,t.fullscreen=!1,t.visible=null,t}return t=u,(n=[{key:"componentDidMount",value:function(){this.currentInterval=w(w({},this.currentInterval),this.getDimensions()),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}},{key:"componentDidUpdate",value:function(e,t){var n={};B(e)&&!B(this.props)?n.isAudible=!1:!B(e)&&B(this.props)&&(n.isAudible=!0);var r=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==r&&(n.playbackState=r),Object.keys(n).length>0&&this.startNewInterval(n)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}},{key:"getPlaybackState",value:function(e,t){return t.ready?e.playing&&!t.seeking?M.PLAYING:M.PAUSED:M.LOADING}},{key:"getDimensions",value:function(){var e,t;if(this.videoWrapperRef.current){var n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logVideoEvent",value:function(e,t){var n=this.props,r=n.closeupStoryPinViewability,o=n.contextLogData,i=n.logContextEvent,a=t.height,c=t.width,u=t.windowHeight,p=t.windowWidth,f=t.viewability,_=b(t,g);if(null!=a&&null!=c&&null!=u&&null!=p&&null!=f){var h=r||f,m=w(w({},_),{},{height:a,width:c,windowHeight:u,windowWidth:p,viewability:h});i(w({event_type:e},function(e){var t=e.eventData.videoEvent,n=t.videoDuration,r=t.startTime,o=t.endTime,i=t.videoStartTime,a=t.videoEndTime,c=t.isAudible,u=t.height,p=t.width,f=t.playbackState,_=t.quartile,h=t.quartilePercentValue,m=t.windowHeight,y=t.windowWidth,v=t.viewability;return{component:e.component,object_id_str:e.objectId,view_type:e.view,view_parameter:e.viewParameter,aux_data:s({},d(e,l)),event_data:{videoEventData:{videoDuration:n,time:r,endTime:o,videoTime:i,endVideoTime:a,isAudible:c,height:u,width:p,playbackState:f,quartile:_,quartilePercentValue:h,windowHeight:m,windowWidth:y,viewability:v}}}}(w(w({},o),{},{view:this.fullscreen?108:o.view,eventData:{videoEvent:m}}))))}}},{key:"logFourthQuartileEvent",value:function(){var e=N();this.logVideoEvent(6906,w(w({},this.currentInterval),{},{startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1}))}},{key:"startNewInterval",value:function(e){var t=N();this.logVideoEvent(6904,w(w({},this.currentInterval),{},{endTime:t,videoEndTime:this.videoTime})),this.currentInterval=w(w(w({},this.currentInterval),e),{},{startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,l=e.accessibilityProgressBarLabel,c=e.accessibilityUnmuteLabel,s=e.aspectRatio,u=e.backgroundColor,d=e.captions,f=e.contextLogData,_=e.controls,v=e.cropHeight,g=e.hlsConfig,b=e.inAdsDesktopVideoExperiment,P=e.isAutoPlay,w=e.loop,S=e.objectFit,x=e.onLoadedChange,O=e.onControlsPause,A=e.onControlsPlay,j=e.onSeek,E=e.onVolumeChange,T=e.playbackRate,I=e.playing,C=e.playsInline,D=e.poster,R=e.preload,k=e.rootMargin,M=e.src,N=e.surface,B=e.videoStartTime,F=e.volume,Z=this.state.seeking,U=b?L:z;return void 0!==k&&(U.rootMargin=N?(0,p.e)(N):k),(0,y.jsx)(a.Z,{options:U,onVisibilityChange:this.handleVisibilityChange,children:(0,y.jsx)(m.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:v?{display:"flex",alignItems:"center",height:"".concat(v,"px")}:{}},children:(0,y.jsx)(h.default,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:l,accessibilityUnmuteLabel:c,aspectRatio:v?236/v:s,backgroundColor:u,captions:d,contextLogData:f,controls:_,hlsConfig:g,isAutoPlay:P,loop:w,objectFit:S,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:x,onLoop:this.handleLoop,onControlsPause:O,onControlsPlay:A,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:j,onTimeChange:this.handleTimeChange,onVolumeChange:E,playbackRate:T,playing:!Z&&I,onPlay:function(){},onPlayError:function(){},playsInline:C,poster:D,preload:R,src:M,videoStartTime:B,visible:this.visible,volume:F})})})}}])&&S(t.prototype,n),o&&S(t,o),u}(r.Component);function Z(e){var t=(0,_.v)().logContextEvent;return(0,y.jsx)(F,w(w({},e),{},{logContextEvent:t}))}T(F,"defaultProps",m.nk.defaultProps)},158103:function(e,t,n){"use strict";n.r(t),n.d(t,{VideoWrapper:function(){return G},default:function(){return V},getPlaylistSourceSrc:function(){return U}});var r=n(76911),o=n(19121),i=n(965900),a=n(407043),l=n(773285),c=n(858416),s=n(780280),u=n(908390),d=n(969315),p=n(179888),f=n(515198),_=["view","viewParameter","component","element","objectId"];function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){var n=e;if(t){var r="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v.pinimg.com",r)}return n}if(Array.isArray(e)&&e[0].src){var o=e[0].src;if(t){var i="control"===t?"v3.pinimg.com":"v2.pinimg.com";o=o.replace("v.pinimg.com",i)}return o}return"unsupported_type_".concat(A(e))}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=P(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(S(e=o.call.apply(o,[this].concat(n))),"state",{canPlayVideo:!1,playbackState:p.Cy.DEFAULT}),O(S(e),"errorRetryCount",2),O(S(e),"hasSegmentStarted",!1),O(S(e),"hasPlaybackStarted",!1),O(S(e),"hasVideoSessionStarted",!1),O(S(e),"hasVideoSessionEnded",!1),O(S(e),"lastStallTime",null),O(S(e),"lastPauseTime",null),O(S(e),"logSessionStartOnNextPlay",!1),O(S(e),"playerId",""),O(S(e),"videoSessionId",""),O(S(e),"videoVisibleTime",null),O(S(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:j(e.props.src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),O(S(e),"componentDidMount",(function(){var t=e.props,n=t.contextLogData,r=void 0===n?{}:n,o=t.playing,i=r.is_closeup_video,a=void 0!==i&&i;(0,d.tE)("videoMounted",!1,a),o&&(e.videoVisibleTime=new Date,e.logPlaybackPerformance(p.DR,{initiator:"mount"}))})),O(S(e),"componentDidUpdate",(function(t){var n=e.props,r=n.playing,o=n.visible,i=n.appInFocus;t.appInFocus&&!i&&(e.logPlaybackPerformance(p.$f,{initiator:"update"}),e.logSessionStartOnNextPlay=!0),t.visible&&!1===o&&(e.logSessionStartOnNextPlay=!1,e.updatePauseDuration(),e.logPlaybackPerformance(p.$f,{initiator:"update"})),!1===t.visible&&!0===o&&(e.videoVisibleTime=e.videoVisibleTime||new Date,r?(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(p.DR,{initiator:"update"})):e.logSessionStartOnNextPlay=!0),r&&i&&e.logSessionStartOnNextPlay&&(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(p.DR,{initiator:"update"}),e.logSessionStartOnNextPlay=!1)})),O(S(e),"addSegment",(function(){var t=e.playbackPerformance,n=t.canPlayTime,r=t.loadStartTime,o=t.segments,i=t.srcString,a=-1;n&&r&&0===o.length&&(a=n>r?n-r:0);var l=e.videoPlayerRef&&e.videoPlayerRef.video,c={indicatedKbps:-1,duration:l&&l.duration*p.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:l&&l.clientWidth||-1,viewportHeight:l&&l.clientHeight||-1,watchedDurationMs:0};o.push(c)})),O(S(e),"getCurrentVideoTime",(function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*p.gJ:0})),O(S(e),"getVideoResourceTiming",(function(){var t,n;if(null!==(t=window)&&void 0!==t&&null!==(n=t.performance)&&void 0!==n&&n.getEntriesByName&&e.playbackPerformance.srcString){var r=window.performance.getEntriesByName(e.playbackPerformance.srcString);return r.length>0&&r[0]||null}return null})),O(S(e),"handleCanPlayVideo",(function(t){var n=e.props,r=n.contextLogData,o=void 0===r?{}:r,i=n.onReady,a=n.playing,l=o.is_closeup_video,c=void 0!==l&&l,s=e.state.canPlayVideo;(0,d.tE)("handleCanPlayVideo",!1,c,{firstCanPlayEvent:!s,playing:a}),e.playbackPerformance.hasFatalError=!1,s||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)})),O(S(e),"handleEnded",(function(t){var n=e.props,r=n.loop,o=n.onEnded,i=e.playbackPerformance.segments,a=i&&i[i.length-1];r&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.hasSegmentStarted=!1):r||e.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:r}),e.setState({playbackState:p.Cy.ENDED}),o&&o(t)})),O(S(e),"handleError",(function(){var t,n,r,o,i,a,l,c,s=e.props.contextLogData,u=(void 0===s?{}:s).is_closeup_video,f=void 0!==u&&u,_=e.videoPlayerRef&&e.videoPlayerRef.video;(null==_||null===(t=_.error)||void 0===t?void 0:t.code)!==p.lG.MEDIA_ERR_ABORTED&&(e.playbackPerformance.hasFatalError=!0),e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat((null==_||null===(n=_.error)||void 0===n?void 0:n.message)||""),e.playbackPerformance.errorCode=(null==_||null===(r=_.error)||void 0===r?void 0:r.code)||0,e.playbackPerformance.errorName=(null==_||null===(o=_.error)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.slice(0,100))||"unknown",e.playbackPerformance.errorReason=(null==_||null===(a=_.error)||void 0===a||null===(l=a.message)||void 0===l?void 0:l.slice(0,100))||"unknown";var h={errorName:e.playbackPerformance.errorCode,errorReason:e.playbackPerformance.errorName,errorRetryCount:e.errorRetryCount,playbackState:e.state.playbackState,networkState:(null==_?void 0:_.networkState)||"unknown"};switch((0,d.tE)("fatalError",!1,f,h),null==_||null===(c=_.error)||void 0===c?void 0:c.code){case p.lG.MEDIA_ERR_ABORTED:break;case p.lG.MEDIA_ERR_NETWORK:case p.lG.MEDIA_ERR_DECODE:case p.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:e.errorRetryCount>0&&(null==_||_.load(),e.errorRetryCount-=1)}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:p.Cy.FAILED})})),O(S(e),"handleLoadedMetadata",(function(){e.setState({playbackState:p.Cy.LOADED_METADATA})})),O(S(e),"handleLoadStart",(function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:p.Cy.LOAD_START})})),O(S(e),"handleLoadedData",(function(){e.setState({playbackState:p.Cy.LOADED_DATA})})),O(S(e),"handlePlaying",(function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.hasSegmentStarted||e.addSegment(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:p.Cy.PLAYING}),e.props.clearSeekTime&&e.props.clearSeekTime()})),O(S(e),"handleUserPause",(function(t){var n=e.props.onControlsPause;e.lastPauseTime=new Date,n&&n(t)})),O(S(e),"handleVideoPause",(function(){e.state.playbackState!==p.Cy.STALLING&&e.state.playbackState!==p.Cy.SEEKING&&(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:p.Cy.PAUSED})})),O(S(e),"handleSeeking",(function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&(n.lastStartPlayTime=null),e.state.playbackState!==p.Cy.ENDED&&e.setState({playbackState:p.Cy.SEEKING})})),O(S(e),"handleStalled",(function(){null===e.lastStallTime&&e.state.playbackState!==p.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1,e.setState({playbackState:p.Cy.STALLING}))})),O(S(e),"handleTimeUpdate",(function(t){var n=e.props.onTimeChange;n&&n(t),e.state.playbackState===p.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())})),O(S(e),"resetPlaybackMetrics",(function(){e.hasSegmentStarted=!0,e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=y(y({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]})),O(S(e),"setLastSegmentStartPlayTime",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.lastStartPlayTime&&(n.lastStartPlayTime=e.getCurrentVideoTime())})),O(S(e),"setLastSegmentPlaybackStartDate",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.playbackStartDate&&(n.playbackStartDate=Date.now())})),O(S(e),"setPlaybackStartTime",(function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)})),O(S(e),"setVideoPlayerRef",(function(t){var n=e.props.setVideoRef;if(t&&(n&&n(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var r=e.videoPlayerRef.video;r.addEventListener("loadedmetadata",e.handleLoadedMetadata),r.addEventListener("loadeddata",e.handleLoadedData),r.addEventListener("pause",e.handleVideoPause),r.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}})),O(S(e),"updateStallDuration",(function(){if(null!==e.lastStallTime){var t=e.lastStallTime;e.playbackPerformance.totalStallDurationMs+=new Date-t,e.lastStallTime=null}})),O(S(e),"updatePauseDuration",(function(){if(null!==e.lastPauseTime){var t=e.lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}})),O(S(e),"updateWatchDurationForCurrentSegment",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1],r=n?n.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(n&&null!==r&&"number"==typeof o&&"number"==typeof r){var i=o-r;i>0&&(n.watchedDurationMs+=i,n.lastStartPlayTime=null)}})),O(S(e),"logPlaybackPerformance",(function(t,n){var r=e.props,o=r.contextLogData,i=void 0===o?{}:o,a=r.userId,l=r.isAutoPlay,c=r.logContextEvent,s=i.is_closeup_video,u=void 0!==s&&s,f=e.playbackPerformance,m=f.canPlayTime,v=f.detailedErrors,g=f.errorCode,b=f.errorName,P=f.errorReason,w=f.hasFatalError,S=f.loadStartTime,x=f.totalPauseDurationMs,O=f.totalStallDurationMs,A=f.numberOfStalls,j=f.numberOfSeeks,E=f.playbackStartTimestamp,T=f.segments,I=f.srcString,C=e.videoPlayerRef&&e.videoPlayerRef.video,D=t===p.DR,R=D&&!e.hasVideoSessionStarted,k=!D&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(C&&(R||k)){var z,L=-1;m&&S&&(L=m>S?m-S:0);var M=-1;m&&e.videoVisibleTime&&(M=m>e.videoVisibleTime?m-e.videoVisibleTime:0),D&&(e.videoSessionId=(0,p.Y7)(a),e.playerId=e.playerId||(0,p.EB)());var N=e.getVideoResourceTiming(),B={averageVideoKbps:-1,autoplaying:l,detailedErrors:v,downloadedKiloBytes:"number"==typeof(null==N?void 0:N.decodedBodySize)&&N.decodedBodySize/p.Fm||0,errorCode:g,errorName:b,errorReason:P,fatalError:w,isCellular:!1,nativeVideoDurationMs:C.duration*p.gJ||-1,numberOfStalls:A,numberOfSeeks:j,overallPausedDurationMs:x,overallBufferDurationMs:O,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:E||-1,segments:[],sessionMark:t,screenPixelScale:null!==(z=window)&&void 0!==z&&z.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:C.clientWidth,startupPlayerHeight:C.clientHeight,startupTimeMs:L,startupLatencyMs:M,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:C.videoWidth,startupVariantHeight:C.videoHeight,videoUrl:I};if(!D){e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var F=T.reduce((function(e,t){return e+(t.watchedDurationMs||0)}),0);B.overallWatchedDurationMs=F,B.startupVariantWatchedDurationMs=F,B.segments=e.playbackPerformance.segments,0===F?(B.errorName="invalid_watch_duration",B.rebufferRate=-1):B.rebufferRate=O/F}(0,d.ZP)(B,!1,u,y({playbackState:e.state.playbackState},n)),c({event_type:3606,event_data:{videoPerformanceData:B},view_type:i.view,view_parameter:i.viewParameter,component:i.component,element:i.element,object_id_str:i.objectId,aux_data:y(y({},h(i,_)),{},{is_closeup_video:u,playback_session_id:e.videoSessionId})}),D?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,d.tE)(D?"sessionStart":"sessionEnd",!1,u,y({playbackState:e.state.playbackState},n))}})),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e})}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,l=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.captions,d=e.controls,p=e.loop,_=e.loopOverride,h=e.objectFit,m=e.onDurationChange,y=e.onFullscreenChange,v=e.onLoadedChange,g=e.onControlsPlay,b=e.onPlayheadDown,P=e.onPlayheadUp,w=e.onSeek,S=e.onVolumeChange,x=e.playbackRate,O=e.playing,A=e.playsInline,E=e.poster,T=e.preload,I=e.src,C=e.videoStartTime,D=e.volume,R=this.state.canPlayVideo;return(0,f.jsx)(u.nk,{autoplay:R&&O,accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:l,aspectRatio:c,captions:s,controls:d,loop:void 0===_?p:_,objectFit:h,onDurationChange:m,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:y,onLoadedChange:v,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:P,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:x,onPlay:function(){},onPlayError:function(){},playing:R&&O,playsInline:A,poster:E,preload:T,ref:this.setVideoPlayerRef,src:j(I,this.props.quicExpGroup),startTime:C||void 0,volume:D})}}])&&g(t.prototype,n),r&&g(t,r),i}(r.Component);var T=(0,r.memo)((function(e){var t=(0,a.v)().logContextEvent,n=(0,s.B)(),r=n.country,u=n.isAuthenticated,p=n.isBot,_=n.isSocialBot,h=n.unauthId,m=n.userAgent,v=m.browserName,g=m.browserVersion,b=m.isMobile,P=e.contextLogData,w=void 0===P?{}:P,S=w.is_closeup_video,x=void 0!==S&&S,O=w.view,A=w.viewParameter,j=(0,i.I)().appUI.appInFocus,T=(0,l.F)().checkExperiment,I=(0,c.RC)().clearSeekTime,C=null;u&&(C=T("web_video_quic").group.length?T("web_video_quic").group:null);var D=(0,o.Z)(),R={browserName:v,browserVersion:g,country:r,isAuthenticated:u,isBot:p,is_closeup_video:x,isMobile:b,isSocialBot:_,view:O,viewParameter:A};return(0,d.r$)(R),(0,f.jsx)(E,y(y({},e),{},{userId:D.id||h,appInFocus:j,quicExpGroup:C,logContextEvent:t,clearSeekTime:I}))})),I=n(562559),C=n(366284);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){if(Array.isArray(e)){var t=e.find((function(e){return"video/m3u8"===e.type}));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0},G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=M(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Z(B(t=o.call(this,e)),"componentDidUpdate",(function(e,n){var r;e.videoStartTime&&t.props.videoStartTime&&e.videoStartTime<t.props.videoStartTime&&null!==(r=t.videoPlayerRef)&&void 0!==r&&r.video&&(t.videoPlayerRef.video.currentTime=t.props.videoStartTime)})),Z(B(t),"setVideoPlayerRef",(function(e){e&&(t.videoPlayerRef=e)})),Z(B(t),"handleOnEnded",(function(e){var n=e.event,r=t.props,o=r.loop,i=r.onLoop,a=r.onEnded;a&&(a({event:n}),t.videoPlayerRef&&t.videoPlayerRef.video&&o&&(t.videoPlayerRef.video.play(),i&&i()))}));var n=U(e.src);return t.state={useHlsVideo:!e.preferMp4&&!(0,C.G6)(e.requestContext.userAgent.browserName)&&!!n},t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,l=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.appInFocus,u=e.backgroundColor,d=e.captions,p=e.contextLogData,_=e.controls,h=e.hlsConfig,m=e.isAutoPlay,y=e.loop,v=e.objectFit,g=e.onDurationChange,b=e.onEnded,P=e.onFullscreenChange,w=e.onLoadedChange,S=e.onControlsPause,x=e.onControlsPlay,O=e.onPlayheadDown,A=e.onPlayheadUp,j=e.onReady,E=e.onSeek,C=e.onTimeChange,D=e.onVolumeChange,R=e.playbackRate,z=e.playing,L=e.playsInline,M=e.poster,N=e.preferMp4,B=e.preload,F=e.src,Z=e.videoStartTime,G=e.visible,V=e.volume,H=this.state.useHlsVideo,W=U(F),K=k(k({},h),{},{startPosition:Z||-1}),Y=!b&&y;return H&&W?(0,f.jsx)(I.Z,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:l,aspectRatio:c,appInFocus:s,backgroundColor:u,captions:d,contextLogData:p,controls:_,hlsConfig:K,isAutoPlay:m,loop:y,loopOverride:Y,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:w,onControlsPause:S,onControlsPlay:x,onPlayheadDown:O,onPlayheadUp:A,onReady:j,onSeek:E,onTimeChange:C,onVolumeChange:D,playbackRate:R,onPlay:function(){},onPlayError:function(){},playing:z,playsInline:L,poster:M,preload:B,setVideoRef:this.setVideoPlayerRef,src:W,visible:G,volume:V}):(0,f.jsx)(T,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:l,aspectRatio:c,captions:d,contextLogData:p,controls:_,isAutoPlay:m,loop:y,loopOverride:Y,objectFit:v,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:w,onControlsPause:S,onControlsPlay:x,onPlayheadDown:O,onPlayheadUp:A,onReady:j,onSeek:E,onTimeChange:C,onVolumeChange:D,playbackRate:R,onPlay:function(){},onPlayError:function(){},playing:z,playsInline:L,poster:M,preload:B,setVideoRef:this.setVideoPlayerRef,src:N?F:W||F,videoStartTime:Z,visible:G,volume:V})}}])&&z(t.prototype,n),r&&z(t,r),i}(r.PureComponent);function V(e){var t=(0,i.I)().appUI.appInFocus,n=(0,s.B)();return(0,f.jsx)(G,k(k({},e),{},{appInFocus:t,requestContext:n}))}},944546:function(e,t,n){"use strict";n.d(t,{HJ:function(){return o},VS:function(){return r},iM:function(){return i}});var r=2,o="V_HLSV3_MOBILE",i=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/32938-d498e4369bdced9c.js.map