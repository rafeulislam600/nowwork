"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[41007],{887831:function(e,t,n){var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);c=!0);}catch(l){a=!0,o=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=null,a=!1,l=0,u=function(){c&&clearTimeout(c),a=!0,c=setTimeout((function(){a=!1}),100)};t.Z=function(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1],i=(0,r.useRef)(null);(0,r.useEffect)((function(){return 0===l&&window.addEventListener("scroll",u),l+=1,function(){i.current&&clearTimeout(i.current),(l-=1)||window.removeEventListener("scroll",u)}}),[]);var c=function e(t){i.current&&clearTimeout(i.current),i.current=t&&a?setTimeout((function(){return e(!0)}),100):setTimeout((function(){n(t)}),32)};return{isHovering:t,hoverHandlers:(0,r.useRef)({onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)}}).current}}},33897:function(e,t,n){var r=n(76911),o=(n(176020),n(755742)),i=n(908390),c=n(898781),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,n,r,c=h(l);function l(){var e;f(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(e=c.call.apply(c,[this].concat(n))),"setInputRef",(function(t){t&&(e._input=t)})),g(v(e),"handleKeyDown",(function(t){var n=e.props,r=n.disabled,i=n.indexManager;if(!r)switch(t.which){case o.Z.ENTER:case o.Z.NUMPAD_ENTER:t.preventDefault(),i.select();break;case o.Z.UP:t.preventDefault(),i.prev();break;case o.Z.DOWN:t.preventDefault(),i.next()}})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value;return(0,a.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,a.jsx)(i.Um,{accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){var n=e.value;return t(n)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),ref:this.setInputRef,size:"lg",value:n})})}}])&&d(t.prototype,n),r&&d(t,r),l}(r.Component);t.Z=function(e){var t=(0,c.ZP)();return(0,a.jsx)(m,s(s({},e),{},{i18n:t}))}},176020:function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:function(){return s}});var a={row:0,section:0},l={row:-1,section:-1},u=function(){},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=o({},a),this.sections=t,this.updateCallback=u,this.selectItem=u}var t,n,r;return t=e,(n=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,n=e.section;return 0===t&&0===n}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,n=e.section,r=this.sections[n]||[];return this.sections.length===n+1&&r.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,n=e.section;t===l.row&&n===l.section?this.index=o({},a):this.sections[n].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,n=e.section;if(t===l.row&&n===l.section)this.index=o({},a);else if(t>0)this.index.row-=1;else{var r=this.index.section-1;this.index={section:r,row:this.sections[r].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,n=e.section;this.selectItem((this.sections[n]||[])[t])}},{key:"setInactive",value:function(){this.index=o({},l),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}])&&c(t.prototype,n),r&&c(t,r),e}()},960260:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(76911),o=n(425480),i=(n(176020),n(908390)),c=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,n,r,a=s(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),h(d(t=a.call(this,e)),"setSelectedItemRef",(function(e){t.selectedItemRef=e})),h(d(t),"handleIndexUpdate",(function(e){var n=t.props.indexManager;t.setState({selectedIndex:n.getIndex(),selectionMovedByKeyboard:!!e})})),h(d(t),"handleSelectItem",(function(e){return function(){var n=t.props,r=n.disabled,o=n.onSelectItem;r||o(e)}})),h(d(t),"handleMouseEnter",(function(e){return function(){var n=t.props,r=n.disabled,o=n.indexManager;r||o.updateIndex(e)}})),h(d(t),"handleMouseLeave",(function(){var e=t.props,n=e.disabled,r=e.indexManager;n||r.setInactive()})),h(d(t),"renderItems",(function(e,n){var r=t.props.renderItem,o=t.state.selectedIndex||{},a=o.row,l=o.section,u=e.customProps,s=void 0===u?{}:u,f=e.items,d=e.renderItem,p=s.isDisabled,h=void 0===p?function(e){return!1}:p,y=n===l,v=d||r;return v&&f.map((function(e,r){var o=h(e),l={section:n,row:r},u=y&&r===a;return(0,c.jsx)(i.xu,{"data-test-id":"board-selection",ref:!o&&u?t.setSelectedItemRef:null,children:o?v({item:e,hovered:u,sectionProps:s}):(0,c.jsx)(i.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter(l),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:v({item:e,hovered:u,sectionProps:s})})},r)}))})),h(d(t),"renderSections",(function(){var e=t.props,n=e.renderSectionHeader;return e.sections.map((function(e,r){return(0,c.jsxs)(i.xu,{children:[n&&n(e,r),t.renderItems(e,r)]},r)}))}));var n=t.props.indexManager;return t.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(t.handleIndexUpdate),t}return t=f,(n=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=this.selectedItemRef;if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),o=r.top,i=r.bottom,c=t.getBoundingClientRect(),a=c.top;i>=c.bottom?n.scrollIntoView(!1):o<=a&&n.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.grow,r=void 0!==n&&n,a=t.maxHeight,l=t.fetchMore;return(0,c.jsx)(o.Z,{fetchMore:l,children:function(t){var n=t.setRef,o=t.onScroll;return(0,c.jsx)(i.xu,{flex:r?"grow":void 0,height:r?"100%":void 0,maxHeight:a,onScroll:o,overflow:"auto",ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e.containerRef=t,n(t)})),children:e.renderSections()})}})}}])&&l(t.prototype,n),r&&l(t,r),f}(r.Component)},507016:function(e,t,n){n.d(t,{W:function(){return s}});var r=n(488769),o=n(486746),i=n(27255),c=n(24886),a=n(898781),l=n(908390),u=n(515198);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.length>1?new RegExp(e,"i"):"",r=e&&e.length>1?t.split(n).reduce((function(n,r,o){if(n.length>0&&e&&e.length){var i=t.toLowerCase().indexOf(e.toLowerCase());return n.concat((0,u.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(i,i+e.length)},o),r)}return[r]}),[]):t;return r}t.Z=function(e){var t,n,f,d,p,h,y=(0,a.ZP)(),v=e.disabled,b=e.item,g=e.isSection,m=e.isSelectMode,x=e.isWithinSectionPicker,w=e.saveState,_=e.searchQuery,j=e.selected,O=g?null:b,S=g?b:null,P=S&&S.title||O&&O.name||"",I="",E=!1,k="",C=0;if(O){I=O.image_cover_url,E=O.is_collaborative,k=O.privacy;var R=O.section_count;C=void 0===R?0:R}var A=s(_,P),D=k===i.Z.BoardPrivacy.SECRET,M=!v&&(j||!!w),T=!x&&"number"==typeof C&&C>0,L="number"==typeof C&&C>0?"boardWithSection":"boardWithoutSection",B=m?y._('Select', 'Board select button label', 'Board select button label'):y._('Save', 'Pin save button label', 'Pin save button label');return(0,u.jsxs)(l.xu,{alignItems:"center",color:M?"secondary":"default",display:"flex",height:64,marginStart:2,marginEnd:2,marginTop:1,padding:2,rounding:3,"data-test-id":L,children:[O&&(0,u.jsx)(l.xu,{height:48,width:48,color:"secondary",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:I?(0,u.jsx)(l.Ee,{src:I,alt:P,fit:"cover",naturalWidth:1,naturalHeight:1}):(0,u.jsx)("span",{})}),S&&!(null===(t=S.preview_pins)||void 0===t||!t.length)&&(0,u.jsx)(c.Z,{image_url:null!==(n=S.preview_pins[0].image_square_url)&&void 0!==n?n:"",naturalHeight:null!==(f=null===(d=S.preview_pins[0].image_square_size_pixels)||void 0===d?void 0:d.height)&&void 0!==f?f:1,naturalWidth:null!==(p=null===(h=S.preview_pins[0].image_square_size_pixels)||void 0===h?void 0:h.width)&&void 0!==p?p:1}),(0,u.jsxs)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsx)(l.xv,{color:v?"subtle":"default",size:"300",lineClamp:1,weight:"bold",children:A}),(T||!M)&&(0,u.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[D&&(0,u.jsx)(r.Z,{type:"secret"}),E&&(0,u.jsx)(o.Z,{board:O,showCollaborativeIcon:E,useLegoLayout:!0}),T&&(0,u.jsx)(r.Z,{type:"sections"})]}),!T&&M&&!w&&(0,u.jsx)(l.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,u.jsx)(l.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:B})}),!T&&M&&"loading"===w&&(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,u.jsx)(l.$j,{accessibilityLabel:y._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/41007-c7a093d2229af90f.js.map