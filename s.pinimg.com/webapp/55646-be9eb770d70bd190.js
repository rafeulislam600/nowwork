"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[55646],{507712:function(t,n,e){var r=e(214494),a=e(826067);n.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};var n=(0,a.mB)(window.location.search),e=n.invite_code;e?r.Z.create("InviteAttributionResource",{invite_code:e}).callCreate():t(n)}},42447:function(t,n,e){e.d(n,{Z:function(){return ut}});var r=e(76911),a=e(317672),i=e(790348);function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return c(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function s(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var l=function(t){var n=performance.getEntriesByType("resource").filter((function(t){return t.name.includes("i.pinimg")})).reduce((function(t,n){var e=n.name.replace(".jpg","").split("/");return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(n){u(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}(u({},e[e.length-1],{downloadSize:n.name.split("/")[3].split("x")[0]}),t)}),{}),e=Array.from(document.getElementsByTagName("img")).map((function(t){var e=t.src.replace(".jpg","").split("/"),r=e[e.length-1];if(n[r]){var i,o=(null===(i=(0,a.rZ)(t))||void 0===i?void 0:i.width)||1,c=n[r].downloadSize;return{fileName:r,renderedSize:o,downloadedSize:c,ratio:c/o}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}})),r=Array.from(document.querySelectorAll('div[role="img"]')).map((function(t){var e=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=e[e.length-1];if(n[r]&&t instanceof HTMLDivElement){var i,o=(null===(i=(0,a.rZ)(t))||void 0===i?void 0:i.width)||1,c=n[r].downloadSize;return{fileName:r,renderedSize:o,downloadedSize:c,ratio:c/o}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}));[].concat(o(e),o(r)).forEach((function(n){var e=n.ratio,r=n.fileName,a=n.downloadedSize;n.ratio>1.05&&(0,i.A9)("checkImageRatio.".concat(t),{count:Math.round(10*e)/10,tags:{fileName:"".concat(a,"_").concat(r)}})}))},p=e(860273),f=e(543059),m=e(607150);function d(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?d(Object(e),!0).forEach((function(n){g(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function g(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var v=function(t){var n=t.constraintMap,e=t.initialNavTiming;return y(y(y(y({},t.annotations),(0,m.jh)("constraint_",n)),(0,m.jh)("mark_",(0,f.gQ)())),(0,m.jh)("browser_",y(y({},e?(0,m.D3)(e):{}),(0,m.rX)())))},b=e(358864),T=e(505771),S=e(156381);function A(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return h(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return h(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var O=function(t,n){var e=(0,S.v2)().firstInputDelay;return[].concat(A(t.map((function(t){return(0,T.Z)(t,n)})).filter(Boolean)),A(e?[{name:"fid",id:(0,b.Z)(),parentId:n,startTime:e.startTime,endTime:e.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]))},_=e(435851),w=e(172071);function I(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return E(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return E(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var P=function(t){var n=t.eventPrefix,e=t.endTime,r=t.tags,a=t.resourceArr,i=t.resourceType,o=void 0===i?"allResources":i,c=a.length;if(c>0&&"object"===M(a[0])&&!Array.isArray(a[0])){for(var s=I(a).sort((function(t,n){return t.fetchStart-n.fetchStart})),u=I(a).sort((function(t,n){return t.responseEnd-n.responseEnd})),l=1,p=e/5,f=0;l<=5;){for(var m=0;f<=c-1&&s[f].fetchStart<=p*l;)f+=1,m+=1;w.Z.gauge("".concat(n,".tags.").concat(o,".fetchStartInterval").concat(l,"of5"),m,.2,r),w.Z.gauge("".concat(n,".").concat(o,".fetchStartInterval").concat(l,"of5"),m,.2),l+=1}var d={zeroPercentInFlight:s[0].fetchStart,twentyFivePercentInFlight:s[Math.floor(c/4)].fetchStart,fiftyPercentInFlight:s[2*Math.floor(c/4)].fetchStart,seventyFivePercentInFlight:s[3*Math.floor(c/4)].fetchStart,hundredPercentInFlight:s[c-1].fetchStart,twentyFivePercentComplete:u[Math.floor(c/4)].responseEnd,fiftyPercentComplete:u[2*Math.floor(c/4)].responseEnd,seventyFivePercentComplete:u[3*Math.floor(c/4)].responseEnd,hundredPercentComplete:u[c-1].responseEnd};for(var y in d)d[y]&&(w.Z.timing("".concat(n,".tags.").concat(o,".").concat(y),d[y],.2,r),w.Z.timing("".concat(n,".").concat(o,".").concat(y),d[y],.2))}},C=function(t){var n=t.annotateExperiments,e=t.endTime,r=t.entries,a=t.metricId,i=t.pwtStaticContext,o="".concat((0,_.Z)(i),".").concat(a.surface),c=[o];n&&n.forEach((function(t){var n=i.getExperimentGroup(t)||"null";c.push("".concat(o,".").concat(t,".").concat(n))}));var s,u={lcpTimingBucket:((s=(0,S.Bn)())<=2500?"Good":s>2500&&s<=4e3?"Needs Improvement":"Poor")||"unknown",isAuthenticated:i.isAuthenticated,navigationType:a.navigationType},l=Array.from(r.filter((function(t){return"number"==typeof t.encodedBodySize&&t.encodedBodySize>=1e4&&t.responseEnd<=e}))),p=[],f=[],m=[],d=[],y=[];l.forEach((function(t){"img"===t.initiatorType?p.push(t):"css"===t.initiatorType?f.push(t):"script"===t.initiatorType?m.push(t):"xmlhttprequest"===t.initiatorType?d.push(t):"link"===t.initiatorType&&t.name.includes("i.pinimg.com")&&y.push(t)})),c.forEach((function(t){P({eventPrefix:t,endTime:e,tags:u,resourceArr:l}),P({eventPrefix:t,endTime:e,tags:u,resourceArr:p,resourceType:"image"}),P({eventPrefix:t,endTime:e,tags:u,resourceArr:f,resourceType:"css"}),P({eventPrefix:t,endTime:e,tags:u,resourceArr:m,resourceType:"scripts"}),P({eventPrefix:t,endTime:e,tags:u,resourceArr:d,resourceType:"xhr"}),P({eventPrefix:t,endTime:e,tags:u,resourceArr:y,resourceType:"preloadedImage"})}))},j=e(22773),N=e(453821),x=e(638089),R=function(t){var n,e=t.annotateExperiments,r=t.annotations,a=t.binaryAnnotations,i=t.constraintMap,o=t.endTime,c=t.imageTimings,s=t.metricId,u=t.pwtStaticContext,l=t.startTime,f=t.traceId,m=t.spans,d=(0,j.Cg)();"initial_app_load"===s.navigationType&&(n=(0,p.Z)());var y=c.map((function(t){return t.name})),g=d.map((function(t){return(0,N.p)(t,y)})).filter((function(t){return!function(t,n){var e=t.startTime,r=t.responseEnd;return e>n.endTime||!!r&&r<n.startTime||e<n.startTime-100}(t.timing,{startTime:l,endTime:o})}));return"board"!==s.surface&&"pin_closeup"!==s.surface||C({annotateExperiments:e,endTime:o,entries:d,metricId:s,pwtStaticContext:u}),{type:"COMPLETE",traceId:f,startTime:l,endTime:o,spans:O(g,f).concat(m),annotationMap:v({constraintMap:i,initialNavTiming:n,annotations:r}),binaryAnnotationMap:(0,x.rA)({annotateExperiments:e,binaryAnnotations:a,entries:d,metricId:s,performanceResources:g,pwtEndTime:o,pwtStaticContext:u})}},Z=!1,D=function(t,n){return t&&n?Z?((0,i.H)("duplicated_initial_app_load_surface_pwt"),(0,b.Z)()):(Z=!0,n):(0,b.Z)()},B=e(558775),L=function(t,n){var e=(0,r.useRef)(n);return{getState:function(){return e.current},dispatch:function(n){e.current=t(e.current,n)}}},U=e(985271),z=e(383434),G=e(226464),k=e(567450),H=e(276602),K=e(198462),F=e(515198);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var J=["children"];function Y(t,n){if(null==t)return{};var e,r,a=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(a[e]=t[e])}return a}function $(t){var n=function(t,n){if("object"!==V(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===V(n)?n:String(n)}function q(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return X(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return X(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Q(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function W(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(e),!0).forEach((function(n){tt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Q(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function tt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var nt=["initial_app_load","client_route_push"],et=(0,z.X)("PwtSurface"),rt="NavigationComplete",at="VisuallyComplete",it=function(t,n){t.isSampled&&(0,B.Z)({metricId:t.metricConfig.metricId,pwtStaticContext:t.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:n}})},ot=function(t){if(t.metricConfig.constraints.every((function(n){return t.constraintMap[n]}))){var n=Math.max.apply(Math,q(t.metricConfig.constraints.map((function(n){return t.constraintMap[n]}))));return function(t,n){var e,r=t.metricConfig,a=r.metricId,o=r.pwtStaticContext,c=r.annotateExperiments,s=t.annotations,u=t.binaryAnnotations,p=t.constraintMap,m=t.startTime,d=t.imageTimings,y=t.isSampled,g=t.spans;(0,f.L8)("PWT_Complete_".concat((0,G.KJ)(a)));var v=D("initial_app_load"===a.navigationType,null===(e=o.serverData)||void 0===e?void 0:e.trace_id),b=R({annotateExperiments:c,annotations:s,binaryAnnotations:u,constraintMap:p,endTime:n,imageTimings:d,metricId:a,pwtStaticContext:o,startTime:m,traceId:v,spans:g});y&&(0,B.Z)({metricId:a,pwtStaticContext:o,result:b});try{l(String(b.binaryAnnotationMap["metricId.surface"].value))}catch(T){(0,i.H)("image_ratio_check_error",{error:T})}return W(W({},t),{},{result:b,status:"DONE"})}(t,n)}return t},ct=function(t,n){var e=n.constraint,r=n.time,a=(0,G.KJ)(t.metricConfig.metricId);return U.Z?t.metricConfig.constraints.find((function(t){return t===e}))?t.constraintMap[e]?(et('constraint "'.concat(e,'" is already complete.')),(0,i.H)("duplicated_constraint_complete",{constraint:e,action:a}),t):(et('marking constraint "'.concat(e,'" as complete')),(0,f.ZP)("constraint_".concat(e,"_is_complete")),ot(W(W({},t),{},{constraintMap:W(W({},t.constraintMap),{},tt({},e,r||U.Z.now()))}))):(et('marked constraint "'.concat(e,'" is not a required constraint.')),t):((0,i.H)("missing_window_performance",{action:a}),t)},st=function(t,n){if(et("dispatch action",n),"INIT_ROUTE"===n.type)return function(t,n){var e=n.metricConfig,r=n.startTime,a=n.isSampled;if("TIMING"===t.status&&r!==t.startTime&&it(t,"routeUpdatedOnSameSurface"),!e)return{status:"DISABLED",metricConfig:null};var o,c,s,u,l=(0,G.KJ)(e.metricId);return"TIMING"===t.status&&t.startTime===r&&t.constraintMap[rt]?((0,i.H)("duplicated_init_route_action",{action:l}),t):("Other"===e.pwtStaticContext.browserName&&!1===e.metricId.isAuthenticated&&"initial_app_load"===e.metricId.navigationType?((0,i.A9)("TIMING.".concat(l),{tags:{userAgent:null===(o=window)||void 0===o||null===(c=o.navigator)||void 0===c?void 0:c.userAgent}}),(0,i.A9)("TIMING.sampled.".concat(l),{tags:{userAgent:null===(s=window)||void 0===s||null===(u=s.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,i.A9)("TIMING.".concat(l)),(0,i.A9)("TIMING.sampled.".concat(l),{sampleRate:.5})),ct({status:"TIMING",metricConfig:e,startTime:r,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:rt}))}(t,n.payload);if("TIMING"!==t.status)return et("ignoring action due to invalid state ".concat(t.status),n),t;switch(n.type){case"ABORT":it(t,n.reason);var e={type:"ABORT",reason:n.reason};return W(W({},t),{},{status:"DONE",result:e});case"ANNOTATE":var r=n.payload.name;if(!U.Z)return t;var a=U.Z.now();return et("adding annotation {".concat(r,": ").concat(a,"}")),W(W({},t),{},{annotations:W(W({},t.annotations),tt({},r,a))});case"BINARY_ANNOTATE":var o=n.payload,c=o.name,s=o.value,u=o.annotationType;return et("adding binary annotation {".concat(c,": ").concat(s,"}")),W(W({},t),{},{binaryAnnotations:W(W({},t.binaryAnnotations),tt({},c,{value:s,type:u}))});case"MARK_CONSTRAINT_COMPLETE":return ct(t,n.payload);case"REMOVE_CONSTRAINT":return function(t,n){if(!U.Z){var e=(0,G.KJ)(t.metricConfig.metricId);(0,i.H)("missing_window_performance",{action:e})}et('removing constraint "'.concat(n,'"'));var r=t.metricConfig.constraints.filter((function(t){return t!==n})),a=t.constraintMap,o=(a[n],Y(a,[n].map($)));return ot(W(W({},t),{},{constraintMap:o,metricConfig:W(W({},t.metricConfig),{},{constraints:r})}))}(t,n.payload);case"SET_SEGMENT":return function(t,n){if(!U.Z){var e=(0,G.KJ)(t.metricConfig.metricId);(0,i.H)("missing_window_performance",{action:e})}et('updating pwt segment to "'.concat(n,'"'));var r=W(W({},t.metricConfig.metricId),{},{segment:n});return W(W({},t),{},{metricConfig:W(W({},t.metricConfig),{},{metricId:r})})}(t,n.payload);case"SET_VISUALLY_COMPLETE_RESULT":var l=n.payload.imageTimings;if(0===l.length){it(t,"visuallyComplete_noImages");return W(W({},t),{},{status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}})}var p=Math.max.apply(Math,q(l.map((function(t){return t.responseEnd||0}))));return ct(W(W({},t),{},{imageTimings:l}),{constraint:at,time:p});case"ADD_SUBSPAN":var f=t.startTime,m=n.payload,d=m.name,y=m.startTime,g=m.endTime,v=m.annotations,T=m.binaryAnnotations,S=m.parentId;return W(W({},t),{},{spans:[].concat(q(t.spans),[{name:d,id:(0,b.Z)(),startTime:y||f,endTime:g,annotationMap:W({},v),binaryAnnotationMap:W({},T),parentId:S}])});case"START_SUBSPAN":return W(W({},t),{},{spans:[].concat(q(t.spans),[{name:n.payload.name,id:(0,b.Z)(),startTime:U.Z?U.Z.now():0,endTime:1/0,annotationMap:W({},n.payload.annotations),binaryAnnotationMap:W({},n.payload.binaryAnnotations),parentId:n.payload.parentId}])});case"STOP_SUBSPAN":var A=t.spans.findIndex((function(t){return t.name===n.payload.name}));return A>-1?(t.spans[A].endTime=U.Z?U.Z.now():0,n.payload.annotations&&(t.spans[A].annotationMap=W(W({},t.spans[A].annotationMap),n.payload.annotations)),n.payload.binaryAnnotations&&(t.spans[A].binaryAnnotationMap=W(W({},t.spans[A].binaryAnnotationMap),n.payload.binaryAnnotations))):(0,i.H)("invalid_subspan_stop_name",{name:n.payload.name}),t;default:var h=(0,G.KJ)(t.metricConfig.metricId);return(0,i.H)("invalid_pwt_surface_action",{action:h}),t}};function ut(t){var n,e,a,o=t.children,c=Y(t,J),s=(0,K.fM)(),u=function(t){if(!t)return"initial_app_load";switch(t.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}}(s),l=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth","web_duplo_default"].concat(q(null!==(n=c.annotateExperiments)&&void 0!==n?n:[])),p=function(t){var n=t.surface,e=t.constraints,a=t.segment,i=t.measureGridVisuallyComplete,o=t.annotateExperiments,c=t.customEnabledNavigationTypes,s=t.navigationInfo,u=s.clientNavigation,l=s.navigationType,p=t.sampleRate,f=(0,r.useRef)("NOT_SET"),m=(0,K.N5)(),d=L(st,{status:"DISABLED",metricConfig:null}),y=d.getState,g=d.dispatch;if(f.current!==u&&(f.current=u,m)){var v=m.isAuthenticated,b=n&&l&&(c||nt).includes(l)?{metricId:{type:"surface",surface:n,navigationType:l,isAuthenticated:v,segment:a},annotateExperiments:o,constraints:[rt].concat(q(e||[]),q(i?[at]:[])),pwtStaticContext:m}:null;g({type:"INIT_ROUTE",payload:{metricConfig:b,startTime:u?u.time:0,isSampled:!p||Math.random()<p}})}var T=y();if((0,r.useEffect)((function(){var t=function(t){g({type:"ABORT",reason:t})};k.Z.onSessionPause(t);var n=function t(){window.removeEventListener("resize",t),g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),function(){var e=y();et("handling unmount",e),"TIMING"===e.status&&it(e,"unmount"),k.Z.removePauseListener(t),window.removeEventListener("resize",n)}}),[]),"TIMING"!==T.status||!T.constraintMap[rt])return{state:T,context:null};var S=T.startTime,A=T.metricConfig;return{state:T,context:{abort:function(t){return g({type:"ABORT",reason:t})},addAnnotation:function(t){return g({type:"ANNOTATE",payload:{name:t}})},addBinaryAnnotation:function(t,n,e){return g({type:"BINARY_ANNOTATE",payload:{name:t,value:n,annotationType:e}})},addSubspan:function(t,n,e){return g({type:"ADD_SUBSPAN",payload:{name:t,startTime:n,endTime:e,annotations:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},binaryAnnotations:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},parentId:arguments.length>5&&void 0!==arguments[5]?arguments[5]:null}})},getId:function(){return S},getMetricId:function(){return A.metricId},markConstraintComplete:function(t){return g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:t,time:U.Z?U.Z.now():0}})},removeConstraint:function(t){return g({type:"REMOVE_CONSTRAINT",payload:t})},setSegment:function(t){return g({type:"SET_SEGMENT",payload:t})},setVisuallyCompleteResult:A.constraints.includes(at)?function(t){return g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:t})}:null,startSubspan:function(t){return g({type:"START_SUBSPAN",payload:{name:t,annotations:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},binaryAnnotations:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},parentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}})},stopSubspan:function(t){return g({type:"STOP_SUBSPAN",payload:{name:t,annotations:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},binaryAnnotations:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},parentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}})}}}}(W(W({},c),{},{annotateExperiments:l,navigationInfo:{navigationType:u,clientNavigation:s}})).context;return e=(0,H.EV)(),a=!!e,(0,r.useEffect)((function(){if(a){var t=null==e?void 0:e.getMetricId(),n=t?(0,G.KJ)(t):null;(0,i.H)("nested_pwt_surface",{action:n})}}),[a]),(0,F.jsx)(H.Sb,{value:p,children:o})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/55646-be9eb770d70bd190.js.map