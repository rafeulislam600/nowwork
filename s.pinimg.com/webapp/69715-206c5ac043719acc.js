"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69715],{375571:function(e,t,n){n.d(t,{Z:function(){return f}});var o=n(76911),i=n(172071),s=n(395164);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,n,o,a=d(u);function u(){var e;r(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return p(_(e=a.call.apply(a,[this].concat(n))),"state",{error:null,info:null}),p(_(e),"resetError",(function(){e.setState({error:null,info:null})})),e}return t=u,(n=[{key:"componentDidCatch",value:function(e,t){try{var n,o=this.props.name,a=this.props.type||"secondary";(0,s.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:o,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),i.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(r){i.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,o=t.info;return n&&o?e?e({error:n,info:o,resetError:this.resetError}):null:this.props.children}}])&&l(t.prototype,n),o&&l(t,o),u}(o.Component)},319915:function(e,t,n){var o=n(375571);t.Z=o.Z},116303:function(e,t,n){n.d(t,{Z:function(){return a}});var o=n(908390),i=n(515198),s=function(e,t){var n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a(e){var t=e.accessibilityLabel,n=e.name,a=e.outline,r=e.size,l=e.src,c=e.verified;return(0,i.jsx)(o.qE,{accessibilityLabel:t,name:n,outline:a,size:r,src:s(l,n)?void 0:l,verified:c})}},539278:function(e,t,n){n.d(t,{Di:function(){return _},Jl:function(){return c},R:function(){return d},ZP:function(){return m},aU:function(){return h},j2:function(){return u},pN:function(){return p},rL:function(){return v},vW:function(){return g}});var o=n(116303),i=n(499128),s=n(349700),a=n(826067),r=n(908390),l=n(515198),c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",_="account_deactivated",h="unlink_successful",p="account_switch_to_settings";function f(e,t,n){return(0,l.jsx)(r.xv,{align:n||"center",children:(0,s.nk)(e,{username:(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:t})})})}function g(e){var t=e.i18n,n=e.message,o=e.multipleAccounts,i=e.username,s=void 0===i?"":i;switch(n){case d:return t._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:return f(o?t._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'):t._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),s);case _:return f(o?t._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):t._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),s);case h:return f(t._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),s,"start");case p:return f(t._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),s,"start");default:return""}}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t||!t.search)return"";var o=(0,a.mB)(t.search).message,i=(0,a.mB)(t.search).username||n,s="true"===(0,a.mB)(t.search).multiple_accounts;return g({i18n:e,message:o,multipleAccounts:s,username:i})}function v(e){var t=e.showOneToast,n=e.i18n,s=e.location,r=e.history,d=e.username,u=e.fullName,_=e.avatarUrl;if(s&&s.search){var f=m(n,s,d||""),g=(0,a.mB)(s.search).message,v=g===p||g===h;f&&(t((function(e){var t=e.hideToast;return(0,l.jsx)(i.ZP,{duration:c,onHide:t,text:f,iconThumbnail:v?(0,l.jsx)(o.Z,{name:u||"",src:_||"",size:"md"}):null})})),r.replace(s.hash?"".concat(s.pathname).concat(s.hash):s.pathname))}}},995228:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(76911),i=n(966476),s=n(464228),a=n(515198);function r(e){var t=e.children,n=e.fallback,r=e.dangerouslyServerRenderForGraphQL,l=void 0!==r&&r,c=n||null,d=(0,i.Z)(),u=(0,s.P)();return u&&"legacy"!==u?l||d?(0,a.jsx)(o.Suspense,{fallback:c,children:t}):c:(0,a.jsx)(o.Suspense,{fallback:c,children:t})}},947599:function(e,t,n){var o=n(995228);t.Z=o.Z},80816:function(e,t,n){n.d(t,{i:function(){return o}});var o={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},962482:function(e,t,n){var o=n(898781),i=n(908390),s=n(515198);t.Z=function(e){var t=e.isInModal,n=(0,o.ZP)();return(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,s.jsx)(i.$j,{accessibilityLabel:n._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},698330:function(e,t,n){n.d(t,{Tt:function(){return _},cm:function(){return u},kW:function(){return c},kY:function(){return h},mN:function(){return d}});var o=n(506979),i=n(19121),s=n(425288),a=n(515198),r=(0,s.Z)("Users"),l=r.Provider,c=r.useHook;function d(){var e=c();return function(t){return e[t]}}function u(){var e=c();return function(t){var n=Object.keys(e).find((function(n){return e[n].username===t}));return e[null!=n?n:""]}}function _(){var e=(0,i.Z)().id;return c()[null!=e?e:""]}function h(e){var t=e.children,n=(0,o.useSelector)((function(e){return e.users}),o.shallowEqual);return(0,a.jsx)(l,{value:n,children:t})}},669715:function(e,t,n){n.r(t),n.d(t,{EMAIL_REGEX:function(){return Se},default:function(){return ke}});var o=n(76911),i=n(506979),s=n(116303),a=n(540477),r=n(898781),l=n(349700),c=n(515198),d=function(e){var t=e.isOpen,n=e.email,o=e.handleDeactivate,i=e.onDismiss,s=(0,r.ZP)(),d=[(0,l.nk)(s._('If you want to use Pinterest again, just log in with {{email}}.', 'deactivateModal.loginAgainMessage', 'Description to reactivate the account'),{email:n}),s._('In the meantime, no one will see your Pins or your profile. People will still see private messages you sent them.', 'deactivateModal.deactivateMessage', 'Description for deactivate account button')];return(0,c.jsx)(a.Z,{isOpen:t,onDismiss:i,type:"deactivated",heading:s._('You\'re welcome back anytime!', 'Deactivate account', 'Deactivate account'),description:d,hasMultiLineDescription:!0,primaryBtnParams:{text:s._('Deactivate account', ' - ', ' -- '),color:"gray",onClick:o},secondaryBtnParams:{text:s._('Cancel', ' - ', ' -- '),color:"red",onClick:i}})},u=n(319915),_=n(911691),h=n(962482),p=n(172071),f=n(542554),g=n(660119),m=n(214494),v=n(947599),y=n(908390);function P(e){var t=e.isOpen,n=e.onDismiss,o=(0,r.ZP)();return(0,c.jsx)(a.Z,{isOpen:t,onDismiss:n,type:"search_privacy_modal",heading:o._('Hide your profile from search engines.', 'settings.SearchPrivacyModal.heading', 'Hide your profile from search engines modal heading.'),description:(0,l.nk)(o._('It\'ll take several weeks for search engines to remove your profile from search results. You can speed up the process with Google using {{ onlineToolLink }}.', 'settings.SearchPrivacyModal.explanation', 'Hide your profile from search engines modal explanation.'),{onlineToolLink:(0,c.jsx)(y.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(y.rU,{target:"blank",display:"inlineBlock",href:"https://search.google.com/search-console/remove-outdated-content?utm_source=wmx&utm_medium=deprecation-pane&utm_content=removals",underline:"hover",children:o._('their online tool', 'settings.SearchPrivacyModal.linkToGoogleTool', 'Link to Google tool for search results removal. A part of full phase: It\'ll take several weeks for search engines to remove your profile from search results. You can speed up the process with Google using {{ onlineToolLink }}. ')})},"google-search-privacy-tool")}),primaryBtnParams:{text:o._('I understand', 'settings.SearchPrivacyModal.button.understand', 'I understand Button text on the modal'),accessibilityLabel:o._('I understand', 'settings.SearchPrivacyModal.button.understand', 'I understand Button text on the modal'),color:"red",onClick:n},secondaryBtnParams:{text:o._('Close', 'settings.SearchPrivacyModal.button.close', 'Close Button text on the modal'),accessibilityLabel:o._('Close', 'settings.SearchPrivacyModal.button.close', 'Close Button text on the modal'),color:"gray",onClick:n}})}var x=n(943280),b=n(706811),w=n(784590),A=n(19121);function S(e){return{type:"ALLOW_ALL_COOKIES",payload:{userId:e}}}var z=n(884183),k=n(313047),j=n(826067),E=n(205992),C=n(80816),D=n(407043),T=n(773285),O=n(780280),L=n(584622),B=n(966113),M=n(609500);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t,n,o,i,s,a){try{var r=e[s](a),l=r.value}catch(c){return void n(c)}r.done?t(l):Promise.resolve(l).then(o,i)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,s=[],a=!0,r=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!t||s.length!==t);a=!0);}catch(l){r=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(r)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var H="https://www.pinterest.com/_/_/help/articles/personalization-and-data",G=(0,o.lazy)((function(){return Promise.all([n.e(80582),n.e(28611)]).then(n.bind(n,380582))})),Y=new Set(_.Z);function X(){var e=(0,r.ZP)(),t=(0,A.Z)(),s=(0,T.F)().checkExperiment,a=(0,A.Z)().isAuth,d=(0,O.B)().country,R=(0,M.useLocation)(),N=(0,i.useDispatch)(),X=(0,D.v)().logContextEvent,V=t.isAuth?t.id:"",W=(0,j.mB)(R.search),q=!!("accept-all-cookies"in W),J=!!("manage-cookies"in W),K=(0,w.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.is_regulated_by_aadc"}}}),$=K.isLoaded,Q=K.data,ee=(0,w.Z)({name:"UserSettingsResource",options:{}}),te=ee.isLoaded,ne=ee.isFetching,oe=ee.data,ie=F((0,o.useState)(!1),2),se=ie[0],ae=ie[1],re=F((0,o.useState)(J),2),le=re[0],ce=re[1],de=F((0,o.useState)(""),2),ue=de[0],_e=de[1],he=F((0,o.useState)(!1),2),pe=he[0],fe=he[1],ge=F((0,o.useState)({ads_customize_from_conversion:!(null==oe||!oe.ads_customize_from_conversion),ccpa_opted_out:!(null==oe||!oe.ccpa_opted_out),personalize_from_offsite_browsing:!(null==oe||!oe.personalize_from_offsite_browsing),third_party_marketing_tracking_enabled:!(null==oe||!oe.third_party_marketing_tracking_enabled),exclude_from_search:!(null==oe||!oe.exclude_from_search),dsa_opted_out:!(null==oe||!oe.dsa_opted_out)}),2),me=ge[0],ve=ge[1];(0,o.useEffect)((function(){te&&ve({ads_customize_from_conversion:!(null==oe||!oe.ads_customize_from_conversion),ccpa_opted_out:!(null==oe||!oe.ccpa_opted_out),personalize_from_offsite_browsing:!(null==oe||!oe.personalize_from_offsite_browsing),third_party_marketing_tracking_enabled:!(null==oe||!oe.third_party_marketing_tracking_enabled),exclude_from_search:!(null==oe||!oe.exclude_from_search)})}),[te]);var ye=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(97141).then(n.bind(n,838760));case 2:return t=e.sent,o=t.getGPCSignalState,i=t.getThirdPartyMarketingTrackingEnabledAfterGPC,s=t.setThirdPartyMarketingTrackingEnabledAfterGPC,e.next=8,o();case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,i();case 13:if(!e.sent){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,s();case 18:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){Z(s,o,i,a,r,"next",e)}function r(e){Z(s,o,i,a,r,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Pe=function(e){ae(!0),_e(e),setTimeout((function(){ae(!1)}),1e3)},xe=function(t,n){!function(e,t){N((0,E._L)({field:e,value:t,onSettingSavedHn:function(){},showErrorHn:function(){},surfaceTag:C.i.SETTINGS,userId:V}))}(t,n),setTimeout((function(){Pe(e._('Privacy and data saved!', 'profileSettings.Edit.Privacy&Data.GenericSaveMessage', 'Toast shown when user settings have been saved'))}),500),ve(U(U({},me),{},I({},t,n))),"third_party_marketing_tracking_enabled"===t&&n&&ye()},be=s("mweb_privacy_data_refactor").anyEnabled,we=s("mweb_auth_eu_cookie_consent_tier_1",{dangerouslySkipActivation:!0}).group,Ae=s("uup_dsa_launch_mweb").anyEnabled,Se=s("mweb_auth_eu_cookie_consent_non_tier_1",{dangerouslySkipActivation:!0}).group,ze=!1;(["control","employees","enabled"].includes(we)||["control","employees","enabled"].includes(Se)||_.Z.includes(d)||q||J)&&(ze=!0);var ke=function(){p.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_mobile_routes_EditPrivacyAndDataPage_handleAcceptAllCookies"}),m.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:C.i.SETTINGS}).callUpdate().then((function(){!function(e){N(S(e))}(V),Pe(e._('Your cookie preferences were saved, you can change them in settings on your profile at anytime', 'profileSettings.Edit.PrivacyAndData.CookieConsent.acceptAllConfirmation', 'Success message after accepting/rejecting all optional cookies'))}))},je=function(){ce(!le)};if((0,o.useEffect)((function(){q&&ke(),X({event_type:13,view_type:7,view_parameter:3707})}),[]),!a)return(0,c.jsx)(M.Redirect,{to:"/"});if(!oe||ne)return(0,c.jsx)(h.Z,{});var Ee=!1,Ce=Y.has(oe.country);return $?(Ee=!(null==Q||!Q.is_regulated_by_aadc),(0,c.jsxs)(f.default,{hasFixedHeader:!0,children:[(0,c.jsxs)(y.xu,{marginBottom:2,children:[(0,c.jsx)(k.FixedHeader,{zIndexForGestaltBug:2,children:(0,c.jsx)(g.default,{heading:e._('Privacy and data', 'profileSettings.Edit.PrivacyAndData', 'Edit Privacy & Data page Top Navbar'),previousUrl:"/settings/",legoSettingsEnabled:!0})}),(0,c.jsx)(y.xu,{paddingX:3,marginBottom:6,"data-test-id":"edit-privacy-data-data-page",children:(0,c.jsx)(y.xv,{color:"subtle",children:(0,l.nk)(e._('Decide whether your Pinterest profile will be hidden from search engines, and what kinds of data you want us to use to improve the recommendations and ads you see. {{ learnMore }}', 'settings.privacyAndData.Explanation.Text', 'Description for Privacy and Data. learnMore: Learn more link'),{learnMore:(0,c.jsx)(y.xv,{inline:!0,weight:"bold",color:"subtle",children:(0,c.jsx)(y.rU,{display:"inlineBlock",href:B.Hl,target:"blank",underline:"hover",children:e._('Learn more', 'settings.privacyAndData.Explanation.LearnMoreLink', 'Text link for learning more about privacy and data')})},"login")})})}),(0,c.jsxs)(y.xu,{paddingX:3,children:[Ae&&(0,c.jsx)(o.Fragment,{children:(0,c.jsx)(b.Z,{heading:e._('Inferred signals about you', 'profileSettings.Edit.Privacy&Data.InferredSignals', 'Label for Inferred signals about you on Edit Privacy & Data page'),href:H,id:"InferredSignalsSwitch",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.InferredSignals.LearnMore', 'Learn More on Inferred signals about you on Edit Privacy & Data page'),text:e._('Allow Pinterest to use data to further personalize the ideas you see. ', 'profileSettings.Edit.Privacy&Data.InferredSignals.Description', 'Description for Inferred signals about you on Edit Privacy & Data page'),marginBottom:4,children:(0,c.jsx)(y.rs,{id:"InferredSignalsSwitch",onChange:function(e){var t=e.value;xe("dsa_opted_out",t)},switched:me.dsa_opted_out})})}),(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(y.xu,{marginBottom:4,children:(0,c.jsx)(y.xv,{children:e._('Search', 'settings.privacyAndData.Search', 'Search section heading')})}),(0,c.jsx)(b.Z,{heading:e._('Search privacy', 'profileSettings.Edit.Privacy&Data.SearchPrivacy', 'Label for Search privacy on Edit Privacy & Data page'),href:B.Mv,id:"searchPrivacySwitch",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.SearchPrivacy.LearnMore', 'Learn More on Search Privacy on Edit Privacy & Data page'),text:e._('Hide your profile from search engines (E.g. Google) ', 'profileSettings.Edit.Privacy&Data.SearchPrivacy.Description', 'Description for Search Privacy on Edit Privacy & Data page'),marginBottom:8,children:(0,c.jsx)(y.rs,{id:"searchPrivacySwitch",onChange:function(e){var t=e.value;xe("exclude_from_search",t),t&&fe(!0)},switched:me.exclude_from_search})})]}),be?(0,c.jsx)(L.Z,{handleChange:xe,settings:me,platform:"mobile"}):!Ee&&(0,c.jsxs)(y.xu,{marginBottom:8,children:[(0,c.jsx)(y.xu,{marginBottom:2,children:(0,c.jsx)(y.xv,{children:e._('Data personalization', 'settings.privacyAndData.DataPersonalization', 'Data personalization section heading')})}),(0,c.jsx)(y.xu,{children:(0,c.jsx)(y.xv,{color:"subtle",children:e._('To opt out of targeted advertising, toggle settings 1, 2 and 3 below.', 'mweb.settings.privacy.dataPersonalization.targetedAdsDesc', 'Description for Data personalization settings section, targeted advertising specific')})}),(0,c.jsx)(y.xu,{marginTop:2,marginBottom:4,children:(0,c.jsx)(y.xv,{color:"subtle",children:e._('To opt out of the sale or sharing of your data for cross context behavioral advertising, toggle setting 3 below.', 'mweb.settings.privacy.dataPersonalization.dataSharingDesc', 'Description for Data personalization settings section, data sharing specific')})}),(0,c.jsx)(b.Z,{heading:e._('Use sites you visit to improve recommendations and ads', 'profileSettings.Edit.Privacy&Data.UseSitesYouVisitV2', 'Label for Use sites you visit to improve recommendations and ads on Edit Privacy & Data page'),href:H,id:"useSitesYouVisit",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.UseSitesYouVisit.LearnMore', 'Learn More on Use Sites You Visit on Edit Privacy & Data page'),text:e._('Improve which recommendations and ads you see on Pinterest. ', 'profileSettings.Edit.Privacy&Data.UseSitesYouVisit.DescriptionV2', 'Description for Use Sites You Visit on Edit Privacy & Data page'),children:(0,c.jsx)(y.rs,{id:"useSitesYouVisit",onChange:function(e){var t=e.value;xe("personalize_from_offsite_browsing",t)},switched:me.personalize_from_offsite_browsing})}),(0,c.jsx)(b.Z,{heading:e._('Use partner info to improve recommendations and ads', 'profileSettings.Edit.Privacy&Data.UserPartnerInfoV2', 'Label for Use Partner Info on Edit Privacy & Data page'),href:H+"#info-ad",id:"usePartnerInfo",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.UsePartnerInfo.ImproveAds.LearnMore', 'Learn More on Use Partner Info ImproveAds on Edit Privacy & Data page'),text:e._('Improve which recommendations and ads you see on Pinterest. ', 'profileSettings.Edit.Privacy&Data.UsePartnerInfo.DescriptionV2', 'Description for Use Partner Info on Edit Privacy & Data page'),children:(0,c.jsx)(y.rs,{id:"usePartnerInfo",onChange:function(e){var t=e.value;xe("ads_customize_from_conversion",t)},switched:me.ads_customize_from_conversion})}),(0,c.jsx)(b.Z,{heading:e._('Use your activity to improve ads about Pinterest', 'profileSettings.Edit.Privacy&Data.UseYourActivityV2', 'Title for describing what info we use'),href:B.tS,id:"marketingInfo",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.AboutPrivacy.LarnMore', 'Text link for learning more about privacy'),text:e._('Improve your ads you see about Pinterest on other sites or apps you may visit. ', 'profileSettings.Edit.Privacy&Data.UseYourActivity.DescriptionV2', 'Text for describing how we use pinner data'),children:(0,c.jsx)(y.rs,{id:"marketingInfo",onChange:function(e){var t=e.value;xe("third_party_marketing_tracking_enabled",t)},switched:me.third_party_marketing_tracking_enabled})}),!Ce&&(0,c.jsx)(b.Z,{heading:e._('Share activity for ads reporting', 'profileSettings.Edit.Privacy&Data.UseYourActivityV2', 'Title for describing why we use pinner data'),href:"https://www.pinterest.com/_/_/help/article/ads-performance-reporting",id:"ccpaSetting",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.UserYourActivity.LearnMore', 'Text link for learning more about privacy'),text:e._('Share activity for ads performance reporting. ', 'profileSettings.Edit.Privacy&Data.UserYourActivity.Description', 'Text for describing how we use pinner data'),children:(0,c.jsx)(y.rs,{id:"ccpaSetting",onChange:function(e){var t=e.value;xe("ccpa_opted_out",!t)},switched:!me.ccpa_opted_out})})]}),ze&&(0,c.jsxs)(y.xu,{display:"flex",marginBottom:8,marginTop:8,children:[(0,c.jsxs)(y.xu,{marginEnd:7,children:[(0,c.jsx)(y.xu,{marginBottom:2,children:(0,c.jsx)(y.X6,{size:"400",accessibilityLevel:2,children:e._('Cookie Preferences', 'profileSettings.cookiePreferences.title', 'Cookie preferences settings title')})}),(0,c.jsx)(y.xu,{children:(0,c.jsxs)(y.xv,{color:"subtle",size:"300",children:[e._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'profileSettings.cookiePreferences.description', 'Description about why we use cookies')," ",(0,c.jsx)(y.rU,{display:"inlineBlock",target:"blank",rel:"nofollow",tapStyle:"none",href:B._I,underline:"hover",children:(0,c.jsx)(y.xv,{size:"300",weight:"bold",color:"subtle",children:e._('Cookie policy', 'profileSettings.cookiePreferences.cookiePolicyLink', 'Cookie policy link')})})]})})]}),(0,c.jsx)(y.xu,{flex:"none",children:(0,c.jsx)(y.zx,{onClick:je,size:"lg",text:e._('Edit', 'profileSettings.cookiePreferences.editButton', 'Edit cookies preferences button')})})]}),le&&(0,c.jsx)(u.Z,{name:"SafeSuspense_EditPrivacyAndDataPage_CookieSettingsModal",children:(0,c.jsx)(v.Z,{children:(0,c.jsx)(G,{dismissIcon:"arrow-back",onClose:je})})}),(0,c.jsx)(y.xu,{marginBottom:8,children:(0,c.jsx)(x.Z,{heading:e._('Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount', 'Delete your data and account label on Edit Privacy & Data Page'),description:e._('Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount', 'Delete your data and account label on Edit Privacy & Data Page'),iconAccessibilityLabel:e._('Go to Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount.icon', 'Delete your data and account icon on Edit Privacy & Data Page'),to:"/close-account",headingAccessibilityLevel:2})}),(0,c.jsxs)(y.xu,{marginBottom:7,children:[(0,c.jsx)(y.xu,{marginBottom:4,children:(0,c.jsx)(y.xv,{size:"200",children:e._('Cached data', 'profileSettings.Edit.Privacy&Data.CachedData.Description', 'Text for describing Cached data')})}),(0,c.jsx)(y.iP,{onTap:function(){var t,n,o;t=null,n=function(){return Pe(e._('Recent searches cleared', 'profileSettings.Edit.PrivacyAndData.RecentSearchsCleared', 'recent searches successfully cleared'))},o=function(){},N((0,z.lU)(t,n,o))},children:(0,c.jsx)(y.xu,{column:11,children:(0,c.jsx)(y.xv,{weight:"bold",size:"400",children:e._('Clear recent searches', 'profileSettings.Edit.Privacy&Data.ClearRecentSearches.Button', 'Button for Clear Recent Search on Edit Privacy & Data page')})})})]})]})]}),se&&(0,c.jsx)(y.xu,{fit:!0,paddingX:1,position:"fixed",zIndex:new y.Ry(2),dangerouslySetInlineStyle:{__style:{left:"50%",top:28,transform:"translateX(-50%)"}},children:(0,c.jsx)(y.FN,{text:ue})}),pe&&(0,c.jsx)(P,{onDismiss:function(){return fe(!1)},isOpen:pe})]})):(0,c.jsx)(h.Z,{})}Y.add("GB");var V=n(439107),W=n(121151),q=function(e){var t=e.isOpen,n=e.onDismiss,o=e.message,i=e.heading,s=(0,r.ZP)();return(0,c.jsx)(W.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:t,onDismiss:n,type:"settings_confirmation",children:(0,c.jsxs)(y.xu,{padding:5,children:[(0,c.jsx)(y.xu,{marginBottom:3,children:(0,c.jsx)(y.X6,{size:"500",accessibilityLevel:1,children:i})}),(0,c.jsx)(y.xu,{marginBottom:3,children:(0,c.jsx)(y.xv,{children:o})}),(0,c.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,c.jsx)(y.xu,{paddingY:1,children:(0,c.jsx)(y.zx,{fullWidth:!0,size:"lg",color:"red",text:s._('Okay', ' - ', ' -- '),onClick:n})})})]})})},J=n(499128),K=n(112690);var $=function(e){var t=e.isOpen,n=e.ownerEmail,o=e.onDismiss,i=e.onResendEmail,s=(0,r.ZP)(),d=(0,K.Z)();return(0,c.jsx)(a.Z,{isOpen:t,onDismiss:o,type:"unlink_account_modal",heading:s._('Check your inbox!', 'settings.unlinkAccountModal.heading', 'Heading for modal dialog shown when user unlinks their business account'),description:(0,l.nk)(s._('We sent an email to {{ emailText }}. Tap the link to finish unlinking your accounts. The link will be valid for 24 hours', 'settings.unlinkAccountModal.text', 'Modal text showing unlink information and owner email'),{emailText:(0,c.jsx)(y.xv,{inline:!0,weight:"bold",children:n})}),primaryBtnParams:{text:s._('Resend email', 'settings.unlinkAccountModal.button.resendEmail', 'Label for the button that resends unlink email'),color:"gray",onClick:function(){d({element:12552,event_type:102,view_type:132}),i()}},secondaryBtnParams:{text:s._('Done', 'settings.unlinkAccountModal.button.doneButton', 'Done button label on the modal dialog'),color:"red",onClick:function(){d({element:12553,event_type:102,view_type:132}),o()}}})},Q=n(90326),ee=n(698330),te="IS_LINKED_BUSINESS_ACCOUNT",ne="HAS_BILLING_PROFILE",oe="PERSONAL_ACCOUNT_HAS_LBAS";var ie=function(e){var t,n,o=e.conversionUnavailableReason,i=e.isOpen,s=e.onDismiss,l=(0,r.ZP)();switch(o){case te:case oe:t=l._('Learn More', 'settings.ConversionUnavailableModal.button.learnMore', 'Button text to confirm changes in password settings');break;case ne:t=l._('Contact Support', 'settings.ConversionUnavailableModal.button.learnMore', 'Button text to confirm changes in password settings');break;default:t=""}switch(o){case te:n=l._('Since you are currently signed into a linked business account, you won\'t be able to convert to a personal account.', 'settings.conversionUnavailableModal.linkedBusinessAccount.explanation', 'Explanation shown in modal dialog why linked business accounts are not allowed to convert');break;case ne:n=l._('Because your account includes sensitive billing information, you\u2019ll need to submit a form to the support team', 'settings.conversionUnavailableModal.billingProfile.explanation', 'Explanation shown in modal dialog why accounts with billing info are not allowed to convert');break;case oe:n=l._('You are currently signed into a personal account, but you have linked business accounts. To convert to a business account, you must delete all linked business accounts.', 'settings.conversionUnavailableModal.hasLinkedBusinessAccounts.explanation', 'Explanation shown in modal dialog why account with linked business accounts is not allowed to convert');break;default:n=""}return(0,c.jsx)(a.Z,{isOpen:i,onDismiss:s,type:"conversion_unavailable_modal",heading:l._('Sorry!', 'settings.ConversionUnavailableModal.heading', 'Conversion unavailable modal heading.'),description:n,primaryBtnParams:{text:t,accessibilityLabel:t,color:"red",role:"link",target:"blank",href:B.cP},secondaryBtnParams:{text:l._('Cancel', 'settings. PasswordChangeSuccessModal.button.okay', 'Button text to confirm changes in password settings'),accessibilityLabel:l._('Cancel', 'settings. PasswordChangeSuccessModal.button.okay', 'Button text to confirm changes in password settings'),color:"gray",onClick:s}})},se=n(539278),ae=n(643010),re=n(343341);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n,o,i,s,a){try{var r=e[s](a),l=r.value}catch(c){return void n(c)}r.done?t(l):Promise.resolve(l).then(o,i)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){ue(s,o,i,a,r,"next",e)}function r(e){ue(s,o,i,a,r,"throw",e)}a(void 0)}))}}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ye(e);if(t){var i=ye(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return me(this,n)}}function me(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=(0,o.forwardRef)((function(e,t){var n=e.description,o=e.heading,i=e.iconAccessibilityLabel,s=e.onTap,a=e.to,r=e.marginTop,l=void 0===r?7:r,d=function(e){var t=e.children;return s?(0,c.jsx)(y.iP,{onTap:s,children:t}):(0,c.jsx)(y.iP,{role:"link",tapStyle:"none",href:a||"",children:t})};return(0,c.jsx)(d,{children:(0,c.jsxs)(y.xu,{display:"flex",justifyContent:"between",marginBottom:7,marginTop:l,ref:t,children:[(0,c.jsxs)(y.xu,{children:[(0,c.jsx)(y.X6,{size:"400",children:o}),n&&(0,c.jsx)(y.xu,{marginTop:2,children:(0,c.jsx)(y.xv,{color:"subtle",children:n})})]}),(0,c.jsx)(y.xu,{paddingY:1,children:(0,c.jsx)(y.JO,{accessibilityLabel:i,color:"default",icon:"arrow-forward"})})]})})}));function be(e){var t=e.heading,n=e.iconAccessibilityLabel,o=e.text,i=e.to,s=(0,O.B)().isRTL;return(0,c.jsx)(y.iP,{role:"link",href:i,tapStyle:"none",children:(0,c.jsxs)(y.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:s?0:32,paddingLeft:s?32:0}},display:"flex",justifyContent:"between",marginBottom:4,marginTop:4,position:"relative",overflow:"hidden",children:[(0,c.jsx)(y.xu,{marginEnd:4,children:(0,c.jsx)(y.X6,{accessibilityLevel:2,size:"400",children:t})}),o&&(0,c.jsx)(y.xv,{color:"subtle",lineClamp:1,children:o}),(0,c.jsx)(y.xu,{position:"absolute",left:s,right:!s,children:(0,c.jsx)(y.JO,{accessibilityLabel:n,color:"default",icon:"arrow-forward"})})]})})}var we=4e3,Ae=(0,o.lazy)((function(){return Promise.all([n.e(80582),n.e(28611)]).then(n.bind(n,380582))})),Se=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i"),ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(r,e);var t,n,i,a=ge(r);function r(){var e,t;he(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Pe(ve(t=a.call.apply(a,[this].concat(o))),"state",{email:t.props.user&&null!==(e=t.props.user.email)&&void 0!==e?e:"",oldPassword:"",newPassword:"",retypeNewPassword:"",darkModeEnabled:(0,ae.Yc)(),savedSettingName:"",toolTipErrorText:"",isDeactivateModalShown:!1,isDeactivateConfirmationShown:!1,isCloseConfirmationShown:!1,isConversionUnavailableModalShown:!1,isUnlinkModalShown:!1,isSpinnerShown:!1,isToastShown:!1,isToolTipShown:!1,resourceFetching:t.props.userSettingsResource.isFetching,showCookieSettings:t.props.openCookieSettingsOnMount}),Pe(ve(t),"handleManageAccountToast",(function(){var e=t.props,n=e.showToast,o=e.i18n,i=e.location,a=e.user,r=(0,se.ZP)(o,i,a.username||"");(0,j.mB)(i.search).message===se.pN&&r&&n((function(e){var t=e.hideToast;return(0,c.jsx)(J.ZP,{duration:se.Jl,text:r,iconThumbnail:(0,c.jsx)(s.Z,{name:a.full_name||"",src:a.image_medium_url||"",size:"md"}),onHide:t})}))})),Pe(ve(t),"handleAcceptAllCookies",(function(){var e=t.props,n=e.allowAllCookies,o=e.logContextEvent,i=e.userId;o({event_type:9064,view_type:7}),p.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_mobile_routes_EditSettingsPage_handleAcceptAllCookies"}),m.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:C.i.SETTINGS}).callUpdate().then((function(){n(i),t.handleShowToast(t.props.i18n._('Your cookie preferences were saved, you can change them in settings on your profile at anytime', 'homeFeed.cookieConsent.acceptAllConfirmation', 'Success message after accepting/rejecting all optional cookies'))}))})),Pe(ve(t),"getDeactivateRef",(function(e){t.deactivateAccountBox=e})),Pe(ve(t),"handleBlurPassword",(function(){var e=t.state,n=e.oldPassword,o=e.newPassword,i=e.retypeNewPassword,s=t.props,a=s.i18n,r=s.user,l=r.has_password,c=r.username,d=s.savePassword,u={errorMessageNewPassword:"",errorMessageRetypePassword:"",errorMessageOldPassword:""},_=!1;o===c&&(u.errorMessageNewPassword=a._('Oops! Your password shouldn\u2019t match your username.', ' - ', ' -- '),_=!0),o&&i&&o!==i&&(u.errorMessageRetypePassword=a._('Passwords don\u2019t match', ' - ', ' -- '),_=!0),o&&o.length<6&&(u.errorMessageNewPassword=a._('Your password is too short! You need 6+ characters.', ' - ', ' -- '),_=!0),!n&&l&&(u.errorMessageOldPassword=a._('Oops! Password too short.', ' - ', ' -- '),_=!0),t.setState(u),_||o&&i&&d(n,o,i,(function(){t.setState({isPasswordEditingMode:!1,oldPassword:""}),t.handleShowToast(t.props.i18n._('Password', 'Field label', 'Field label'))}),(function(e){var n=((e.extraData||{}).objects||{}).field||"old";n=n.charAt(0).toUpperCase()+n.slice(1),t.setState(Pe({},"errorMessage".concat(n,"Password"),e.message))}))})),Pe(ve(t),"handleChangeDarkModeEnabled",(function(e){var n=e.value;t.setState({darkModeEnabled:n},(function(){(n?ae.Hs:ae.F6)(),t.props.logContextEvent({view_type:7,element:n?10362:10361,event_type:102})}))})),Pe(ve(t),"handleShowDeactivateModal",(function(){t.props.logContextEvent({view_type:7,view_parameter:3527,element:44,event_type:102}),t.setState({isDeactivateModalShown:!0})})),Pe(ve(t),"handleHideDeactivateModal",(function(){t.setState({isDeactivateModalShown:!1})})),Pe(ve(t),"handleDeactivate",(function(){t.setState({isSpinnerShown:!0,isDeactivateModalShown:!1}),t.props.deactivateUser((function(){t.setState({isSpinnerShown:!1,isDeactivateConfirmationShown:!0})}),(function(e){t.toolTipAnchor=t.deactivateAccountBox,t.setState({toolTipErrorText:e.message,isToolTipShown:!0,isSpinnerShown:!1})}),t.props.logContextEvent)})),Pe(ve(t),"handleShowConversionUnavailableModal",(function(){var e,n=t.props,o=n.user,i=n.partnerPermissions.data;o.partner&&o.partner.is_linked_business?e=te:!o.is_partner&&o.businesses&&o.businesses.length>0?e=oe:i&&!i.convert_to_personal_permission&&(e=ne),e&&t.setState({isConversionUnavailableModalShown:!0,conversionUnavailableReason:e})})),Pe(ve(t),"unlinkAccount",_e(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.create("ApiResource",{url:"/v3/business/unlink/initiate/"}).callCreate().then((function(e){var n,o;return t.setState({ownerEmail:null===(n=e.resource_response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.owner_account_email}),e}));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),n="string"==typeof e.t0.message?e.t0.message:t.props.i18n._('Sorry! Something went wrong on our end. Please try again.', 'settings.lba.unlink.error', 'Something went wrong on our end while trying to unlink'),(0,t.props.showToast)((function(e){var t=e.hideToast;return(0,c.jsx)(J.ZP,{duration:we,text:n,onHide:t})})),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))),Pe(ve(t),"handleResendUnlinkEmail",(function(){t.unlinkAccount().then((function(){var e;t.handleCloseUnlinkModal();var n=t.props,o=n.showToast,i=n.user,s=t.state.ownerEmail,a=(0,c.jsx)(y.xv,{children:(0,l.nk)(t.props.i18n._('Email sent to {{ emailText }}! The link will only be valid for 24 hours', 'settings.unlinkResendEmailToast.text', 'Toast text showing unlink information and owner email'),{emailText:(0,c.jsx)(y.xv,{inline:!0,weight:"bold",children:s||(null===(e=i.partner)||void 0===e?void 0:e.biz_ownership_email)})})});o((function(e){var t=e.hideToast;return(0,c.jsx)(J.ZP,{duration:we,text:a,onHide:t})}))}))})),Pe(ve(t),"handleUnlinkBusiness",(function(){var e=t.props,n=e.logContextEvent,o=e.user,i=o.partner&&o.partner.is_linked_business;n({element:12551,event_type:102,view_type:7}),i&&t.unlinkAccount().then((function(){t.setState({isUnlinkModalShown:!0})}))})),Pe(ve(t),"handleConvertToBusiness",(function(){var e=t.props,n=e.history,o=e.logContextEvent,i=e.showUnlockBusinessTools;o({view_type:7,element:11212,event_type:102}),i?n.push("/convert-business"):t.handleShowConversionUnavailableModal()})),Pe(ve(t),"handleConvertToPersonal",(function(){var e=t.props,n=e.history,o=e.logContextEvent,i=e.user,s=e.partnerPermissions.data,a=i.partner&&i.partner.is_linked_business,r=null==s?void 0:s.convert_to_personal_permission,l=a||!r;o({view_type:7,element:10974,event_type:102}),l?t.handleShowConversionUnavailableModal():n.push("/convert-personal")})),Pe(ve(t),"handleHideConversionUnavailableModal",(function(){t.setState({isConversionUnavailableModalShown:!1,conversionUnavailableReason:null})})),Pe(ve(t),"handleDismissDeactivateCloseConfirmation",(function(){window.location.href="/login"})),Pe(ve(t),"handleDeleteAccount",(function(){var e=t.props,n=e.history;(0,e.logContextEvent)({view_type:7,view_parameter:3526,element:44,event_type:102}),n.push("/close-account")})),Pe(ve(t),"handleHideErrorTooltip",(function(){t.setState({isToolTipShown:!1})})),Pe(ve(t),"handleCloseUnlinkModal",(function(){t.setState({isUnlinkModalShown:!1})})),Pe(ve(t),"handleShowToast",(function(e){t.setState({isToastShown:!0,savedSettingName:e}),clearTimeout(t.toastTimeout),setTimeout((function(){t.setState({isToastShown:!1})}),we)})),Pe(ve(t),"toggleShowCookieSettings",(function(){var e=t.state.showCookieSettings;e||t.props.logContextEvent({view_type:7,element:11986,event_type:102}),t.setState({showCookieSettings:!e})})),Pe(ve(t),"toolTipAnchor",null),Pe(ve(t),"oldEmail",""),t}return t=r,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n={},o=e.user.email,i=e.userSettingsResource;return t.resourceFetching&&!i.isFetching&&(n.email=null!=o?o:"",n.resourceFetching=i.isFetching),t.resourceFetching!==i.isFetching&&(n.resourceFetching=i.isFetching),n}}],(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.acceptAllCookiesOnMount,n=e.logContextEvent,o=e.openCookieSettingsOnMount;n({event_type:13,view_type:7,view_parameter:3669}),t&&this.handleAcceptAllCookies(),o&&n({event_type:9065,view_type:7}),this.handleManageAccountToast()}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.i18n,s=n.userSettingsResource,a=n.enableCookieSettingsSection,r=n.user,_=this.state,p=_.darkModeEnabled,m=_.email,P=_.oldPassword,x=_.newPassword,b=_.retypeNewPassword,w=_.savedSettingName,A=_.errorMessageOldPassword,S=_.errorMessageNewPassword,z=_.errorMessageRetypePassword,j=_.isPasswordEditingMode,E=_.isDeactivateModalShown,C=_.isDeactivateConfirmationShown,D=_.isCloseConfirmationShown,T=_.isConversionUnavailableModalShown,O=_.isUnlinkModalShown,L=_.isSpinnerShown,M=_.isToastShown,R=_.isToolTipShown,U=_.toolTipErrorText,I=_.showCookieSettings;if(!r||s.isFetching)return(0,c.jsx)(h.Z,{});var Z=r.is_partner,F=r.partner&&r.partner.is_linked_business,N=this.state.ownerEmail||(null===(e=r.partner)||void 0===e?void 0:e.biz_ownership_email),H=r.owners&&r.owners.length>0?r.owners[0]:{},G=(0,l.nk)(this.props.i18n._('This linked account is managed by {{ parentName }}. Switch to that account to manage this email and password.', 'settings.lba.changePassword.disabled', 'Tooltip expaining password can be changed in other account'),{parentName:H.full_name||H.username}).join(""),Y=this.props.i18n._('Convert to a business account', 'editSettingsPage.settings.unlockBusinessTools', 'Settings for business account'),X=this.props.i18n._('Grow your business or brand with tools like ads and analytics. Your content, profile and followers will stay the same.', 'editSettingsPage.settings.convertToBusinessDesc', 'Description of convert to business account option'),W=this.props.i18n._('Create ads and see how Pins perform with a free upgrade', 'editSettingsPage.convertToBusiness.description', 'Description of convert to business settings option'),J=this.props.i18n._('Convert to a personal account', 'editSettingsPage.settings.convertToPersonal', 'Settings for personal account'),K=this.props.i18n._('Stop using business features', 'editSettingsPage.accountConversion.revertToPersonal', 'Description of revert to personal settings option'),Q=this.props.i18n._('Go to convert to personal settings', 'navigation button', 'navigation button'),ee=m&&!r.has_password||j||F;return(0,c.jsxs)(f.default,{hasFixedHeader:!0,children:[(0,c.jsxs)(y.xu,{paddingX:2,children:[(0,c.jsx)(k.FixedHeader,{zIndexForGestaltBug:2,children:(0,c.jsx)(y.xu,{marginEnd:-2,marginStart:-2,children:(0,c.jsx)(g.default,{heading:this.props.i18n._('Account management', 'profile.AccountManagement.PageTopNav.Header', 'navigation button settings page'),legoSettingsEnabled:!0,previousUrl:"/settings/",shouldUseFallbackUrl:!0})})}),(0,c.jsx)(y.xu,{marginTop:1,marginBottom:8,children:(0,c.jsx)(y.xv,{align:"start",size:"300",color:"subtle",children:i._('Make changes to your email, password and account type. This information is private and won\u2019t show up in your public profile.', 'profile.AccountManagement.description', 'Description for the Account management page')})}),F&&(0,c.jsx)(y.iP,{role:"link",href:"/switch_account",tapStyle:"none",children:(0,c.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:32}},display:"flex",direction:"column",marginBottom:4,marginTop:4,position:"relative",children:[(0,c.jsx)(y.xu,{marginEnd:4,children:(0,c.jsx)(y.X6,{size:"400",children:this.props.i18n._('Email and password', 'profile.Settings.Edit.EmailAndPasword.LBA', 'Field label for the Email and password of the user')})}),(0,c.jsx)(y.xv,{color:"subtle",children:G}),(0,c.jsx)(y.xu,{position:"absolute",right:!0,children:(0,c.jsx)(y.JO,{accessibilityLabel:this.props.i18n._('Go to Switch Account', 'profile.Settings.Edit.EmailAndPassword.LBA.Icon', 'Go to Switch Account Icon on Edit Settings Page for Linked Business Account'),color:"default",icon:"arrow-forward"})})]})}),!F&&(0,c.jsx)(be,{heading:this.props.i18n._('Email', 'profile.Settings.Edit.Email', 'Field label for the Email of the user'),iconAccessibilityLabel:this.props.i18n._('Go to Edit Email', 'profile.Settings.Edit.Email.Icon', 'Edit Email Icon on Edit Settings Page'),text:m,to:"/settings/edit/email"}),j&&(0,c.jsxs)(y.xu,{marginBottom:6,marginTop:3,children:[(0,c.jsx)(y.xu,{marginBottom:1,children:(0,c.jsx)(y.__,{htmlFor:"oldPassword",children:(0,c.jsx)(y.xv,{size:"200",children:this.props.i18n._('Old password', 'Field label', 'Field label')})})}),(0,c.jsx)(y.nv,{errorMessage:A,id:"oldPassword",onBlur:this.handleBlurPassword,onChange:function(e){var n=e.value;return t.setState({oldPassword:n})},placeholder:this.props.i18n._('Type old password', 'Field label', 'Field label'),size:"lg",type:"password",value:P}),(0,c.jsx)(y.xu,{marginBottom:1,marginTop:2,children:(0,c.jsx)(y.__,{htmlFor:"newPassword",children:(0,c.jsx)(y.xv,{size:"200",children:this.props.i18n._('New password', 'Field label', 'Field label')})})}),(0,c.jsx)(y.nv,{errorMessage:S,id:"oldPassword",onBlur:this.handleBlurPassword,onChange:function(e){var n=e.value;return t.setState({newPassword:n})},placeholder:this.props.i18n._('Add', 'Field label', 'Field label'),size:"lg",type:"password",value:x}),(0,c.jsx)(y.xu,{marginBottom:1,marginTop:2,children:(0,c.jsx)(y.__,{htmlFor:"retypeNewPassword",children:(0,c.jsx)(y.xv,{size:"200",children:this.props.i18n._('Retype password', 'Field label', 'Field label')})})}),(0,c.jsx)(y.nv,{errorMessage:z,id:"retypeNewPassword",onBlur:this.handleBlurPassword,onChange:function(e){var n=e.value;return t.setState({retypeNewPassword:n})},placeholder:this.props.i18n._('Add', 'Field label', 'Field label'),size:"lg",type:"password",value:b})]}),!ee&&(0,c.jsx)(be,{heading:this.props.i18n._('Password', 'profile.Settings.Edit.Password', 'Field label for users Password'),to:"/settings/edit/password",iconAccessibilityLabel:this.props.i18n._('Go to Edit Password', 'profile.Settings.Edit.Password.Icon', 'Edit Password Icon on Edit Settings Page'),text:this.props.i18n._('Change password', 'profile.Settings.Edit.Password.Text', 'Edit Password text on Edit Settings Page')}),(0,c.jsx)(o.Fragment,{children:(0,c.jsxs)(y.xu,{display:"flex",direction:"column",marginTop:4,marginBottom:4,children:[(0,c.jsxs)(y.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(y.xu,{flex:"grow",marginEnd:4,children:(0,c.jsx)(y.__,{htmlFor:"darkMode",children:(0,c.jsx)(y.X6,{size:"400",children:this.props.i18n._('Enable night mode', 'Settings toggle for enabling night mode.', 'Settings toggle for enabling night mode.')})})}),(0,c.jsx)(y.rs,{id:"darkMode",onChange:this.handleChangeDarkModeEnabled,switched:p})]}),(0,c.jsx)(y.xu,{flex:"grow",marginTop:2,children:(0,c.jsx)(y.xv,{size:"300",color:"subtle",children:i._('Try this dark theme for late-night browsing', ' - ', ' -- ')})})]})}),a&&(0,c.jsxs)(y.xu,{display:"flex",marginBottom:6,children:[(0,c.jsxs)(y.xu,{children:[(0,c.jsx)(y.X6,{size:"400",children:this.props.i18n._('Cookie Preferences', 'profileSettings.cookiePreferences.title', 'Cookie preferences settings title')}),(0,c.jsx)(y.xu,{marginTop:2,children:(0,c.jsxs)(y.xv,{size:"300",color:"subtle",children:[this.props.i18n._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'profileSettings.cookiePreferences.description', 'Description about why we use cookies')," ",(0,c.jsx)(y.xv,{size:"300",weight:"bold",color:"subtle",children:(0,c.jsx)(y.rU,{target:"blank",rel:"nofollow",display:"inlineBlock",tapStyle:"none",href:B._I,underline:"hover",children:this.props.i18n._('Cookie policy', 'profileSettings.cookiePreferences.cookiePolicyLink', 'Cookie policy link')})})]})})]}),(0,c.jsx)(y.xu,{flex:"none",marginStart:10,children:(0,c.jsx)(y.zx,{onClick:this.toggleShowCookieSettings,size:"lg",text:this.props.i18n._('Edit', 'profileSettings.cookiePreferences.editButton', 'Edit cookies preferences button')})})]}),I&&(0,c.jsx)(u.Z,{name:"SafeSuspense_EditSettingsPage_CookieSettingsModal",children:(0,c.jsx)(v.Z,{children:(0,c.jsx)(Ae,{dismissIcon:"arrow-back",onClose:this.toggleShowCookieSettings})})}),(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(y.xu,{marginBottom:2,marginTop:8,children:(0,c.jsx)(y.xv,{children:i._('Account changes', 'webapp.app.profile.Settings.Edit.AccountChanges.header', 'Account changes section heading')})}),(0,c.jsx)(o.Fragment,{children:F&&(0,c.jsx)(xe,{heading:this.props.i18n._('Unlink account', 'settings.lba.unlink.title', 'Button text for unlinking a business account from a personal account'),description:this.props.i18n._('Unlink your business account from your personal account', 'settings.lba.unlink.description', 'Description for unlinking a business feature'),iconAccessibilityLabel:this.props.i18n._('Unlink account', 'settings.lba.unlink.ctaText', 'Button text for unlinking a business account from a personal account'),onTap:this.handleUnlinkBusiness})}),!Z&&(0,c.jsx)(xe,{description:X,heading:Y,iconAccessibilityLabel:W,onTap:this.handleConvertToBusiness,marginTop:0}),Z&&(0,c.jsx)(xe,{description:K,heading:J,iconAccessibilityLabel:Q,onTap:this.handleConvertToPersonal,marginTop:0}),!F&&(0,c.jsx)(xe,{description:this.props.i18n._('Deactivate to temporarily hide your Pins and profile', 'profile.Settings.Edit.DeactivateAccount.Description', 'Deactivate account description on Edit Settings Page'),heading:this.props.i18n._('Deactivate account', 'profile.Settings.Edit.DeactivateAccount', 'Deactivate account label on Edit Settings Page'),iconAccessibilityLabel:this.props.i18n._('Deactivate account icon', 'profile.Settings.Edit.DeactivateAccount.Icon', 'DeactivateAccount Icon on Edit Settings Page'),onTap:this.handleShowDeactivateModal,ref:this.getDeactivateRef})]}),(0,c.jsx)(xe,{description:this.props.i18n._('Delete your account and account data', 'profile.Settings.Edit.DeleteAccountAndData.Description', 'Delete account and data description on Edit Settings Page'),heading:this.props.i18n._('Delete your data and account', 'profile.Settings.Edit.DeleteDataAndAccount', 'Delete data and account label on Edit Settings Page'),iconAccessibilityLabel:this.props.i18n._('Delete account icon', 'profile.Settings.Edit.DeleteAccount.Icon', 'Delete Account Icon on Edit Settings Page'),onTap:this.handleDeleteAccount}),E?(0,c.jsx)(d,{email:m,handleDeactivate:this.handleDeactivate,onDismiss:this.handleHideDeactivateModal,isOpen:E}):null,T&&this.state.conversionUnavailableReason?(0,c.jsx)(ie,{isOpen:T,onDismiss:this.handleHideConversionUnavailableModal,conversionUnavailableReason:this.state.conversionUnavailableReason}):null,O&&N?(0,c.jsx)($,{isOpen:O,onDismiss:this.handleCloseUnlinkModal,onResendEmail:this.handleResendUnlinkEmail,ownerEmail:N}):null,R?(0,c.jsx)(y.J2,{anchor:this.toolTipAnchor,color:"darkGray",idealDirection:"down",onDismiss:this.handleHideErrorTooltip,shouldFocus:!1,size:"md",children:(0,c.jsx)(y.xu,{column:12,padding:3,children:(0,c.jsx)(y.xv,{color:"inverse",weight:"bold",children:U})})}):null]}),L?(0,c.jsx)(h.Z,{}):null,M?(0,c.jsx)(V.Z,{email:"email"===w.toLowerCase()?this.oldEmail:"",savedSettingName:w}):null,(C||D)&&(0,c.jsx)(q,{isOpen:!0,onDismiss:this.handleDismissDeactivateCloseConfirmation,message:C?(0,l.nk)(i._('You\u2019re welcome back any time\u2015just log in with {{ email }} and your password.', 'EditSettingsPage.DeactivateConfirmation', 'Message to user after deactivating, email: the user email'),{email:m}).join(""):i._('To finish deleting your account, check your inbox for the confirmation email we just sent you.', ' - ', ' -- '),heading:C?i._('Sorry to see you go!', ' - ', ' -- '):i._('Check your inbox', ' - ', ' -- ')})]})}}])&&pe(t.prototype,n),i&&pe(t,i),r}(o.PureComponent);function ke(e){var t,n=(0,r.ZP)(),o=(0,ee.Tt)(),s=null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"",a=(0,w.Z)({name:"ApiResource",options:{url:"/v3/partners/me/deactivation/permission/"}}),l=(0,w.Z)({name:"UserSettingsResource"});(0,w.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:s}});var d=(0,A.Z)().isAuth,u=(0,re.F9)().showToast,h=(0,M.useLocation)(),p=(0,j.mB)(h.search),f=!!("accept-all-cookies"in p),g=!!("manage-cookies"in p),m=!(null!=o&&o.is_partner||null==o||!o.businesses)&&0===o.businesses.length,v=(0,O.B)(),y=v.country,P=v.countryFromHostName,x=v.countryFromIp,b=(0,i.useDispatch)(),k=(0,M.useHistory)(),C=(0,K.Z)(),D=!1;return(_.Z.includes(y)||_.Z.includes(P)||_.Z.includes(x)||f||g)&&(D=!0),h.pathname.includes("/settings/privacy")?(0,c.jsx)(X,{}):o?d?(0,c.jsx)(ze,de(de({},e),{},{acceptAllCookiesOnMount:f,allowAllCookies:function(e){return b(S(e))},clearRecentSearches:function(e,t,n){return b((0,z.lU)(e,t,n))},deactivateUser:function(e,t,n){return b((0,Q.b8)(e,t,n))},enableCookieSettingsSection:D,history:k,i18n:n,location:h,logContextEvent:C,openCookieSettingsOnMount:g,partnerPermissions:a,savePassword:function(){return b(E.Cp.apply(void 0,arguments))},showToast:u,showUnlockBusinessTools:m,user:o,userId:s,userSettingsResource:l})):(0,c.jsx)(M.Redirect,{to:"/"}):null}},884183:function(e,t,n){n.d(t,{By:function(){return l},IT:function(){return r},N6:function(){return i},br:function(){return s},lU:function(){return a}});var o=n(214494),i=function(e,t){return{type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}},s=function(e,t){return{type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}},a=function(e,t,n){return function(i){o.Z.create("ApiResource",{url:"/v3/search/recent/",data:{vertical:e}}).callDelete().then(t,n),i("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})}},r=function(e,t,n,i){return function(s){o.Z.create("ApiResource",{url:"/v3/search/recent/",data:{query:e,vertical:t}}).callDelete().then(n,i),s("PERSONAL"===t?function(e){return{type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}}(e):function(e){return{type:"CLEAR_RECENT_SEARCH",payload:{query:e}}}(e))}},l=function(e){return function(t){t(function(e){return{type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}}(e))}}},90326:function(e,t,n){n.d(t,{Ge:function(){return d},JS:function(){return r},OF:function(){return y},P_:function(){return l},Q_:function(){return h},b8:function(){return p},eR:function(){return v},h2:function(){return u},h6:function(){return _}});var o=n(735422),i=n(214494);function s(e,t,n,o,i,s,a){try{var r=e[s](a),l=r.value}catch(c){return void n(c)}r.done?t(l):Promise.resolve(l).then(o,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){s(a,o,i,r,l,"next",e)}function l(e){s(a,o,i,r,l,"throw",e)}r(void 0)}))}}function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var l=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},c=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},d=function(e){var t=e.id,n=e.orbacSubjectId,o=e.blockSource,s=e.blockContext;return function(e){return e(c(t,!0)),i.Z.create("UserBlockResource",{blocked_user_id:t,orbac_subject_id:n,block_source:o,block_context:s}).callCreate().catch((function(){return e(c(t,!1))}))}},u=function(e){return function(t){return t(c(e,!1)),i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((function(){return t(c(e,!0))}))}};function _(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var h=function(e,t){return function(){return i.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},p=function(e,t,n){return function(s,a){i.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((function(){n({event_type:48,object_id_str:a().session.userId}),e(),(0,o.Dm)()}),t)}};var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"150x150";return e&&"https://i.pinimg.com/".concat(t,"/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},g=function(){var e=a(regeneratorRuntime.mark((function e(t,n,o){var s,r,l,c,d,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.create("VIPResource",{upload_ids:[t]}).callGet();case 2:r=e.sent,null!==(s=r.resource_response)&&void 0!==s&&s.data[t]?(l=r.resource_response.data[t],c=l.status,d=l.signature,"processing"===c||"registered"===c?setTimeout(a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t,n,o);case 1:case"end":return e.stop()}}),e)}))),5e3):"succeeded"===c?(u=f(d),n(u)):o()):o();case 4:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),m=function(e){return new Promise((function(t,n){var o,s,a,r,l;o=e,s="pinimage",a=function(){},r=function(e){t(e)},l=function(e){n(e)},(new FormData).append("img",o),i.Z.create("VIPResource",{type:s}).callCreate().then((function(e){var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){var n=e.resource_response.data,i=n.upload_id,s=n.upload_url,c=n.upload_parameters,d=new XMLHttpRequest;d.open("POST",s,!0),d.onload=function(){var e;(e=d.status)>=200&&e<400?(a(100),g(i,r,l)):l()},d.upload.onprogress=function(e){var t=Math.round(100*e.loaded/e.total);a(t)};var u=new FormData;for(var _ in c)u.append(_,c[_]);u.append("file",o),d.send(u)}}),(function(){l()}))}))},v=function(e){return new Promise((function(t,n){"string"==typeof e?e.startsWith("data")&&m(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=e.split(";"),o=n[0].split(":")[1],i=n[1].split(",")[1],s=atob(i),a=[],r=0;r<s.length;r+=t){for(var l=s.slice(r,r+t),c=new Array(l.length),d=0;d<l.length;d+=1)c[d]=l.charCodeAt(d);var u=new Uint8Array(c);a.push(u)}return new Blob(a,{type:o})}(e)).then((function(e){return t(e)})):n("Invalid Image")}))},y=function(e){return function(){return i.Z.create("ApiResource",{url:"/v3/register/exists/",data:{email:e}}).callGet()}}},499027:function(e,t,n){var o=n(908390),i=n(515198);t.Z=function(e){var t=e.children,n=e.id,s=e.name,a=e.onChange,r=e.switched,l=e.disabled,c=e.marginBottom;return(0,i.jsxs)(o.xu,{alignItems:"center",marginBottom:c||2,marginStart:-1,marginEnd:-1,marginTop:2,display:"flex",children:[(0,i.jsx)(o.xu,{paddingX:1,children:(0,i.jsx)(o.XZ,{checked:r,id:n,name:s,onChange:a,disabled:l})}),(0,i.jsx)(o.xu,{paddingX:1,dangerouslySetInlineStyle:{__style:{wordBreak:"break-word"}},children:(0,i.jsx)(o.__,{htmlFor:n,children:(0,i.jsx)(o.xv,{children:t})})})]})}},584622:function(e,t,n){n.d(t,{Z:function(){return c}});var o=n(499027),i=n(207108),s=n(706811),a=n(784590),r=n(908390),l=n(515198);function c(e){var t=e.handleChange,n=e.settings,c=e.platform,d=(0,a.Z)({name:"ApiResource",options:{url:"/v3/users/privacy_data_settings/",data:{platform:c}}}),u=d.isLoaded,_=d.data;if(!u)return null;var h=function(e){var t=e.name in n?n[e.name]:e.value;return e.is_inverted_value?!t:t};return null==_?void 0:_.map((function(e){return(0,l.jsxs)(r.xu,{children:["desktop"===c?(0,l.jsx)(r.xu,{marginTop:-2,children:(0,l.jsx)(i.Z,{accessibilityLevel:2,title:e.title})}):(0,l.jsx)(r.xu,{marginBottom:4,children:(0,l.jsx)(r.xv,{children:e.title})}),e.description.map((function(e,t){return(0,l.jsx)(r.xu,{marginTop:2,marginBottom:4,children:(0,l.jsx)(r.xv,{children:e})},t)})),e.settings_field.map((function(e){return"desktop"===c?function(e){switch(e.setting_type){case"checkbox":return(0,l.jsxs)(o.Z,{switched:h(e),id:e.id,name:e.name,onChange:function(n){var o=n.checked;t(e.name,e.is_inverted_value?!o:o)},marginBottom:4,children:[(0,l.jsx)(r.xv,{inline:!0,children:e.label_desktop?e.label_desktop+" ":""}),(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(r.rU,{display:"inlineBlock",href:e.link_url,target:"blank",underline:"hover",children:e.link_text})})]},e.id);default:return null}}(e):function(e){switch(e.setting_type){case"toggles":return(0,l.jsx)(s.Z,{heading:e.label_mobile||"",href:e.link_url,id:e.id,linkText:e.link_text,text:e.header_mobile?e.header_mobile+" ":"",children:(0,l.jsx)(r.rs,{id:e.id,onChange:function(n){var o=n.value;t(e.name,e.is_inverted_value?!o:o)},name:e.name,switched:h(e)})},e.id);default:return null}}(e)}))]},e.id)}))}},706811:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(908390),i=n(515198);function s(e){var t=e.children,n=e.heading,s=e.href,a=e.id,r=e.linkText,l=void 0===r?"":r,c=e.marginBottom,d=void 0===c?7:c,u=e.text;return(0,i.jsxs)(o.xu,{display:"flex",justifyContent:"between",marginBottom:d,children:[(0,i.jsxs)(o.xu,{flex:"grow",marginEnd:4,children:[(0,i.jsx)(o.__,{htmlFor:a,children:(0,i.jsx)(o.xv,{weight:"bold",size:"400",children:n})}),(0,i.jsx)(o.xu,{marginTop:2,children:(0,i.jsxs)(o.xv,{size:"300",color:"subtle",children:[u,s&&(0,i.jsx)(o.rU,{target:"blank",rel:"nofollow",display:"inlineBlock",tapStyle:"none",href:s,underline:"hover",children:(0,i.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:l})})]})})]}),t]})}},943280:function(e,t,n){var o=n(908390),i=n(515198);t.Z=function(e){var t=e.heading,n=e.headingAccessibilityLevel,s=void 0===n?3:n,a=e.description,r=e.iconAccessibilityLabel,l=e.onTap,c=e.to,d=function(e){var t=e.children;return l?(0,i.jsx)(o.iP,{onTap:l,children:t}):(0,i.jsx)(o.iP,{role:"link",tapStyle:"none",href:c||"",children:t})};return(0,i.jsx)(d,{children:(0,i.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,i.jsxs)(o.xu,{children:[(0,i.jsx)(o.X6,{accessibilityLevel:s,size:"400",children:t}),a&&(0,i.jsx)(o.xu,{marginTop:2,children:(0,i.jsx)(o.xv,{color:"subtle",children:a})})]}),(0,i.jsx)(o.xu,{paddingY:1,children:(0,i.jsx)(o.JO,{accessibilityLabel:r,color:"default",icon:"arrow-forward"})})]})})}},540477:function(e,t,n){n.d(t,{Z:function(){return a}});var o=n(121151),i=n(908390),s=n(515198);function a(e){var t=e.isOpen,n=e.onDismiss,a=e.type,r=e.accessibilityModalLabel,l=e.heading,c=e.headingMarginTop,d=e.description,u=e.hasMultiLineDescription,_=e.primaryBtnParams,h=e.secondaryBtnParams,p=function(e){return e?(0,s.jsx)(i.xu,{marginBottom:3,children:(0,s.jsx)(i.xv,{align:"center",children:e})}):null};return(0,s.jsx)(o.ZP,{accessibilityModalLabel:r||"",mobileHideCloseIcon:!0,isOpen:t,onDismiss:n,type:a,children:(0,s.jsxs)(i.xu,{padding:4,children:[(0,s.jsx)(i.xu,{marginBottom:d?3:8,marginTop:c||0,children:(0,s.jsx)(i.X6,{size:"500",accessibilityLevel:1,align:"center",children:l})}),u&&Array.isArray(d)?d.map(p):p(d),(0,s.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,s.jsx)(i.xu,{padding:1,flex:"grow",children:(0,s.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:_.text,text:_.text,size:"lg",color:_.color,onClick:_.onClick})}),h?(0,s.jsx)(i.xu,{padding:1,flex:"grow",children:(0,s.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:h.text,text:h.text,size:"lg",color:h.color,onClick:h.onClick})}):null]})]})})}},464228:function(e,t,n){n.d(t,{P:function(){return s}});var o=n(76911),i=(0,o.createContext)();function s(){return(0,o.useContext)(i)}t.Z=i}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/69715-206c5ac043719acc.js.map