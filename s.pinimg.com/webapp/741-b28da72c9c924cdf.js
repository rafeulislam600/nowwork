"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[741],{845772:function(e,t,o){var r=o(717615),n=o(19121),i=o(231947);t.Z=function(){var e=(0,n.Z)(),t=(0,r.Z)();return(0,i.lJ)(e,t)}},774763:function(e,t,o){o.d(t,{Z:function(){return ee}});var r=o(76911),n=o(506979),i=o(121151),a=o(898781),l=o(349700),s=o(780280),c=o(908390),u=o(515198);function d(e){var t=e.boardName,o=e.collaboratorName,r=e.onCancelTransferRequest,n=e.onDismiss,d=(0,a.ZP)(),f=(0,s.B)();return(0,u.jsx)(i.ZP,{accessibilityModalLabel:d._('Board ownership transfer modal', 'boardCollabOwnershipTransferModal.accessibilityModalLabel', 'Accessibility label on board ownership transfer modal'),heading:(0,u.jsxs)(c.xu,{paddingY:8,position:"relative",children:[(0,u.jsx)(c.X6,{align:"center",size:"500",children:d._('Collaborators', 'boardCollabOwnershipTransferModal.heading', 'Heading for board ownership transfer modal')}),(0,u.jsx)(c.xu,{position:"absolute",top:!0,left:f.isRTL,right:!f.isRTL,paddingY:8,paddingX:6,children:(0,u.jsx)(c.hU,{accessibilityLabel:d._('Close', 'boardCollabOwnershipTransferModal.iconAccessibilityLabel', 'Accessibility label on cancel icon button'),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})})]}),footer:(0,u.jsxs)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsx)(c.iP,{fullWidth:!1,onTap:r,children:(0,u.jsx)(c.xv,{weight:"bold",children:d._('Cancel request', 'boardCollabOwnershipTransferModal.cancelRequest', 'Option to cancel board ownership transfer request')})}),(0,u.jsx)(c.zx,{color:"red",onClick:n,size:"lg",text:d._('Got it', 'boardCollabOwnershipTransferModal.confirmationButton', 'Button confirming board ownership transfer action')})]}),onDismiss:n,children:(0,u.jsx)(c.xu,{paddingX:8,children:(0,u.jsx)(c.xv,{align:"center",children:(0,l.nk)(d._('We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins\u2014but you won\u2019t be able to manage collaborators, change the name, cover photo, or description of this board.', 'boardCollabOwnershipTransferModal.descriptionText', 'Explanation of transfer request and potential permissions changes'),{collaboratorName:o,boardName:(0,u.jsx)(c.xv,{inline:!0,weight:"bold",children:t})})})})})}var f=o(150963),_=o(781165);function p(e,t,o,r,n,i,a){try{var l=e[i](a),s=l.value}catch(c){return void o(c)}l.done?t(s):Promise.resolve(s).then(r,n)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var r,n,i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){l=!0,n=s}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function v(e){var t=e.boardId,o=e.collaboratorId,i=e.collaboratorName,l=e.isAcceptedCollaborator,s=e.onDelete,b=(0,n.useDispatch)(),v=(0,a.ZP)(),y=(0,r.useRef)(null),m=h((0,r.useState)(!1),2),g=m[0],x=m[1],j=h((0,r.useState)(!1),2),w=j[0],P=j[1],O=(0,f.Z)(),A=O.boardName,z=O.pendingOwnershipTransfer,C=z===o,k=!z,S=function(){b((0,_.xx)(t,o)),x(!1)},T=function(){var e,r=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,b((0,_.Cf)(t,o));case 3:P(!0);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(r,n){var i=e.apply(t,o);function a(e){p(i,r,n,a,l,"next",e)}function l(e){p(i,r,n,a,l,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),I=function(e){var t=e.i18n,o=e.isAcceptedCollaborator,r=e.onCancelTransferRequest,n=e.onDelete,i=e.onRequestTransfer,a=e.showCancelRequestOption,l=e.showRequestTransferOption,s=[{onSelect:n,option:{value:"Remove from board",label:t._('Remove from board', 'getCollaboratorDropdownItems.removeText', 'Text for option to remove collaborator from board')}}];return o&&(a&&s.push({onSelect:r,option:{value:"Cancel request",label:t._('Cancel request', 'getCollaboratorDropdownItems.cancelText', 'Text for option to cancel ownership transfer request')}}),l&&s.push({onSelect:i,option:{value:"Request as board owner",label:t._('Request as board owner', 'getCollaboratorDropdownItems.requestText', 'Text for option to request ownership transfer')}})),s}({i18n:v,isAcceptedCollaborator:l,onCancelTransferRequest:S,onDelete:s,onRequestTransfer:function(){T()},showCancelRequestOption:C,showRequestTransferOption:k});return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(c.kC,{justifyContent:"center",children:[(0,u.jsx)(c.hU,{accessibilityLabel:v._('Collaborator options', 'boardCollabInviteOverflowButton.accessibilityLabel', 'Accessibility label for overflow icon button'),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:function(){return x(!g)},ref:y,selected:g,size:"md"}),g&&(0,u.jsx)(c.Lt,{anchor:y.current,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:function(){return x(!1)},zIndex:new c.Ry(1e3),children:(0,u.jsx)(c.Lt.Section,{label:v._('Options', 'boardCollabInviteOverflowButton.dropdownSection', 'Options section in dropdown menu'),children:I.map((function(e){return(0,u.jsx)(c.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value)}))})})]}),w&&(0,u.jsx)(d,{boardName:A,collaboratorName:i,onCancelTransferRequest:function(){S(),P(!1)},onDismiss:function(){P(!1)}})]})}var y=o(29459),m=o(985913),g=o(19121),x=o(773285);function j(e){var t=e.actionsDisabled,o=e.invite,r=e.invitedUser,n=e.isDim,i=e.onApprove,l=e.onDelete,s=(0,a.ZP)(),d=(0,g.Z)(),_=o.access,p=o.board,h=o.status,b=o.invited_by_user,j=(0,f.Z)(),w=j.pendingOwnershipTransfer,P=j.viewerIsOwner,O=d.isAuth&&r.id===d.id,A=d.isAuth&&b.id===d.id,z=r.id===b.id,C="accepted"===h,k=_.includes("approve"),S=_.includes("delete"),T=s._('Approve', '[button] approve another pinner\'s request to join the board as a collaborator', '[button] approve another pinner\'s request to join the board as a collaborator'),I=function(e,t,o){return e?s._('Leave', '[button] for a collaborator to leave a group board', '[button] for a collaborator to leave a group board'):t&&!o?s._('Decline', '[button] decline another pinner\'s request to join board as a collaborator', '[button] decline another pinner\'s request to join board as a collaborator'):s._('Remove', '[button] remove a collaborator from the board]', '[button] remove a collaborator from the board]')}(O,z,C),R=S&&!k,D=S&&k,q="/".concat(r.username,"/"),B=(0,x.F)().checkExperiment,E=P&&B("web_board_ownership_transfer").anyEnabled,L=E?(0,u.jsx)(v,{boardId:p.id,collaboratorId:r.id,collaboratorName:r.full_name,onDelete:l||function(){},isAcceptedCollaborator:C}):(0,u.jsx)(c.zx,{disabled:t,onClick:l,text:I,size:"lg"}),M=w===r.id,Z=E&&(void 0!==n?n:!C);return(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(y.Z,{imageUrl:r.image_medium_url||"",name:r.full_name,title:r.full_name,subtitle:function(e,t,r,n,i){var a,l=o.invited_by_user.full_name;return a=t?s._('Invitation pending', 'boardCollabInviteCell.pendingInvitationText', 'Subtext for collaborator with pending invitation'):r?s._('That\'s you', 'subtext for current user who requested to join this board', 'subtext for current user who requested to join this board'):n?s._('Invited by you', 'subtext for a pending collaborator who was invited by the current viewer', 'subtext for a pending collaborator who was invited by the current viewer'):i?s._('Requested to join', 'The subtext that identifies a pending collaborator has personally requested to join the board', 'The subtext that identifies a pending collaborator has personally requested to join the board'):(0,m.Z)(s._('Invited by {{ user_full_name }}', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board'),{user_full_name:l}),e&&(a=a.concat(s._(' \xB7 Ownership pending', 'boardCollabInviteCell.pendingOwnershipText', 'Additional subtext for collaborator who has a pending board ownership transfer invitation'))),a}(M,Z,O,A,z),linkURL:q,isDim:!E&&(void 0!==n?n:!C),accessory:R&&L}),D&&(0,u.jsxs)(c.xu,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[(0,u.jsx)(c.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,u.jsx)(c.zx,{fullWidth:!0,disabled:t,onClick:l,text:I,size:"lg"})}),(0,u.jsx)(c.xu,{paddingX:1,flex:"grow",width:"50%",children:(0,u.jsx)(c.zx,{fullWidth:!0,color:"red",disabled:t,onClick:i,text:T,size:"lg"})})]})]})}var w=o(499128),P=o(717615),O=o(231947),A=o(977558);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?C(Object(o),!0).forEach((function(t){E(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=B(e);if(t){var n=B(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return D(this,o)}}function D(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function L(e){var t=(0,a.ZP)(),o=e.onCancel,r=e.onRemove,n=e.useGestaltModal,l=t._('Are you sure you want to leave this group board and remove it from your profile?', ' - ', ' -- '),s=n?c.u_:i.ZP;return(0,u.jsx)(s,{accessibilityModalLabel:t._('Leave board?', ' - ', ' -- '),heading:t._('Leave board?', ' - ', ' -- '),onDismiss:o,size:"sm",footer:(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.zx,{onClick:o,text:t._('Cancel', ' - ', ' -- ')})}),(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.zx,{color:"red",onClick:r,text:t._('Leave', ' - ', ' -- ')})})]}),children:(0,u.jsx)(c.xu,{padding:5,children:(0,u.jsx)(c.xv,{children:l})})})}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(s,e);var t,o,n,a=R(s);function s(){var e;S(this,s);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return E(q(e=a.call.apply(a,[this].concat(o))),"state",{shouldBlock:!1}),e}return t=s,(o=[{key:"getBlockDescription",value:function(e,t){return"declineRequest"===e?t?(0,l.nk)(this.props.i18n._('This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.', 'decline another pinner\'s request to join board as a collaborator and block them', 'decline another pinner\'s request to join board as a collaborator and block them'),{invited_user_first_name:t}):this.props.i18n._('This will decline this person from joining this board and block them from subsequent collaboration requests.', 'message that explains consequences of declining a request to join board as a collaborator', 'message that explains consequences of declining a request to join board as a collaborator'):t?(0,l.nk)(this.props.i18n._('This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins.', ' - ', ' -- '),{invited_user_first_name:t}):this.props.i18n._('This will remove this person, people they invited, and all their Pins.', 'message that explains consequences of removing a collaborator', 'message that explains consequences of removing a collaborator')}},{key:"render",value:function(){var e=this,t=this.props,o=t.removeType,n=t.firstName,a=t.fullName,s=t.onCancel,d=t.onRemove,f=t.onRemoveAndBlock,_=t.useGestaltModal,p="declineRequest"===o?(0,l.nk)(this.props.i18n._('Decline {{ invited_user_name }}?', '[button] to decline a pinner\'s request to join a board as a collaborator', '[button] to decline a pinner\'s request to join a board as a collaborator'),{invited_user_name:a}).join(""):(0,l.nk)(this.props.i18n._('Remove {{ invited_user_name }}?', '[button] to remove a pinner as a collaborator from a group board', '[button] to remove a pinner as a collaborator from a group board'),{invited_user_name:a}).join(""),h=this.props.i18n._('This will keep them from saving Pins to this board. You can also:', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.'),b=this.getBlockDescription(o,n),v=this.state.shouldBlock?this.props.i18n._('Block', 'block another pinner after denying their request to collaborate on a board', 'block another pinner after denying their request to collaborate on a board'):this.props.i18n._('Remove', 'decline another pinner\'s request to collaborate on a board', 'decline another pinner\'s request to collaborate on a board'),y=(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.xu,{padding:5,children:(0,u.jsx)(c.xv,{children:h})}),(0,u.jsx)(c.iz,{}),(0,u.jsxs)(c.xu,{padding:5,display:"flex",children:[(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:function(){return e.setState((function(e){return{shouldBlock:!e.shouldBlock}}))}})}),(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsxs)(c.__,{htmlFor:"banUser",children:[(0,u.jsx)(c.xv,{weight:"bold",children:(0,l.nk)(this.props.i18n._('Block {{ name }}', ' - ', ' -- '),{name:n||""})}),(0,u.jsx)(c.xv,{size:"200",children:b})]})})]})]}),m=_?c.u_:i.ZP;return(0,u.jsx)(m,{accessibilityModalLabel:p,heading:p,onDismiss:s,size:"sm",footer:(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.zx,{onClick:s,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.zx,{color:"red",onClick:this.state.shouldBlock?f:d,text:v})})]}),children:y})}}])&&T(t.prototype,o),n&&T(t,n),s}(r.Component);function Z(e){var t=(0,a.ZP)();return(0,u.jsx)(M,k(k({},e),{},{i18n:t}))}var U=o(343341);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function X(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?F(Object(o),!0).forEach((function(t){$(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=V(e);if(t){var n=V(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return W(this,o)}}function W(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(i,e);var t,o,r,n=J(i);function i(){var e;H(this,i);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return $(Y(e=n.call.apply(n,[this].concat(o))),"state",{currentModal:null,loading:!1}),$(Y(e),"showRemoveSuccessToast",(function(){var t=e.props.toastManagerContext,o=e.props.i18n._('Collaborator removed', 'BoardCollabInviteCellContainer.toast', 'Toast for removing a collaborator from a board');t.showOneToast((function(e){var t=e.hideToast;return(0,u.jsx)(w.ZP,{duration:3e3,onHide:t,text:o})}))})),$(Y(e),"onDelete",(function(){var t=e.props.onModalOpen;t&&t(),e.setState({currentModal:"delete"})})),$(Y(e),"onApprove",(function(){var t=e.props,o=t.approveBoardCollabInvite,r=t.onInviteDidUpdate;e.setState({loading:!0}),e.props.approveBoardCollabInviteGraphQL?e.props.approveBoardCollabInviteGraphQL(e.props.graphQLParams.boardId,e.props.graphQLParams.invitedUserId):o().then(r).finally((function(){e.setState({loading:!1})}))})),$(Y(e),"deleteBoardInvite",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=e.props,r=o.deleteBoardCollabInvite,n=o.onBoardLeave,i=o.onInviteDidUpdate,a=o.orbacSubjectId,l=e.isViewerInvitedUser;e.setState({currentModal:null,loading:!0}),r(l,t,a).then((function(){i(),e.showRemoveSuccessToast(),l&&n()})).catch((function(){})).finally((function(){e.setState({loading:!1})}))})),$(Y(e),"handleDeleteBoardInvite",(function(){e.deleteBoardInvite(!1)})),$(Y(e),"handleDeleteBoardInviteAndBan",(function(){e.deleteBoardInvite(!0)})),$(Y(e),"handleHideModal",(function(){e.setState({currentModal:null})})),e}return t=i,(o=[{key:"isViewerInvitedUser",get:function(){var e=this.props,t=e.viewer,o=e.invitedUser;return t.isAuth&&t.id===o.id}},{key:"isRequestToJoin",get:function(){var e=this.props,t=e.invitedUser,o=e.invite.invited_by_user;return t.id===o.id}},{key:"renderCurrentModal",value:function(){var e=this.props,t=e.invitedUser,o=e.useGestaltModal,r=void 0!==o&&o;return"delete"===this.state.currentModal?this.isViewerInvitedUser?(0,u.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:A.fe+1}},children:(0,u.jsx)(L,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:r})}):(0,u.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:A.fe+1}},children:(0,u.jsx)(Z,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:t.first_name,fullName:t.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:r})}):null}},{key:"render",value:function(){var e=this.props,t=e.invite,o=e.invitedUser,r=e.isDim,n=this.state.loading;return(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(j,{invite:t,invitedUser:o,isDim:r&&"accepted"!==t.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}])&&G(t.prototype,o),r&&G(t,r),i}(r.Component);function ee(e){var t=e.invite,o=e.invitedUser.id,r=e.invite.board.id,i=(0,a.ZP)(),l=(0,n.useDispatch)(),s=(0,g.Z)(),c=(0,P.Z)(),d=(0,x.F)().checkExperiment,f=d("web_m10n_business_access_orbac_ga").anyEnabled?(0,O.lJ)(s,c):void 0,p=d("graphql_migration_board_sgrowth").anyEnabled,h=(0,_.h6)(),b={boardId:r,invitedUserId:o},v=(0,_.yC)();return(0,u.jsx)(K,X(X({},e),{},{approveBoardCollabInvite:function(){return l((0,_.q1)(r,o))},approveBoardCollabInviteGraphQL:p?h:void 0,graphQLParams:b,deleteBoardCollabInvite:function(e,o){return l(p?v(t,e,o):(0,_.Jn)(t,e,o,f))},i18n:i,toastManagerContext:(0,U.F9)(),viewer:(0,g.Z)(),orbacSubjectId:f}))}},741:function(e,t,o){o.d(t,{Z:function(){return k}});var r=o(76911),n=o(774763),i=o(147836),a=o(898781),l=o(908390),s=o(515198);function c(e){var t=e.fetchMore,o=e.invites,r=e.isAtEnd,n=e.isFetching,c=e.onBoardLeave,u=e.refreshData,d=e.renderInvite,f=e.scroll,_=(0,a.ZP)();return(0,s.jsxs)(l.xu,{children:[f&&(0,s.jsx)(i.Z,{scrollBuffer:3*f.container.clientHeight,scrollHeight:f.container.scrollHeight,scrollTop:f.top,isAtEnd:r,isFetching:n,fetchMore:t}),o.map((function(e,t){return e&&e.invited_user&&e.invited_user.id?(0,s.jsx)(l.xu,{children:d(e,c,u)},t):null})),n&&!r&&(0,s.jsx)(l.$j,{accessibilityLabel:_._('loading board invites', 'accessibility label for board collaborator invites loading spinner', 'accessibility label for board collaborator invites loading spinner'),show:!0})]})}var u=o(29459),d=o(425480),f=o(150963),_=o(845772),p=o(784590),h=o(349700),b=o(773285);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){z(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=A(e);if(t){var n=A(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return P(this,o)}}function P(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(f,e);var t,o,i,a=w(f);function f(){var e;g(this,f);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return z(O(e=a.call.apply(a,[this].concat(o))),"handleInvitesDidUpdate",(function(){var t=e.props,o=t.invitesPendingApproval,r=t.invites;o.refresh(),r.refresh()})),e}return t=f,(o=[{key:"shouldComponentUpdate",value:function(e){var t=e.invites.data,o=e.pendingOwnershipTransfer,r=this.props,n=r.invites.data,i=r.pendingOwnershipTransfer;return!(n&&i===o)||!!t&&n.length!==t.length}},{key:"render",value:function(){var e,t,o=this,i=this.props,a=i.board,f=i.invites,_=i.invitesPendingApproval,p=i.scrollInfo,b=i.onBoardLeave,v=i.onModalOpen,y=i.pendingOwnershipTransfer,m=i.renderInvite,g=a.owner,x=g.full_name,j=g.image_medium_url,w=g.username,P=null===(e=(f.data||[]).find((function(e){var t;return(null===(t=e.invited_user)||void 0===t?void 0:t.id)===y})))||void 0===e||null===(t=e.invited_user)||void 0===t?void 0:t.full_name,O=y&&P?(0,h.nk)(this.props.i18n._('Requested {{ collaboratorName }} to change to board owner', 'boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle', 'Subtext for an owner of board who has sent an ownership transfer request'),{collaboratorName:P}).join(""):this.props.i18n._('Owner of this board', 'boardInviteSheet.CollaboratorList.boardOwner.subtitle', 'The subtext that identifies the owner of a board');return(0,s.jsx)(r.Fragment,{children:f.isLoaded||_.isLoaded?(0,s.jsx)(d.Z,{fetchMore:f.fetchMore,children:function(e){var t=e.onScroll,r=e.setRef;return(0,s.jsxs)(l.xu,{width:"100%",onScroll:t,ref:r,children:[(0,s.jsx)(c,{fetchMore:_.fetchMore,invites:_.data||[],isAtEnd:_.isAtEnd,isFetching:_.isFetching,onBoardLeave:b,refreshData:o.handleInvitesDidUpdate,scroll:p,renderInvite:m}),(_.data||[]).length>0?(0,s.jsx)(l.xu,{paddingY:3,children:(0,s.jsx)(l.iz,{})}):null,(0,s.jsxs)(l.xu,{paddingY:1,children:[(0,s.jsx)(u.Z,{imageUrl:null!=j?j:"",linkURL:"/".concat(w,"/"),name:null!=x?x:"",subtitle:O,title:null!=x?x:""}),(f.data||[]).map((function(e){return e&&e.invited_user&&e.invited_user.id?(0,s.jsx)(n.Z,{invite:e,invitedUser:e.invited_user,onBoardLeave:b,onModalOpen:v,onInviteDidUpdate:f.refresh},e.invited_user.id):null}))]})]})}}):(0,s.jsx)(l.$j,{show:!0,accessibilityLabel:this.props.i18n._('Loading', 'Loading state for showing board collaborators', 'Loading state for showing board collaborators')})})}}])&&x(t.prototype,o),i&&x(t,i),f}(r.Component);function k(e){var t=(0,a.ZP)(),o=(0,f.Z)().pendingOwnershipTransfer,r=(0,(0,b.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled,n=(0,_.Z)(),i=(0,p.Z)({name:"BoardInvitesResource",options:m({board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1},r&&n?{orbac_subject_id:n}:{})}),l=(0,p.Z)({name:"BoardInvitesResource",options:m({board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1},r&&n?{orbac_subject_id:n}:{})});return(0,s.jsx)(C,m(m({},e),{},{invites:i,invitesPendingApproval:l,i18n:t,pendingOwnershipTransfer:o}))}},29459:function(e,t,o){o.d(t,{Z:function(){return s}});var r=o(76911),n=o(116303),i=o(149230),a=o(908390),l=o(515198);function s(e){var t=e.imageUrl,o=e.name,s=e.title,c=e.subtitle,u=e.accessory,d=e.linkURL,f={__style:{opacity:e.isDim?.5:1}},_=(0,i.Z)({url:null!=d?d:""})?"nofollow":"none";return(0,l.jsx)(r.Fragment,{children:o&&s&&(0,l.jsxs)(a.xu,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[(0,l.jsx)(a.xu,{marginEnd:2,dangerouslySetInlineStyle:f,children:(0,l.jsx)(a.iP,{role:"link",rel:_,href:d||"",rounding:"circle",children:(0,l.jsx)(n.Z,{outline:!0,size:"md",name:o,src:t})})}),(0,l.jsxs)(a.xu,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:f,children:[(0,l.jsx)(a.xv,{color:"default",size:"300",lineClamp:1,weight:"bold",children:(0,l.jsx)(a.rU,{rel:_,href:d||"",children:s})}),(0,l.jsx)(a.xv,{lineClamp:1,size:"100",color:"subtle",children:c})]}),u&&(0,l.jsx)(a.xu,{marginStart:4,children:u})]})})}},150963:function(e,t,o){o.d(t,{k:function(){return c}});var r=o(76911),n=o(425288),i=o(515198),a=(0,n.Z)("BoardOwnershipTransferContext"),l=a.Provider,s=a.useHook;function c(e){var t=e.boardName,o=void 0===t?"":t,n=e.children,a=e.pendingOwnershipTransfer,s=void 0===a?null:a,c=e.viewerIsOwner,u=(0,r.useMemo)((function(){return{boardName:o,pendingOwnershipTransfer:s,viewerIsOwner:c}}),[o,s,c]);return(0,i.jsx)(l,{value:u,children:n})}t.Z=s},147836:function(e,t,o){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=u(e);if(t){var n=u(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return s(this,o)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:function(){return f}});var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,o,r,s=l(u);function u(){var e;n(this,u);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return d(c(e=s.call.apply(s,[this].concat(o))),"check",(function(){var t=e.props,o=t.isAtEnd,r=t.isFetching,n=t.fetchMore,i=t.scrollBuffer,a=t.scrollHeight,l=t.scrollTop;o||r||l+i>a&&n()})),e}return t=u,(o=[{key:"componentDidMount",value:function(){setTimeout(this.check)}},{key:"componentDidUpdate",value:function(){this.check()}},{key:"render",value:function(){return null}}])&&i(t.prototype,o),r&&i(t,r),u}(o(76911).PureComponent)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/741-b28da72c9c924cdf.js.map