(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7835,51798,39395,83634,75970,21093],{166379:function(e){"use strict";var t,n,r,o,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[o],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"ab55ea9f382837bc92cb5dab03686e16868a27912a9e4237e2ddbe7a15540d21",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};i.hash="9c91c46b70b37b163403747442a8c1d4",e.exports=i},380465:function(e){"use strict";var t,n,r,o,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[r],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[o],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"8d8e9da7f5f5830ad00711d5fa1aa68c48b859aac0680cc0e49d58d3c1ccea88",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};i.hash="e485abf49d319ba9c47587981f2a86be",e.exports=i},656177:function(e){"use strict";var t,n,r,o,i,a,c,s,l={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},r={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[i,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,r],kind:"Operation",name:"ShareInviteMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[a,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"30e03e1f3b6dded5c6d93bfecfb50065b254f1307aec34dfa67719890b615b82",metadata:{},name:"ShareInviteMutation",operationKind:"mutation",text:null}};l.hash="c33b898a613c3dc2792113fb7e97b0f5",e.exports=l},850115:function(e){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:function(e){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:function(e){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:function(e){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:function(e){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},686180:function(e,t,n){"use strict";var r=n(983722),o=n(635240),i=n(427014),a=n(172071),c=n(550858),s=n(762752),l=n(735422);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=1,p=3,f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.versionState=d,this.preparingNewVersion=!1}var t,n,f;return t=e,(n=[{key:"checkVersion",value:function(e,t){var n,u,d=this,f=(0,o.Z)(),h=(0,r.Z)(),y=null!=h?h:{},v=y.isAuthenticated,m=y.userAgent,_=m.isMobile,b=m.isTablet,g=v&&!_&&!b;e!==f&&(this.versionState!==p&&((0,i.Z)({appType:null==h?void 0:h.appTypeDetailed,currVersion:(0,o.Z)(),deviceType:g?"desktop":"mobile",eventType:"signal",eventName:"new_version_required",isBot:null!==(n=null==h?void 0:h.isBot)&&void 0!==n&&n,nextVersion:e,originHost:t,stage:null!==(u=null==h?void 0:h.stage)&&void 0!==u?u:"unknown"}),this.versionState=p),e===this.nextVersion||this.preparingNewVersion||(this.preparingNewVersion=!0,g?(0,s.N)().catch((function(){return(0,s.D)("checkVersion")})).finally((function(){d.preparingNewVersion=!1})):((0,l.Ng)().catch((function(){return a.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,l.Dm)()})).finally((function(){a.Z.increment("mweb.new_version.refresh",1),d.preparingNewVersion=!1})),(0,c.Qi)()),this.nextVersion=e))}},{key:"isNewVersionRequired",value:function(){return this.versionState===p}}])&&u(t.prototype,n),f&&u(t,f),e}();t.Z=new f},214494:function(e,t,n){"use strict";n.d(t,{Z:function(){return C},N:function(){return D}});var r=n(686180),o=n(387246),i=n(813171),a=n(718368);var c=n(56641),s=n(124237);var l=n(323716),u=n(643913),d=n(204088),p=n(432300),f=n(172071),h=n(422722),y=n(170815),v=n(584595),m=n(826067),_=n(7789),b=n(966113),g=n(801645),w=n(735422),P=n(176532);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,c,"next",e)}function c(e){x(i,r,o,a,c,"throw",e)}a(void 0)}))}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=!0;window.addEventListener("focus",(function(){return k=!0})),window.addEventListener("blur",(function(){return k=!1}));var R=["ActiveUserResource","ActivateExperimentResource","ContextLogResource","UserRegisterTrackActionResource"],C=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,"abortCallback",null),I(this,"isBackgroundSyncEnabled",!1),this.name=t,this.options=n?A({},n):{},this.isBackgroundSyncEnabled=function(e,t){return(0,w._P)()&&R.includes(e)&&!!t.id}(t,e.initialUser),window)try{window.onunhandledrejection=function(){}}catch(r){}}var t,S,x,E,C;return t=e,S=[{key:"_isUrlShortEnoughForHttpGet",value:function(e,t){return(e+"?"+(0,u.Z)(t)).length<=2e3}},{key:"_isAuthDesktop",value:function(){var t=e.requestContext,n=t.isAuthenticated,r=t.userAgent,o=r.isTablet,i=r.isMobile;return n&&!o&&!i}},{key:"abort",value:function(){this.abortCallback&&(this.abortCallback(),this.abortCallback=null)}},{key:"isCalling",value:function(){return!!this.abortCallback}},{key:"callGet",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.DQ&&(n["X-B3-Flags"]="1");var r=this.options,o=r.logNetworkTimer,i=r.loggerComponentName,a=o?new y.Z:null;return a&&a.start(),this.call("get",e,n).then((function(e){return a&&(a.end(),h.default.logToServer(h.default.SERVER_LOG_TYPE.NETWORK_LOAD,h.default.HTTP_METHOD.POST,{timing:a.getCompletedTime(),component:i||t.name})),e}))}},{key:"callCreate",value:function(e,t){return this.call("create",e,t)}},{key:"callUpdate",value:function(e,t){return this.call("update",e,t)}},{key:"callDelete",value:function(e,t){return this.call("delete",e,t)}},{key:"call",value:(C=j(regeneratorRuntime.mark((function t(n,r,o){var i,a,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return navigator.onLine||this.isBackgroundSyncEnabled||f.Z.increment("resource_factory_not_online",1,{resourceName:this.name}),i=!r||void 0===r.async||r.async,a=r&&r.timeout||null,c=this._call(n,i,a,o),t.prev=4,t.next=7,c;case 7:l=t.sent,this.onResponseSuccess(l),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),t.t0&&19===t.t0.api_error_code&&e.initialUser.is_write_banned?console.error("User is write banned"):r&&r.showError&&s.Z.showError(t.t0.message,null,void 0);case 14:return t.abrupt("return",c);case 15:case"end":return t.stop()}}),t,this,[[4,11]])}))),function(e,t,n){return C.apply(this,arguments)})},{key:"getAjaxParams",value:function(t){var n=t.async,r=t.headers,o=t.method,i=t.timeoutSeconds,a={options:this.options,context:{}},c="/resource/".concat(this.name,"/").concat(o,"/"),s={source_url:(0,m.JJ)(),data:JSON.stringify(a)},l="get"===o&&this._isUrlShortEnoughForHttpGet(c,s);return!l&&this.isBackgroundSyncEnabled&&f.Z.increment("background_sync_request_header",1,{resourceName:this.name}),[{cache:!1,url:c,async:n,data:s,headers:A(A({},(0,d.Z)({experimentHash:e.requestContext.experimentsClient.latestExperimentHashFromServer||"",windowIsInFocus:k})),r),timeout:i||0,type:l?"GET":"POST"},a]}},{key:"_ajax",value:function(t,n){var r=this,c=(0,P.Z)(n),s=c.promise,l=c.abort;this.abortCallback=l;var u=!!(t&&t.options&&t.options.disable_auth_failure_redirect);return new Promise((function(t,c){s.then((function(e){return e.json().then((function(e){return{success:!0,data:e}})).catch((function(e){return{success:!1,error:e}})).then((function(t){return{res:e,parsed:t}}))})).then((function(s){var l=s.res,d=s.parsed;if(r.abortCallback=null,!d.success)return c({message:d.error.message,httpStatus:l.status}),void(r.shouldRedirectToLoginPage(l.status,u,n.url,void 0,r.getLoginState())&&r.redirectToLoginPage());var f,h,y,v,m=(f=d.data,y=f.resource,v=f.resource_response.error,{auxData:(0,o.Z)(f.resource_response),bookmarks:(null==y||null===(h=y.options)||void 0===h?void 0:h.bookmarks)||[a.q],client_context:f.client_context,request_identifier:f.request_identifier,resource_response:{data:f.resource_response.data,error:v?i.Z.fromPlainObject(v,f.resource_response.data):null}});m.originHost=l.headers.get("pinterest-generated-by")||void 0;var _=m.resource_response,b=_.error,g=_.data;if(b)if(r.shouldRedirectToLoginPage(b.http_status,u,n.url,b.api_error_code,r.getLoginState()))r.redirectToLoginPage();else if(401!==b.http_status||r.getLoginState()!==p.Z.LIMITED||"UserSessionResource"===r.name||"CreateExternalInviteResource"===r.name||u){if(401===b.http_status&&2===b.api_error_code&&"/resource/UserSessionResource/delete/"===n.url)return void t(m)}else r.showLimitedLoginPrompt(n.url,b.api_error_code);if(l.ok){if(!b){if(g&&g.redirect_url){var w,P,O,S=g.redirect_url,x=String((null===(w=n.data)||void 0===w?void 0:w.source_url)||"");return x.match(/pin\/.+\/activity\/tried\/.+/)&&(S=x.replace(/\/pin\/.+\/(?=activity\/tried)/,S)),void c({message:null!==(P=null===(O=e.i18n)||void 0===O?void 0:O._("Redirect"," - "," -- "))&&void 0!==P?P:"Redirect",httpStatus:301,redirectUrl:S})}t(m)}}else if(b){var j=b.message,E=b.message_detail,A=b.data,T=b.extra_data,I=b.http_status,k=b.api_error_code;c({message:j,message_detail:E,data:A,extraData:T,httpStatus:I,api_error_code:k})}else c({message:l.statusText,httpStatus:l.status})})).catch((function(e){r.abortCallback=null,c(e)}))}))}},{key:"_call",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.abort();var o=this.getAjaxParams({async:t,headers:r,method:e,timeoutSeconds:n}),i=O(o,2),a=i[0],c=i[1];return this._ajax(c,a)}},{key:"onResponseSuccess",value:function(t){var n=this._isAuthDesktop(),o=t.client_context;if(o){var i,a=o.active_experiments,c=o.app_version,s=o.triggerable_experiments,l=o.experiment_hash;r.Z.checkVersion(c,t.originHost),e.requestContext.experimentsClient.latestExperimentHashFromServer!==l&&a&&s&&(f.Z.increment("webapp.experiments.updateExperimentCache",1,{appVersion:c,isAuthenticated:null===(i=t.client_context)||void 0===i?void 0:i.is_authenticated,target:n?"authDesktop":"duplo"}),e.requestContext.experimentsClient&&(e.requestContext.experimentsClient.latestExperimentHashFromServer=l))}if(t.bookmarks&&(this.options.bookmarks=t.bookmarks),e.contextLogger&&t.client_context&&!this.options.disable_event_log_info){var u=t.client_context.event_log_info;u&&"event_type"in u&&e.contextLogger.logContextEvent(A(A({},u),"aux_data"in u?{aux_data:A({},u.aux_data)}:null))}}},{key:"getLoginState",value:function(){return e.initialUser.login_state}},{key:"redirectToLoginPage",value:function(){(0,c.Z)(b.ZE,!1)}},{key:"logoutUser",value:(E=j(regeneratorRuntime.mark((function t(r){var o,i,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.requestContext.userAgent,i=o.isTablet,a=o.isMobile,c=!i&&!a,t.next=4,n.e(88454).then(n.bind(n,88454));case 4:(0,t.sent.default)({logoutOnAbort:!0,reason:"authentication_failed",source:r,redirectUrl:c?b.ZE:null},(function(){}),c);case 7:case"end":return t.stop()}}),t)}))),function(e){return E.apply(this,arguments)})},{key:"showLimitedLoginPrompt",value:function(t,n){var r,o,i=this._isAuthDesktop();(0,g.sh)({resourceUrl:t,currentPageUrl:(0,l.Z)(),subHeaderText:i?null:(r=e.i18n,null!==(o=null==r?void 0:r._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==o?o:"You'll need to log in to do that")}),f.Z.increment(i?"mweb.showLimitedLoginModal":"pure_react_resource.promptLoginForMoreOnResourceAuthError",1,{resource:this.name,resourceUrl:t,api_error_code:n})}},{key:"shouldRedirectToLoginPage",value:function(e,t,n,r,o){return!(0,m.JJ)().startsWith("/login")&&(403!==e||2831!==r)&&(403===e&&o!==p.Z.DEFAULT||401===e&&1001===r&&!t||(401!==e||r!==v.hE||"/resource/SentExternalInviteCallbackResource/create/"!==n)&&401===e&&r===v.hE&&"/resource/UserSessionResource/delete/"!==n&&(this.logoutUser(n),!1))}}],x=[{key:"create",value:function(t,n){return new e(t,n||{})}}],S&&T(t.prototype,S),x&&T(t,x),e}();function D(e){var t=e.initialUser,n=e.requestContext;C.initialUser=t,C.requestContext=n}I(C,"i18n",null)},479218:function(e,t,n){"use strict";n.d(t,{H:function(){return x},Z:function(){return S}});var r=n(983722),o=n(914671),i=n(204088),a=n(214494);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=5e3,O=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;_(this,e),w(this,"_flushTimer",null),w(this,"_listeningForWindowClose",!1),w(this,"_queue",[]),w(this,"flush",(function(){if(n._flushTimer&&(clearTimeout(n._flushTimer),n._flushTimer=null),0!==n._queue.length)try{n._send(),n._queue=[]}catch(e){}})),this._queueMapper=t,this._flushTimeoutDelay=r}return g(e,[{key:"_send",value:function(){}},{key:"enqueue",value:function(e){if(this._queue=[].concat(v(this._queue),[e]),!this._flushTimer)try{this._flushTimer=setTimeout(this.flush,this._flushTimeoutDelay)}catch(t){this.flush()}this._listeningForWindowClose||(window.addEventListener("beforeunload",this.flush),this._listeningForWindowClose=!0)}}]),e}(),S=function(e){u(n,e);var t=p(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return _(this,n),(o=t.call(this,r,i))._resourceName=e,o}return g(n,[{key:"_send",value:function(){a.Z.create(this._resourceName,this._queueMapper(this._queue)).callCreate()}}]),n}(O),x=function(e){u(c,e);var t=p(c);function c(e,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;return _(this,c),w(h(o=t.call(this,r,i)),"_failedKeepAlive",!1),w(h(o),"_stickyFallback",!0),o._url=e,o._resourceName=n,o}return g(c,[{key:"_shouldFallback",value:function(){return this._failedKeepAlive&&this._stickyFallback}},{key:"fetch",value:function(e){var t,c=this,s=n(628551).getCsrfToken,u=null===(t=(0,r.Z)())||void 0===t?void 0:t.experimentsClient,d=(0,i.Z)({experimentHash:(null==u?void 0:u.latestExperimentHashFromServer)||"",windowIsInFocus:o.Z.windowIsInFocus});window.fetch(this._url,{method:"POST",mode:"same-origin",keepalive:!0,headers:l(l({},d),{},{"Content-Type":"application/json",Accept:"application/json","X-CSRFToken":s(),"X-Requested-With":"XMLHttpRequest"}),body:JSON.stringify({data:{options:e}})}).catch((function(){c._failedKeepAlive=!0,e.keepAlive="failed",a.Z.create(c._resourceName,e).callCreate()}))}},{key:"_send",value:function(){if(this._shouldFallback()){var e=this._queueMapper(this._queue);e.keepAlive="fallback",a.Z.create(this._resourceName,e).callCreate()}else{var t=this._queueMapper(this._queue);t.keepAlive=!0,this.fetch(t)}}}]),c}(O)},983722:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(608832);function o(){return(0,r.l)()}},172071:function(e,t,n){"use strict";var r=n(674631),o=n.n(r),i=n(479218),a=null,c=[];function s(){c.length&&c.forEach((function(e){return e.flush()}))}function l(e,t,n,r,s){o()(r>=0&&r<=1,"sampleRate must be between 0 and 1. Found ".concat(String(r)));var l=[e,t,n,r,s];a||(a=new i.H("/resource/StatsLogResource/create/","StatsLogResource",(function(e){return{source:"browser",stats:e}}),5e3),c.push(a)),a.enqueue(l)}t.Z={increment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(e,1,"c",t,n)},count:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l(e,t,"c",n,r)},timing:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l(e,t,"ms",n,r)},gauge:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l(e,t,"g",n,r)},incrementNow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(e,1,"c",t,n),s()},countNow:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l(e,t,"c",n,r),s()},timingNow:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l(e,t,"ms",n,r),s()},initServer:function(e){e},__test_only_get_queue:function(){return a?a._queue:[]},__test_only_clear:function(){a=null}}},832654:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(349700);function o(e,t){var n=e.alt_text,o=e.auto_alt_text;return n?(0,r.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:n}).join(""):o?(0,r.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:o}).join(""):null}},695014:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(76911),o=n(506979),i=n(616211),a=n(898781),c=n(214494);function s(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}function u(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}function d(e){return function(){var t=l(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callCreate();case 2:n(u(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function p(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}function f(e){return function(){var t=l(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callDelete();case 2:n(p(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var h=n(908390),y=n(515198);function v(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.favorited,n=e.favoriteCount,c=e.isCloseupButton,s=e.onFavorite,l=e.onUnfavorite,u=e.pinId,p=e.size,_=(0,a.ZP)(),b=(0,o.useDispatch)(),g=m((0,r.useState)(!1),2),w=g[0],P=g[1],O=m((0,r.useState)(t),2),S=O[0],x=O[1],j=m((0,r.useState)(null!=n?n:0),2),E=j[0],A=j[1],T=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!S),P(!0),!S){e.next=10;break}return A(E-1),e.next=6,b(f(u));case 6:l(),P(!1),e.next=15;break;case 10:return A(E+1),e.next=13,b(d(u));case 13:s(),P(!1);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,c,"next",e)}function c(e){v(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),I=E<10?E:_._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,y.jsxs)(h.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==n&&E>0&&(0,y.jsx)(h.xv,{size:"200",weight:"bold",children:I}),(0,y.jsx)(i.Z,{isCloseupButton:c,isDisabled:w,isFavorited:S,onTap:function(){T()},size:p})]})}},578722:function(e,t,n){"use strict";n.d(t,{H1:function(){return l},HW:function(){return i},iL:function(){return s},pN:function(){return c},s_:function(){return a}});var r=n(19121),o=n(773285),i=new Date(2022,1,1);function a(){var e=(0,o.F)().checkExperiment,t=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),n=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,r=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return t||n||r}function c(e){var t=e.isOwnPin,n=e.isStoryPin,a=e.pinCreationDate,c=e.surface,s=(0,r.Z)(),l=(0,o.F)().checkExperiment,u=l("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,d=!!("CreatorProfileStoryPinGrid"===c&&n&&a&&a.getTime()>=i.getTime()&&u&&s.isPartner&&t)&&l("web_ip_plays").anyEnabled,p=["enabled_public","employees"].includes(l("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===c&&n&&a&&a.getTime()>=i.getTime()){if(s.isPartner)return t&&d||!t&&p;if(l("web_ip_pinner_plays").anyEnabled)return!0}return!1}function s(e){var t=e.isOwnPin,n=e.isPartner,r=(0,o.F)().checkExperiment,i=["enabled_public","employees"].includes(r("web_ip_plays",{dangerouslySkipActivation:!0}).group),a=r("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(t||!(a&&!n||i&&n))}function l(e){var t=e.isOwnPin,n=e.isPartner,r=(0,o.F)().checkExperiment,i=r("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=r("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!t||!(i&&n||a&&!n))}},397066:function(e,t,n){"use strict";n.d(t,{b:function(){return u},h:function(){return d}});var r=n(983722),o=n(768559),i=n(43760),a=n(170168),c=n(619937),s=n(48714),l=n(366284),u=function(e,t){var n=e.href,i=e.pinId,u=e.pin,d=e.location,p=e.auxData;if(u&&u.is_promoted){var f,h,y,v,m=(0,o.Z)({boardUrl:null===(f=u.board)||void 0===f?void 0:f.url,callToCreateSourcePinId:u.call_to_create_source_pin_id,location:d,pinId:u.id,pinnerUserName:null===(h=u.pinner)||void 0===h?void 0:h.username,storyPinDataId:u.story_pin_data_id,trackingParams:u.tracking_params,trackingParamsMap:u.tracking_params_map}),_=(0,s.nS)({url:n,pinId:i,csrId:null,clientTrackingParams:m,auxData:p}),b=(0,r.Z)();if((0,l.G6)(null!==(y=null==b?void 0:b.userAgent.browserName)&&void 0!==y?y:"")){var g,w,P=(null!==(g=null==b?void 0:b.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==g?g:{}).group,O=null!=b&&null!==(w=b.userAgent)&&void 0!==w&&w.browserVersion?b.userAgent.browserVersion:"0.0",S=parseFloat(O.split(".")[0]+"."+O.split(".")[1]);if(void 0!==u.campaign_id&&S>=14.1&&["enabled_safari"].includes(P)){var x,j=u.attribution_source_id?function(e,t,n){var r=document.createElement("a");return r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(c.$N.ATTRIBUTION_SOURCE_ID,e),r.setAttribute(c.$N.ATTRIBUTE_DESTINATION,n),r.setAttribute(c.$N.ATTRIBUTE_ON,n),r.click(),e}(u.attribution_source_id,_,n):function(e,t,n){var r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block";var o=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return r.setAttribute(c.$N.ATTRIBUTION_SOURCE_ID,o),r.setAttribute(c.$N.ATTRIBUTE_DESTINATION,n),r.setAttribute(c.$N.ATTRIBUTE_ON,n),r.click(),o}(null!==(x=u.pin_promotion_id)&&void 0!==x?x:0,_,n);return t({event_type:101,clientTrackingParams:m,object_id_str:i||"",aux_data:{pin_id:i||"",click_measurement_ppid:u.pin_promotion_id||"",click_measurement_campaign_id:u.campaign_id||"",is_pcm:!0,attribution_source_id:j,page_url:n}}),!0}}else if((0,l.i7)(null!==(v=null==b?void 0:b.userAgent.browserName)&&void 0!==v?v:"")){var E,A,T=(null!==(E=null==b?void 0:b.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==E?E:{}).group,I=null!=b&&null!==(A=b.userAgent)&&void 0!==A&&A.browserVersion?parseInt(b.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==u.attribution_source_id&&I>=101&&["enabled"].includes(T)){var k,R=function(e,t,n){var r=new URL("".concat(a.C0,"/attribution_source/"));r.searchParams.set(c.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),r.searchParams.set(c.NR.ATTRIBUTION_DESTINATION,n),r.searchParams.set(c.NR.ATTRIBUTION_EXPIRY,""+c.uV);var o=document.createElement("a");return o.setAttribute("href",t),o.setAttribute("target","_blank"),o.setAttribute("rel","noopener nofollow noreferrer"),o.style.cursor="pointer",o.style.display="block",o.setAttribute(c.NR.ATTRIBUTION_SOURCE,r.toString()),o.click(),e}(null!==(k=u.attribution_source_id)&&void 0!==k?k:"0",_,n);return t({event_type:101,clientTrackingParams:m,object_id_str:i||"",aux_data:{pin_id:i||"",click_measurement_ppid:u.pin_promotion_id||"",click_measurement_campaign_id:u.campaign_id||"",is_arapi:!0,attribution_source_id:R,page_url:n}}),!0}}}return!1},d=function(e,t){var n=e.href,r=e.pinId,a=e.pin,c=e.location,l=e.auxData;if("undefined"!=typeof window&&window.Windows)(0,i.Z)({url:n,pinId:r,pin:a,location:c,auxData:l});else{var d,p;if(u({href:n,pinId:r,pin:a,location:c,auxData:l},t))return;(0,s.Gj)({url:n,pinId:r,csrId:null,clientTrackingParams:(0,o.Z)({boardUrl:null==a||null===(d=a.board)||void 0===d?void 0:d.url,callToCreateSourcePinId:null==a?void 0:a.call_to_create_source_pin_id,location:c,pinId:null==a?void 0:a.id,pinnerUserName:null==a||null===(p=a.pinner)||void 0===p?void 0:p.username,storyPinDataId:null==a?void 0:a.story_pin_data_id,trackingParams:null==a?void 0:a.tracking_params,trackingParamsMap:null==a?void 0:a.tracking_params_map}),auxData:l})}}},955362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(76911),o=n(506979),i=n(205202),a=n(248975),c=n(705147),s=n(883561),l=n(898781),u=n(199387),d=n(447948),p=n(623568),f=n(116674),h=n(576440),y=n(908390),v=n(515198);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n,_,b=e.feedbackData,g=e.feedbackType,w=e.pin,P=e.pinTitle,O=e.setForcePrimary,S=e.transparentBackground,x=(0,l.ZP)(),j=(0,o.useDispatch)(),E=(0,h.E)(),A=E.viewParameter,T=E.viewType,I=(0,f.f)().reportPin,k=m((0,r.useState)(!1),2),R=k[0],C=k[1],D=m((0,r.useState)(),2),N=D[0],L=D[1],M=w.ad_match_reason,B=w.show_ad_reasons,Z=w.board,z=w.category,U=w.description,F=w.id,V=void 0===F?"":F,G=w.images,H=w.is_promoted,W=w.pinner,q=w.promoter,Y=w.recommendation_reason,K=w.source_interest,X=w.videos,$=(_=H?60:50,function(e){return(0,s.ZP)((e||"").trim(),_)})(null!=U?U:""),J=(0,i.Z)(G,"236x"),Q=(0,p.iR)(X),ee=(0,u.Z)(101,{component:0,element:981,object_id_str:V,aux_data:{feedback_type:g}}),te=function(){B||(O(!1),j((0,d.i0)(V)),C(!1))};return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(y.xu,{"data-test-id":"feedback-button",ref:L,children:(0,v.jsx)(y.hU,{accessibilityLabel:x._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:S?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){R?te():(O(!0),C(!0)),ee()},size:"sm"})}),R&&(0,v.jsx)(y.xu,{onFocus:function(e){return e.stopPropagation()},children:(0,v.jsx)(c.Z,{anchor:N,ad_match_reason:M,bestPinImgSrc:(0,a.Z)({images:w.images,embedSrc:null===(t=w.embed)||void 0===t?void 0:t.src,embedType:null===(n=w.embed)||void 0===n?void 0:n.type}),board:Z,feedbackData:b,feedbackType:g,hideDownload:Q,isPromoted:H,onLinkClick:function(){R&&te()},onDismiss:te,onHide:te,onDownloadHideFlyout:function(){O(!1),C(!1)},pinCategory:z,pinDescription:$,pinId:V,pinImgSrc:J,pinner:W,pinTitle:P,promoter:q,recommendationReason:Y,reportPin:function(){I(w,A,T),te()},sourceInterest:K,viewParameter:A,viewType:T})})]})}},705147:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(76911),o=n(506979),i=n(238771),a=n(920085),c=n(149230),s=n(379884),l=n(852964),u=n(814197),d=n(760372),p=n(407043),f=n(350118),h=n(813401),y=n(827896),v=n(898781),m=n(680046),_=n(349700),b=n(447948),g=n(908390),w=n(55275),P=n(609500),O=n(515198);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(f,e);var t,n,o,p=k(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),N(C(t=p.call(this,e)),"getRecommendationDescription",(function(){var e=t.props,n=e.i18n,r=e.ad_match_reason,o=e.board,i=e.feedbackType,a=e.pinner,c=e.promoter,s=e.recommendationReason,l=e.sourceInterest,u={i18n:n,makeNavigateLink:t.makeNavigateLink};switch(i){case"pfy":return(0,m.Ud)(A(A({},u),{},{feedback:{type:"pfy"}}));case"pfyBoard":return(0,m.Ud)(A(A({},u),{},{feedback:{type:"pfyBoard",recommendationReasonBoard:(null==s?void 0:s.board)&&{name:s.board.name,url:s.board.url}}}));case"topic":return(0,m.Ud)(A(A({},u),{},{feedback:{type:"topic",sourceInterest:l&&l.name&&l.url_name?{name:l.name,url_name:l.url_name}:null}}));case"followed":return(0,m.Ud)(A(A({},u),{},{feedback:{type:"followed",followed:a&&a.explicitly_followed_by_me?{type:"pinner",pinner:a.full_name?{full_name:a.full_name,username:a.username}:null}:{type:"board",board:o&&o.name&&o.url?{name:o.name,url:o.url}:null}}}));case"promoted":return(0,m.Ud)(A(A({},u),{},{feedback:{type:"promoted",promoter:!r&&c&&c.full_name?{full_name:c.full_name,username:c.username}:null}}));default:return null}})),N(C(t),"getRecommendationDescriptionImage",(function(){var e,n,r,o=t.props,i=o.board,a=o.feedbackType,c=o.pinner,s=o.recommendationReason;return"followed"!==a&&"pfyBoard"!==a?null:(c&&c.explicitly_followed_by_me?(e=c.image_small_url,n="50%",r="/".concat(c.username)):i&&i.image_thumbnail_url&&(e=i.image_thumbnail_url,n="4px",r=s&&s.board&&s.board.url||i.url),e?(0,O.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:n}},flex:"none",marginStart:3,overflow:"hidden",children:(0,O.jsx)(g.iP,{onTap:function(){var e;return t.props.history.push(null!==(e=r)&&void 0!==e?e:"")},children:(0,O.jsx)(g.zd,{height:40,wash:!0,width:40,children:(0,O.jsx)(g.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:e})})})}):null)})),N(C(t),"getUnfollowAction",(function(){var e=t.props,n=e.board,r=e.feedbackType,o=e.i18n,i=e.pinner,a=e.sourceInterest;switch(r){case"followed":return i&&n?(0,m.oK)({i18n:o,makeNavigateLink:t.makeNavigateLink,boardId:n.id,display:i.explicitly_followed_by_me?{type:"pinner",data:{full_name:i.full_name,username:i.username}}:{type:"board",data:{name:n.name,url:n.url}}}):null;case"topic":if(!a)return null;var c=a.id,s=a.name,l=a.url_name;return c&&s&&l?(0,m.Iv)({i18n:o,makeNavigateLink:t.makeNavigateLink,sourceInterest:{id:c,name:s,url_name:l}}):null;default:return null}})),N(C(t),"getUndoText",(function(e){return"unfollowPinner"===e||"unfollowBoard"===e?t.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):""})),N(C(t),"makeNavigateLink",(function(e,n,r,o){return(0,O.jsx)(g.rU,{onClick:t.props.onLinkClick,href:n,display:"inlineBlock",underline:"hover",children:(0,O.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:o?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:r})},e)})),N(C(t),"reportPinOption",(function(){return{action:"reportPin",elementType:974,text:t.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:t.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:t.props.reportPin,dataTestId:"report-pin-option"}})),N(C(t),"hidePinOption",(function(e){var n=t.props,r=n.clientTrackingParams,o=n.feedbackData,i=n.feedbackType,a=n.pinId,c=n.recommendationReason,s="search"===i?973:982,u=(0,m.fJ)({feedbackData:o,feedbackType:i,pinId:a,recommendationReasonId:(0,l.Z)(c),pinFeedbackType:"pfy"===i?4:10,throughId:c&&(0,m.yl)(c),throughProperties:c&&(0,m.XZ)(c),clientTrackingParams:r(a)}),d=u.action,p=u.actionOptions,f=t.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:d,actionOptions:p,feedbackText:t.pinHiddenFeedbackText(e),text:f,description:t.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:s}})),N(C(t),"stopRecommendationOption",(function(){var e=t.props,n=e.clientTrackingParams,r=e.feedbackData,o=e.feedbackType,i=e.pinId,a=e.recommendationReason,c=(null!=a?a:{}).board,s=(0,l.Z)(a),u=a&&(0,m.yl)(a),d=a&&(0,m.XZ)(a),p="pfyBoard"===o,f=(0,m.fJ)({feedbackData:r,feedbackType:o,pinId:i,recommendationReasonId:s,pinFeedbackType:p?2:4,throughId:u,throughProperties:d,clientTrackingParams:n(i)}),h=f.action,y=f.actionOptions,v=c?t.makeNavigateLink("boardUrl",c.url,c.name,!0):"";return{action:h,actionOptions:y,feedbackText:{subTitle:p&&c?(0,_.nk)(t.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:v}):t.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:p&&c?(0,_.nk)(t.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:c.name}):t.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),N(C(t),"unfollowBoardOption",(function(){var e,n,r=t.props.board,o=r?t.makeNavigateLink("boardUrl",null!==(e=r.url)&&void 0!==e?e:"",null!==(n=r.name)&&void 0!==n?n:"",!0):"",i=(0,_.nk)(t.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==r?void 0:r.name}),a=(0,_.nk)(t.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:o});return{action:"unfollowBoard",actionOptions:{board_id:null==r?void 0:r.id},feedbackText:{title:"",subTitle:a},text:i,description:(0,_.nk)(t.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==r?void 0:r.name}),elementType:10614}})),N(C(t),"unfollowTopicOption",(function(){var e=t.props.sourceInterest;if(e){var n=e.id,r=e.name,o=void 0===r?"":r,i=e.url_name,a="/topics/".concat(void 0===i?"":i),c=t.makeNavigateLink("topicUrl",a,o,!0),s=(0,_.nk)(t.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:o}),l=(0,_.nk)(t.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:c});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:d.X},feedbackText:{title:"",subTitle:l},text:s,description:(0,_.nk)(t.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),N(C(t),"unfollowUserOption",(function(){var e=t.props.pinner,n=null!=e?e:{},r=n.id,o=n.username,i=n.full_name,a="/".concat(o),c=e?t.makeNavigateLink("pinnerUrl",a,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:r},feedbackText:{title:"",subTitle:(0,_.nk)(t.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:c})},text:(0,_.nk)(t.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:i}),description:t.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),N(C(t),"downloadPinOption",(function(){return{action:"downloadPin",text:t.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}})),N(C(t),"_pinFeedbackText",(function(){var e,n,r,o,i=t.props,a=i.location,c=i.feedbackType,s=i.hideDownload,l=i.pinner,u="followed"===t.props.feedbackType,d=a.pathname.includes("following"),p=(u||"topic"===c)&&!d,f=t.hidePinOption(p),h=t.reportPinOption(),y="promoted"!==c&&!s;switch(c){case"followed":var v=d,m=!v&&t.getRecommendationDescription(),_=null!=l&&l.explicitly_followed_by_me?t.unfollowUserOption():t.unfollowBoardOption(),b=[f].concat(x(p||v?[_]:[]),x("promoted"!==c?[t.downloadPinOption()]:[]),[h]);return A(A({},m?{description:m}:{}),{},{options:b});case"promoted":var g=t.props,w=g.pinId,P=g.showAdReasonsModal,O=[f,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:t.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:function(){P(w)}},h];return{description:null!==(e=t.getRecommendationDescription())&&void 0!==e?e:void 0,options:O};case"topic":var S=t.unfollowTopicOption(),j=[f].concat(x(p&&S?[S]:[]),x(y?[t.downloadPinOption()]:[]),[h]);return{description:null!==(n=t.getRecommendationDescription())&&void 0!==n?n:void 0,options:j};case"pfy":case"pfyBoard":var E=[f].concat(x("pfyBoard"===c?[t.stopRecommendationOption()]:[]),x(y?[t.downloadPinOption()]:[]),[h]);return{description:null!==(r=t.getRecommendationDescription())&&void 0!==r?r:void 0,options:E};default:var T=[f].concat(x(y?[t.downloadPinOption()]:[]),[h]);return{description:null!==(o=t.getRecommendationDescription())&&void 0!==o?o:void 0,options:T}}})),N(C(t),"pinHiddenFeedbackText",(function(e){var n=t.props,r=n.isPromoted,o=n.promoter,i=e?null:t.getUnfollowAction();return r&&null!=o&&o.full_name?{title:"",subTitle:(0,_.nk)(t.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:o.full_name})}:i?{title:"",subTitle:t.getRecommendationDescription(),unfollow:i}:{title:"",subTitle:t.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));var n=t._pinFeedbackText();return t.state={pinFeedbackConfig:n,showSecondary:!1},t}return t=f,(n=[{key:"onPinFeedbackActionButtonClick",value:function(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,w.t)(t.action,t.actionOptions,n)}},{key:"onPinHide",value:function(e,t,n,r){var o=this.props,i=o.hidePinFeedback,a=o.onHide,c=o.pinId,s=o.showPinFeedback,l=o.showPinFeedbackOverlay,u=o.showPinFeedbackUndo,d=o.viewParameter,p=o.viewType,f=o.logContextEvent;t&&n&&r?u(c,e,(0,m.EF)(n,r,c,p,d,i,f),this.getUndoText(r)):s(c,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?a():(this.setState({showSecondary:!0}),l(c))}},{key:"handleClickLogging",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.feedbackType,o=n.viewParameter,i=n.viewType,a=n.logContextEvent;a({event_type:101,view_type:i,view_parameter:o,element:e,component:(0,m.nb)(r),aux_data:A({},t)})}},{key:"renderButtons",value:function(){for(var e=this,t=this.props,n=t.hideDownload,r=t.onDownloadHideFlyout,o=t.pinId,i=t.viewType,s=t.viewParameter,l=t.logContextEvent,u=t.isWindowsPwa,d=this.state.pinFeedbackConfig.options,p=[],f=d.length,h=function(t){var f=d[t],h=w.P.includes(f.action),y=f.callback?f.callback:function(){return e.onPinHide(f.feedbackText,h,f.actionOptions,f.action)};if("downloadPin"!==f.action){var v=(0,c.Z)({url:f.link||""}),m="";Array.isArray(f.text)?m=f.text.join(""):"string"!=typeof f.text&&"number"!=typeof f.text||(m=f.text.toString()),p.push(f.link?(0,O.jsx)(g.Lt.Link,{href:f.link,isExternal:v,option:{value:f.action||"",label:m},dataTestId:f.dataTestId||""}):(0,O.jsx)(g.Lt.Item,{onSelect:function(t){var n=t.event;return e.onPinFeedbackActionButtonClick(n,f,y)},option:{value:f.action||"",label:m},dataTestId:f.dataTestId||""}))}else if(!n&&!1===u){var _=e.props,b=_.bestPinImgSrc,P=_.pinTitle,S=_.pinDescription,x=_.pinCategory;p.push((0,O.jsx)(g.Lt.Item,{onSelect:function(){(0,a.Z)({category:x,filename:P||S,imageDownloadSuccessCallback:function(){r&&r()},imgSrc:b,pinId:o,viewParameter:s,viewType:i},l)},option:{value:"downloadImage",label:e.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}},y=0;y<f;y+=1)h(y);return p}},{key:"render",value:function(){var e=this.state,t=e.pinFeedbackConfig,n=e.showSecondary,o=this.props,a=o.anchor,c=o.onDismiss,l=o.feedbackData,d=o.feedbackType,p=o.hideAdReasonsModal,f=o.pinId,h=o.onHide,y=o.recommendationReason,v=o.showAdReasons,m=o.viewParameter,_=o.viewType,b=t.description,w=this.getRecommendationDescriptionImage();return(0,O.jsxs)(r.Fragment,{children:[n?(0,O.jsx)(s.Z,{anchor:a,feedbackData:l,feedbackType:d,pinId:f,onDismiss:c,onHide:h,recommendationReason:y,viewParameter:m,viewType:_}):(0,O.jsx)(g.Lt,{anchor:a,id:"pin-action-dropdown",idealDirection:"down",onDismiss:c,zIndex:u.lI,headerContent:b&&(0,O.jsxs)(g.kC,{alignItems:"center",children:[(0,O.jsx)(g.xu,{"data-pin-recommendation-reason":null==y?void 0:y.reason,maxHeight:56,overflow:"hidden",children:(0,O.jsx)(g.xv,{color:"default",overflow:"normal",size:"200",children:b})}),w]}),children:this.renderButtons()}),v&&(0,O.jsx)(i.ZP,{onDismiss:function(){return p(f)},pinId:f})]})}}])&&T(t.prototype,n),o&&T(t,o),f}(r.Component);function M(e){var t=(0,p.v)().logContextEvent,n=(0,y.Z)(),r=(0,v.ZP)(),i=(0,f.S6)()(e.pinId),a=null!=i?i:{},c=a.ad_targeting_attribution,s=a.show_ad_reasons,l=void 0!==s&&s,u=(0,h.kf)(),d=(0,o.useDispatch)();return(0,O.jsx)(L,A(A({},e),{},{clientTrackingParams:n,showAdReasons:l,adTargetingAttribution:c,history:(0,P.useHistory)(),i18n:r,isWindowsPwa:u,location:(0,P.useLocation)(),logContextEvent:t,hidePinFeedback:function(e){return d((0,b.I1)(e))},showPinFeedback:function(e,t){return d((0,b.q1)(e,t))},showPinFeedbackOverlay:function(e){return d((0,b.Ib)(e))},showPinFeedbackUndo:function(e,t,n,r){return d((0,b.NA)({id:e,text:t,undoAction:n,undoText:r}))},showAdReasonsModal:function(e){return d((0,b.b9)(e))},hideAdReasonsModal:function(e){return d((0,b.yj)(e))}}))}},438908:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(206134),o=n.n(r),i=n(876371),a=n(832654),c=n(784521),s=n(908390),l=n(515198);function u(e){var t=e.alt,n=e.onError,r=void 0===n?function(){}:n,o=e.onLoad,i=void 0===o?function(){}:o,a=e.pin,u=a.dominant_color,d=a.images,p=function(e){var t;return"number"==typeof(null===(t=e["474x"])||void 0===t?void 0:t.width)&&"number"==typeof e["474x"].height&&e["474x"].width>e["474x"].height?e["736x"]:e["474x"]}(void 0===d?{}:d)||{},f=p.height,h=p.width,y=p.url;return(0,l.jsx)(s.xu,{width:"100%",dangerouslySetInlineStyle:{__style:{zIndex:c.Z.storyPinImage}},children:(0,l.jsx)(s.Ee,{alt:t,color:u||"transparent",naturalHeight:null!=f?f:1,naturalWidth:null!=h?h:1,onError:r,onLoad:i,src:y||""})})}var d=n(898781),p=n(349700),f=n(310227),h=n(243943),y=function(e){var t,n,r,c=e.cropHeight,y=e.cropWidth,v=e.fallbackColor,m=e.highResOnly,_=e.imageFit,b=e.lowResOnly,g=e.mediumResOnly,w=e.minHeight,P=e.onError,O=e.onLoad,S=e.pin,x=e.saved,j=void 0!==x&&x,E=e.animateGif,A=(0,d.ZP)(),T=(0,h.Xx)(),I=S.carousel_data,k=S.description,R=void 0===k?"":k,C=S.dominant_color,D=S.grid_title,N=S.id,L=S.images,M=S.title,B=(0,p.nk)(A._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:M||D}).join(""),Z=(0,a.Z)(S,A)||R.trim().length>0&&R||B;if(I)return(0,l.jsx)(i.Z,{onError:P,onLoad:O,highResOnly:m,lowResOnly:b,pinId:N});var z,U="",F=0,V=0;if(L){var G,H,W,q,Y,K,X,$,J=L["236x"];if(m?J=L["736x"]||L.orig||L["474x"]||L["236x"]:g&&(J=L["474x"]||L.orig||L["236x"]),F=null===(G=J)||void 0===G?void 0:G.height,V=null===(H=J)||void 0===H?void 0:H.width,U=null===(W=J)||void 0===W?void 0:W.url,b||g||m)z=null!==(q=J)&&void 0!==q&&q.url?"".concat(J.url," 1x"):"";else z=[(null===(Y=L["236x"])||void 0===Y?void 0:Y.url)&&"".concat(L["236x"].url," 1x"),(null===(K=L["474x"])||void 0===K?void 0:K.url)&&"".concat(L["474x"].url," 2x"),(null===(X=L["736x"])||void 0===X?void 0:X.url)&&"".concat(L["736x"].url," 3x"),(null===($=L.orig)||void 0===$?void 0:$.url)&&"".concat(L.orig.url," 4x")].filter(Boolean).join(", ")}if(E){var Q=Math.max(S.embed&&S.embed.width||0,236),ee=Math.max(S.embed&&S.embed.height||0,236),te=S.embed?S.embed.src:"";te&&(F=ee,V=Q,U=te,z="")}return null!=T&&T.image&&(F=T.image.height,V=T.image.width,U=T.image.url),(0,l.jsx)(s.kC,{alignItems:"center",justifyContent:"start",minHeight:w||f.Ml,children:(0,l.jsx)(s.xu,{flex:"grow",children:(0,l.jsx)("div",{className:o()({savedGradient:j}),children:S.story_pin_data_id?(0,l.jsx)(u,{alt:Z,pin:S,onError:P,onLoad:O}):(0,l.jsx)(s.xu,{height:y?c:void 0,width:y||void 0,"data-test-id":"non-story-pin-image",children:(0,l.jsx)(s.Ee,{alt:Z,color:"dominant"===v?C:v,fit:_,naturalHeight:null!==(t=F)&&void 0!==t?t:1,naturalWidth:null!==(n=V)&&void 0!==n?n:1,onError:P,onLoad:O,src:null!==(r=U)&&void 0!==r?r:"",srcSet:z})})})})})}},453782:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(76911),o=n(964082),i=n(983722),a=n(357787),c=n(36971),s=n(463045),l=n(965900),u=n(108529),d=n(438908),p=n(350445),f=n(898781),h=n(46584),y=n(908390),v=n(515198);function m(e){var t=e.aspectRatio,n=e.children;return(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:t}},children:n})}var _=n(926749),b=n(623568);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=new Set(["ConversationView","TodayTabFeed"]);function j(e){var t,n,o=e.inAdsDesktopVideoExperiment,i=e.isAutoplay,a=e.cropHeight,c=e.currentTime,s=e.lowResOnly,g=e.highResOnly,P=e.onLoad,S=e.onError,j=e.saved,E=e.onTimeChange,A=e.isExperimentalPinRep,T=e.pin,I=e.surface,k=e.playing,R=e.rootMargin,C=e.viewType,D=e.viewParameter,N=e.onVisibilityChanged,L=e.trackFullVisible,M=e.inVisibilityChangedHookExperiment,B=e.imageHeightModifier,Z=e.cropWidth,z=(0,f.ZP)(),U=O((0,r.useState)(!1),2),F=U[0],V=U[1],G=O((0,r.useState)(!0),2),H=G[0],W=G[1],q=T.is_downstream_promotion,Y=T.promoter,K=(0,b.jL)(q,Y),X=K&&!T.is_eligible_for_web_closeup,$=A&&K&&T.is_eligible_for_web_closeup&&!x.has(I),J=(0,l.I)().setCurrentVideo,Q=X||!A||!K,ee=(0,h.Z)({onVisibilityChanged:N,inAdsDesktopVideoExperiment:o,trackFullVisible:L,rootMargin:R}),te=!k;o&&(te=H,i&&k&&H&&W(!1));var ne=((null===(t=T.images)||void 0===t?void 0:t["236x"])||{}).url,re=T.id,oe=T.is_promoted,ie=(0,r.useCallback)((function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),J({pinId:re,isPromoted:Boolean(oe),currentTime:0}),V(!1)}),[oe,re,J]),ae=(0,r.useCallback)((function(){oe&&V($)}),[$,oe]);if(!T.videos||null===(n=T.videos.video_list)||void 0===n||!n.V_HLSV4)return null;var ce,se=T.videos.video_list.V_HLSV4||{},le=se.height,ue=se.thumbnail,de=se.width,pe=se.url,fe=T.videos.id,he=[{type:"video/m3u8",src:pe}],ye=(null!=de?de:1)/(null!=le?le:1),ve=o&&I&&(0,u.Z)(I);if(ve&&(ye=1,ce="transparent",B&&(ye-=B-1)),F&&K)return(0,v.jsx)(y.xu,{ref:M?ee:null,children:(0,v.jsx)(p.Z,{backgroundImage:null!=ne?ne:"",naturalHeight:null!=le?le:1,naturalWidth:null!=de?de:1,pin:T,onRestartVideo:ie})});if(te){var me={highResOnly:g,lowResOnly:s,onError:S,onLoad:P,pin:T,saved:j};return ve&&(me=w(w({},me),{},{cropHeight:a,cropWidth:Z,imageFit:"contain"})),(0,v.jsx)(y.xu,{ref:M?ee:null,children:(0,v.jsx)(m,{aspectRatio:ye,children:(0,v.jsx)(d.Z,w({},me))})})}return(0,v.jsx)(y.xu,{ref:M?ee:null,children:(0,v.jsx)(_.ZP,{isAutoPlay:!!i,cropHeight:a,rootMargin:R,surface:I,inAdsDesktopVideoExperiment:o,contextLogData:{viewParameter:D,component:0,objectId:T.id,video_id:fe,view:C},accessibilityMaximizeLabel:z._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:z._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:z._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:z._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:z._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:z._('Progress bar', 'PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:z._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:ye,backgroundColor:ce,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:c||-1},loop:Q,onTimeChange:E,playing:k,onPlay:function(){},onPlayError:function(){},poster:ne||ue,src:null!=he?he:[],videoStartTime:c,volume:0,onEnded:ae})})}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=(0,a.Z)(j),Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(l,e);var t,n,r,a=C(l);function l(){var e;I(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(N(e=a.call.apply(a,[this].concat(n))),"calculateCurrentVideoTime",(function(){var t=e.props,n=t.currentTimeFromPinRep,r=t.pin,o=t.videosAutoplaying,i=r.id,a=(0,c.Z)(i,o);return e.currentVideoCurrentTime||a||n})),M(N(e),"handleVisibilityChanged",(function(t){var n=e.props,r=n.currentTimeFromPinRep,a=n.pin,c=n.setCurrentVideo,l=n.pauseAutoplay,u=n.videosAutoplaying,d=a.id,p=a.is_promoted,f=(0,s.Z)(d,u),h=(0,o.Z)(d,u);if(t){if(p)c({pinId:d,isPromoted:p,currentTime:e.calculateCurrentVideoTime()});else if(h){var y=(0,i.Z)(),v=((null==y?void 0:y.experimentsClient.checkExperiment("hfp_web_video_autoplay_in_grid"))||{}).anyEnabled;c({pinId:d,isPromoted:Boolean(p),currentTime:e.calculateCurrentVideoTime(),inVideoGridAutoplayExp:v})}}else!t&&f&&l({pinId:d,isPromoted:Boolean(p),currentTime:r||e.currentVideoCurrentTime})})),M(N(e),"handleVideoTimeChange",(function(t){var n=e.props,r=n.pin,o=n.onTimeChange,i=n.videosAutoplaying,a=r.id;(0,s.Z)(a,i)&&(e.currentVideoCurrentTime=t.time),o&&o(t)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,r=n.appInFocus,o=n.currentTimeFromPinRep,i=n.pauseAutoplay,a=n.pin,c=n.setCurrentVideo,l=n.videosAutoplaying,u=a.id,d=a.is_promoted,p=(0,s.Z)(u,l);r!==t&&!r&&p?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:u,isPromoted:Boolean(d),currentTime:o||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&r&&(this.pausedDueToBrowserOutOfFocus=!1,c({pinId:u,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.currentTimeFromPinRep,n=e.pauseAutoplay,r=e.pin,o=e.videosAutoplaying,i=r.id,a=r.is_promoted;(0,s.Z)(i,o)&&n({pinId:i,isPromoted:Boolean(a),currentTime:t||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=e.cropHeight,n=e.isAutoplay,r=e.pin,o=e.surface,i=e.videosAutoplaying,a=e.viewParameter,l=e.viewType,u=e.highResOnly,d=e.lowResOnly,p=e.onError,f=e.onLoad,h=e.saved,y=e.inAdsDesktopVideoExperiment,m=e.isExperimentalPinRep,_=e.rootMargin,b=e.cropWidth,g=e.imageHeightModifier,w=r.id,P=(0,c.Z)(w,i),O=(0,s.Z)(w,i)&&n;return(0,v.jsx)(B,{cropHeight:t,rootMargin:_,currentTime:P,inAdsDesktopVideoExperiment:y,isAutoplay:n,viewParameter:a,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:r,surface:o,playing:O,trackFullVisible:!1,highResOnly:u,lowResOnly:d,onError:p,onLoad:f,saved:h,isExperimentalPinRep:m,cropWidth:b,imageHeightModifier:g})}}])&&k(t.prototype,n),r&&k(t,r),l}(r.Component);function z(e){var t=(0,l.I)(),n=t.appUI,r=n.appInFocus,o=n.isAutoplay,i=n.videosAutoplaying,a=t.pauseAutoplay,c=t.setCurrentVideo;return(0,v.jsx)(Z,T(T({},e),{},{appInFocus:r,isAutoplay:o,pauseAutoplay:a,setCurrentVideo:c,videosAutoplaying:i}))}},779298:function(e,t,n){"use strict";n.d(t,{Z:function(){return ro}});var r=n(76911),o=n(506979),i=n(41233),a=n(605028),c=n(333155);function s(e){var t=e.isGroupBoard,n=e.pin,r=e.surface,o=n.carousel_data,i=n.grid_title,s=n.rich_summary,l=n.title,u=(0,a.Z)(n),d=u.isOwnPin,p=u.isPromoted;if(o){var f=o.carousel_slots,h=void 0===f?[]:f,y=o.index,v=void 0===y?0:y;if(h[v]&&h[v].title)return h[v].title.trim()}if(p){if(c.ZF.includes(r))return i||"";if(d&&!t&&!o&&"UserProfilePinGrid"!==r)return"";var m=s&&"mobile application"!==s.type_name&&s.display_name;return l||m||i||""}return i||""}var l=n(623568),u=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n(35495);function p(e,t){return((0,a.Z)(e).isProduct||"ShoppingGridShippedMetadataWithVisitButton"===t&&(0,d.bA)(e))&&(0,d.QY)(e)||""}var f=n(807592),h=n(4294),y=n(18857),v=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function m(e){var t,n=e.attributionOption,r=e.board,o=e.contentType,i=e.experimentsClient,c=e.feedbackData,l=e.feedbackType,u=e.hasCarouselData,d=e.isGroupBoard,m=e.isORBACProfileManager,_=e.isOwnBoard,b=e.pin,g=e.showImageOnly,w=e.showNativeReactions,P=e.showPromotedShoppingPrice,O=e.surface,S=e.viewer,x=e.variantData,j=(0,a.Z)(b),E=j.isPromoted,A=j.isSponsored,T=b.pin_note,I=function(e){var t=e.attributionOption,n=e.feedbackType,r=e.isGroupBoard,o=e.pin,i=e.showImageOnly,a=e.surface,c=o.is_downstream_promotion,s=o.native_creator,l=o.promoter,u=o.sponsorship,d=o.story_pin_data_id;if("promoted"===n||l&&!c||u)return"default";if("ConversationView"!==a&&v.includes(a))return"none";if(r)return"none";var p="default";return"SearchItem"===a&&d?p:(t&&("image-only"===t?p="image-only-credit":"hide"===t&&(p="none")),"followed"!==n||i?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===t?p:"TodayArticleFeed"===a&&"show"===t?"show-for-claimed-content":s?"default":"none":p)}({attributionOption:n,feedbackType:l,isGroupBoard:d,pin:b,showImageOnly:g,surface:O}),k=null!=x&&x.title?x.title:s({isGroupBoard:d,pin:b,surface:O}),R=g?"":k,C=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(O)&&!E&&!g&&Boolean(p(b,O)),D=["ShoppingGridShippedMetadataWithVisitButton"].includes(O),N="BaseBoardPinGrid"===O&&T?null===(t=T.text)||void 0===t?void 0:t.trim():null,L=E,M="shopping"===o;"AuthHomefeed"!==O||E||(w=!1);var B,Z,z,U,F=2;if(E?F=3:(C||"none"!==I)&&(F=M?2:1),M||P){var V,G,H=((null===(V=b.rich_summary)||void 0===V||null===(G=V.products)||void 0===G?void 0:G[0])||{}).offer_summary;B=H?H.standard_price:void 0,Z=H?(0,f.Z)(H):void 0}if(x){var W=x.offerSummary;B=W?W.standard_price:void 0,Z=W?W.price||W.max_price:void 0}if(M&&!E){var q,Y,K,X=(null===(q=b.rich_summary)||void 0===q?void 0:q.aggregate_rating)||{},$=X.rating_count,J=X.rating_value,Q=X.review_count;($||Q)&&parseFloat(J)&&(z={count:$||Q,rating:J}),U=null===(Y=b.rich_metadata)||void 0===Y||null===(K=Y.products)||void 0===K?void 0:K[0].shipping_info}var ee=(0,y.rh)(b,S,i),te="CreatorProfileStoryPinGrid"===O||"CreatorProfileActivityPinGrid"===O,ne=!te,re=d&&!A;return{attributionType:I,board:r,contentType:o,feedbackData:c,feedbackType:l,pinNoteText:N,pinTitle:R,productCurrentPrice:Z,productOriginalPrice:B,productRating:z,productShipping:U,showCarouselEllipsis:u,showFavoriteButton:!m&&("BaseBoardPinGrid"===O&&_||Boolean((null==r?void 0:r.is_collaborative)&&(0,h.Z)({board:r,viewer:S})))&&!te,showGroupBoardAvatar:re,showNativeReactions:w,showOverflowMenu:L,showPinStats:ee,showSource:C,showTextContent:ne,showVisitSiteButton:D,showAttribution:!0,titleLines:F}}var _=n(27255),b=n(957161),g=n(121630),w=n(841478),P=n(53325);var O=["ShoppingCatalogsProductsMetadata"];var S=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],x=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var j=n(221263),E=n(319915),A=n(675725),T=n(687551),I=n(926275);var k=n(976071),R=n(411938),C=n(108529),D=n(463045),N=n(947599),L=n(717615),M=n(436395),B=n(512076),Z=n(19121),z=n(908390),U=n(898781),F=n(407043),V=n(515198);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],q={component:210,view_type:4,view_parameter:3106},Y={view_type:5,view_parameter:3069},K={component:13668,view_type:4,view_parameter:3106};function X(e){var t,n=e.pinId,r=e.surface,o=(0,F.v)().logContextEvent,i=(0,U.ZP)(),a=function(){var e=W.includes(r)?K:"BaseBoardPinGrid"===r?Y:"UserProfilePinGrid"===r?q:{};o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_type:101,element:10573},e))},c=i._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,V.jsx)(z.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:W.includes(r)?(0,V.jsx)(z.zx,{role:"link",accessibilityLabel:i._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:"/pin/".concat(n,"/analytics"),onClick:a,size:"sm",text:(t=c,t.length>14?"".concat(t.substring(0,12).trim(),"..."):t)}):(0,V.jsx)(z.hU,{role:"link",accessibilityLabel:i._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:"/pin/".concat(n,"/analytics"),icon:"ads-stats",iconColor:"darkGray",onClick:a,size:"sm"})})}var $=n(681227),J=n(697247),Q=n(576440),ee=n(965900),te=n(773285),ne=n(578722),re=n(130460),oe=n(350118),ie=n(329734),ae=n(243943),ce=n(99137),se=n(698330),le=n(241244),ue=n(95551),de=n(699825),pe=n(768559),fe=n(89254);function he(e,t){var n=e.carousel_data,r=e.domain,o=e.ad_destination_url,i=r||"";return o&&(i=(0,fe.Z)(o).hostname||""),n&&n.id&&(i=function(e,t){var n=t||e&&e.index||0,r=e&&e.carousel_slots||[],o=r[n]&&r[n].link||"";return o&&(0,fe.Z)(o).hostname||""}(n,t)),i.replace("www.","")}var ye=n(287072),ve=n(199387),me=n(609500);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oe={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function Se(e){var t,n,o=e.pin,i=e.sourceLinkStyle,a=e.surface,c=e.url,s=(0,U.ZP)(),l=we((0,r.useState)(!1),2),u=l[0],p=l[1],f=o.id,h=he(o),y=(0,me.useLocation)(),v=(0,d.Kl)(o)||{},m=(0,Q.E)().slotIndex,_=(0,pe.Z)({boardUrl:null===(t=o.board)||void 0===t?void 0:t.url,callToCreateSourcePinId:o.call_to_create_source_pin_id,location:y,pinId:o.id,pinnerUserName:null===(n=o.pinner)||void 0===n?void 0:n.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map}),b=(0,ve.Z)(12,{object_id_str:f,clientTrackingParams:_,aux_data:be({grid_index:m},(0,d.Kl)(o)||{})}),g=(0,ve.Z)(101,{element:162,object_id_str:f,clientTrackingParams:_,aux_data:be({},(0,d.Kl)(o)||{})}),w=(0,ve.Z)(8948,{object_id_str:f,clientTrackingParams:_,aux_data:be({click_type:"clickthrough",closeup_navigation_type:"click",grid_index:m},(0,d.Kl)(o)||{})}),P=function(){b(),g(),w()},O=(0,ye.Z)({href:c,target:"blank",externalData:{auxData:v,pin:o,surface:a}});return"icon-only"===i?(0,V.jsx)(z.hU,{accessibilityLabel:s._('link', 'Website url link', 'Website url link'),bgColor:"white",href:c,icon:"arrow-up-right",iconColor:"darkGray",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),P(),O({event:t})},role:"link",rel:"nofollow",size:"sm"}):(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:be(be(be({},Oe.container),u?Oe.containerHovered:Object.freeze({})),"truncated-text"===i?Oe.containerTruncated:Object.freeze({}))},"data-test-id":"pinrep-source-link",onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},position:"relative",children:(0,V.jsx)(de.Z,{hovered:u,pin:o,slotIndex:m,viewType:1,children:(0,V.jsx)(z.iP,{fullWidth:!1,href:c,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),P(),O({event:t})},rel:"nofollow",role:"link",rounding:4,children:(0,V.jsxs)(z.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:Oe.text},display:"flex",justifyContent:"between",children:[(0,V.jsx)(z.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,V.jsx)(z.JO,{accessibilityLabel:s._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,V.jsx)(z.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,V.jsx)(z.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:h})})]})})})})}var xe=n(538232),je=n(50286),Ee=n(780280);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(41007),n.e(50192),n.e(58209),n.e(48035)]).then(n.bind(n,43819))})),De=(0,r.lazy)((function(){return Promise.resolve().then(n.bind(n,955362))})),Ne=(0,r.lazy)((function(){return n.e(5035).then(n.bind(n,351326))}));var Le=function(e){var t=e.pinId,n=(0,xe.R)().onSendButtonClick,r=(0,ve.Z)(101,{element:72,object_id_str:t});return(0,V.jsx)(ue.Z,{onSendButtonClick:n,trackShareTap:r,size:"sm",bgColor:"white"})},Me=(0,r.memo)((function(e){var t,n,o=e.actionBarEditBeforeShare,i=e.feedbackData,a=e.feedbackType,c=e.layout,s=e.onToggleFlyout,l=e.pin,u=e.pinTitle,d=e.setForcePrimary,p=e.showEditButton,f=e.showOverflowMenu,h=e.showShareButton,y=e.showSourceLinkButton,v=e.sourceLinkStyle,m=e.surface,_=(0,U.ZP)(),b=(0,z.JZ)(),g=(0,Ee.B)().isRTL,w=!(0,je.HG)(),P=(0,Q.E)(),O=P.viewParameter,S=P.viewType,x=l.carousel_data,j=l.id,A=l.savedInfo,T=l.tracked_link,I=l.link,k=l.ad_destination_url,R=null!==(t=null!==(n=null!=k?k:T)&&void 0!==n?n:I)&&void 0!==t?t:"",C=(0,B.Z)(l).showLeadPinStdAlpha,D=ke((0,r.useState)(p),2),L=D[0],M=D[1],Z=ke((0,r.useState)(p),2),F=Z[0],G=Z[1],H=ke((0,r.useState)(p),2),W=H[0],q=H[1],Y=Te(Te({},g?{marginLeft:p&&f?-44:0}:{marginRight:p&&f?-44:0}),{},{transition:g?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"}),K={opacity:W?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},X=Te(Te({},g?{marginRight:F?4:0}:{marginLeft:F?4:0}),{},{transition:g?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"});(0,r.useEffect)((function(){var e;return p&&f?(G(!0),e=setTimeout((function(){requestAnimationFrame((function(){M(!0),requestAnimationFrame((function(){q(!0)}))}))}),800)):(G(p),M(p),requestAnimationFrame((function(){q(p)}))),function(){clearTimeout(e)}}),[p,f]);var $=null;if(y){var J="/pin/".concat(j);$=(0,V.jsx)(le.Z,{children:C?(0,V.jsx)(z.zx,{role:"link",accessibilityLabel:_._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),size:"sm",href:J,text:_._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,V.jsx)(Se,{pin:l,sourceLinkStyle:v,surface:m,url:R})})}var ee=h&&(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(z.xu,{"data-test-id":"send-share-link",children:(0,V.jsx)(le.Z,{children:w?(0,V.jsx)(Le,{pinId:l.id}):(0,V.jsx)(Ne,{pin:l,setForcePrimary:d})})})})}),te=Boolean(null==A?void 0:A.localPinId)?null==A?void 0:A.localPinId:j,ne=L&&(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(z.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:b?void 0:{__style:K},children:(0,V.jsx)(le.Z,{children:(0,V.jsx)(Ce,{carouselSlotCurrentIndex:x&&x.index,component:0,onToggleModal:s,pinId:te,style:{size:"sm"},view:S,viewParameter:O,useLegoStyles:!0})})})})});return"equally-spaced"===c?(0,V.jsxs)(z.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:$}),o?ne:ee,o?ee:ne]}):(0,V.jsxs)(z.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,V.jsx)(z.xu,{flex:"shrink",children:$}),(0,V.jsx)(z.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:b?void 0:{__style:Y},children:(0,V.jsxs)(z.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[o?ne:ee,o?ee:ne,f&&(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(z.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:b?void 0:{__style:X},children:(0,V.jsx)(le.Z,{children:(0,V.jsx)(De,{feedbackData:i,feedbackType:a,pin:l,pinTitle:u,setForcePrimary:d})})})})})]})})]})})),Be=n(834911),Ze=n(447948);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e){var t=e.direction,n=e.swipeHandler,r=(0,U.ZP)(),o={left:r._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:r._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,V.jsx)(z.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===t,right:"right"===t,children:(0,V.jsx)(z.iP,{fullHeight:!0,fullWidth:!0,onTap:n,children:(0,V.jsx)(z.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-".concat(t),children:(0,V.jsx)(z.JO,{accessibilityLabel:o[t],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[t]})})})})}var Ge=(0,o.connect)(null,(function(e){return{changeCarouselSlotIndex:function(t,n){return e((0,Ze.yR)(t,n))}}}))((function(e){var t=e.pin,n=e.changeCarouselSlotIndex,r=(0,F.v)().logContextEvent,o=(0,Q.E)(),i=o.componentType,a=o.viewParameter,c=o.viewType,s=(0,Be.Z)({carouselData:t.carousel_data,images:t.images,richMetadata:t.rich_metadata,richSummary:t.rich_summary});if(!s)return null;var l=t.id,u=void 0===l?"":l,p=s.carousel_slots,f=void 0===p?[]:p,h=s.index,y=void 0===h?0:h,v=s.id;function m(e){return function(){var o="left"===e?y-1:y+1;n(u,o),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;r({event_type:108,object_id_str:u,component:i,view_type:c,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:f[e]&&Number(f[e].id),carouselDataId:Number(v),carouselSlotIndex:e,toCarouselSlotIndex:n}},aux_data:Ue({},(0,d.Kl)(t)||{})})}(y,o)}}return(0,V.jsxs)(z.xu,{height:"100%",position:"relative",width:"100%",children:[y>0&&(0,V.jsx)(le.Z,{children:(0,V.jsx)(Ve,{direction:"left",swipeHandler:m("left")})}),y<f.length-1&&(0,V.jsx)(le.Z,{children:(0,V.jsx)(Ve,{direction:"right",swipeHandler:m("right")})})]})})),He=n(337986),We=n(116303);function qe(e){var t=e.accessibilityLabel,n=e.attributionNameLink,r=e.avatarUrl,o=e.fullWidth,i=void 0===o||o,a=e.name,c=void 0===a?"":a,s=e.onClick,l=e.outline,u=void 0!==l&&l,d=e.size,p=void 0===d?32:d,f=e.shouldRenderAdsOnlyProfileClick,h=void 0!==f&&f,y=(0,V.jsx)(z.xu,{"data-test-id":"attribution-avatar",height:p,width:p,children:(0,V.jsx)(We.Z,{name:c,src:r,accessibilityLabel:"",outline:u})});return n?(0,V.jsx)(z.iP,{fullWidth:i,role:"link",href:n,rel:h?"nofollow":void 0,target:h?"blank":void 0,onTap:s,accessibilityLabel:t,children:y}):y}function Ye(e){var t=e.isHover,n=e.attributionNameLink,r=e.name,o=e.onClick,i=e.regularWeight,a=(0,te.F)().checkExperiment,c=!n&&a("web_disable_ads_blocker").anyEnabled;return(0,V.jsx)(z.xu,{children:(0,V.jsx)(z.xv,{underline:t,size:"200",lineClamp:1,weight:i?"normal":"bold",children:n?(0,V.jsx)(z.rU,{onClick:o,href:n,children:r}):c?(0,V.jsx)("span",{children:r}):r})})}function Ke(e){var t=e.isHover,n=e.link,r=e.onClick,o=e.title,i=e.weight;return o?(0,V.jsx)(z.xv,{inline:!0,underline:t,size:"200",weight:i,children:n?(0,V.jsx)(z.rU,{onClick:r,href:n,children:o}):o}):null}var Xe=n(865607),$e=n(807532);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rt(e){var t=e.attributionNameLink,n=e.attributionTitle,o=e.avatarUrl,i=e.display,c=void 0===i?"default":i,s=e.isPromotedByPinCreator,l=e.pin,u=e.name,d=e.url,p=e.verifiedIdentity,f=e.isVerifiedMerchant,h=e.shouldRenderAdsOnlyProfileClick,y=(0,$e.f)(),v=tt((0,r.useState)(!1),2),m=v[0],_=v[1],b=l.id,g=l.sponsorship,w=l.story_pin_data_id,P=(0,a.Z)(l).isPromoted,O=(0,F.v)().logContextEvent,S=((g||{}).creator||{}).id,x=!!w,j=(0,ve.Z)(101,{view_type:3,element:P?283:27,object_id_str:b,component:x?230:void 0,aux_data:Qe({},S?{creator_id:S,pin_id:b}:{})}),E=function(){y.setMostRecentPinId(b),j()},A=function(){_((function(e){return!e}))},T=d&&!t,I=T?"":u,k="overlay"===c,R=(0,V.jsxs)(z.xu,{alignItems:"center",display:k?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,V.jsx)(z.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:k?"flex":void 0,justifyContent:"center",children:(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:k?{__style:{marginTop:-45}}:void 0,children:(0,V.jsx)(qe,{attributionNameLink:I?t:void 0,avatarUrl:o,name:I,onClick:function(){return E()},accessibilityLabel:I,size:k?64:32,outline:k})})}),(0,V.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:k?"flex":void 0,justifyContent:"center",marginTop:k?2:void 0,children:[(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,V.jsxs)(z.kC,{gap:{row:1,column:0},children:[(0,V.jsx)(Ye,{attributionNameLink:t,name:u,onClick:function(){return E()},regularWeight:!(P&&!g||s),isHover:m}),(0,V.jsx)(Xe.Z,{size:"sm",hasVerifiedIdentity:p,isVerifiedMerchant:f})]})}),(0,V.jsx)(Ke,{isHover:m,title:n,weight:"normal"})]})]});return T?(0,V.jsx)(z.iP,{role:"link",onTap:function(e){var t=e.event;h&&O({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),t.stopPropagation(),E()},href:d,rel:h?"nofollow":void 0,target:h?"blank":void 0,onMouseEnter:A,onMouseLeave:A,children:R}):R}var ot=n(356725),it=n(333312),at=n(695014),ct=n(676464),st=n(596493),lt=n(422946),ut=n(956800),dt=n(852025);function pt(e){var t=e.board,n=e.favoriteCount,i=e.favorited,a=e.pinId,c=(0,F.v)().logContextEvent,s=(0,o.useDispatch)(),l=(0,Q.E)().slotIndex,u=(0,dt.s)(),d=u.currentFilter,p=u.eligibleFilters,f=u.refreshData,h=void 0===f?function(){}:f,y=u.sectionId,v=u.setShowExperienceTooltip,m=(0,r.useRef)(null),_=(0,Z.Z)(),b=(0,j.Z)(_,t),g=d===st.Ac&&(!n||1===n),w=(0,ct.E)(p,st.Ac),P=function(e){c({event_type:101,component:0,element:e?12225:12226,object_id_str:a,view_type:5,view_parameter:b?3069:3070})};return(0,V.jsxs)(r.Fragment,{children:[(0,V.jsx)(z.xu,{ref:m,children:(0,V.jsx)(at.Z,{favorited:i,favoriteCount:n,onFavorite:function(){P(!0),w&&h(),v&&v(!0)},onUnfavorite:function(){P(!1),t&&g&&s((0,ut.EX)({feedId:y||t.id,feedType:y?lt.DV.BOARD_SECTION_PINS:lt.DV.BOARDFEED,itemIds:[a],itemType:"pin"}))},pinId:a,size:20})}),m&&!i&&!y&&0===l&&(0,V.jsx)(z.mh,{children:(0,V.jsx)(it.default,{anchor:m.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ft,ht=n(850115),yt=n.n(ht),vt=n(379507),mt=n.n(vt),_t=n(637956),bt=n.n(_t),gt=n(694379),wt=n(909745),Pt=n.n(wt),Ot=n(128206),St=n.n(Ot);function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt={goodIdea:yt(),love:bt(),thanks:Pt(),wow:St(),haha:mt()},Et=(xt(ft={},7,"goodIdea"),xt(ft,1,"love"),xt(ft,13,"thanks"),xt(ft,11,"wow"),xt(ft,5,"haha"),ft),At=["CreatorProfileStoryPinGrid"];var Tt=function(e){var t=e.alignment,n=void 0===t?"start":t,r=e.pinId,o=e.pinner,i=e.reactionCounts,a=e.surface,c=(0,Z.Z)(),s=i?(0,$.At)(i):null,l=i?(0,$.Ud)(i):0,u=Boolean(c.isAuth&&(null==o?void 0:o.id)===c.id),d=!!s&&s.length>0&&s.map((function(e,t){var n=jt[Et[e]];return(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,V.jsx)(z.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(n,")"),backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),p=!!d&&(0,V.jsx)(z.iP,{role:"link",href:"/pin/".concat(r,"/"),children:(0,V.jsxs)(z.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:n,height:19,paddingY:3,children:[(0,V.jsx)(z.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,V.jsx)(z.xu,{paddingX:1,children:(0,V.jsx)(z.xv,{size:"200",children:(0,V.jsx)(gt.Z,{value:l,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),f=u&&At.includes(a)&&(0,V.jsx)(z.xu,{height:24});return p||f},It=n(62700),kt=n(862628);function Rt(e){var t=e.feedbackType,n=e.pin,r=(0,U.ZP)(),o=n.pinner,i=n.source_interest,a=o||{},c=a.full_name,s=a.username,l=(i||{}).name,u="topic"===t,d=!u&&"followed"===t,p="/".concat(s,"/"),f=(0,kt.Z)(l),h="/search/pins/?q=".concat(encodeURIComponent(f),"&rs=image_only_attribution"),y=u?h:p,v={topic:r._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:r._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:r._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:r._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[t];if(!v)return null;if(d||u){var m=0===v.indexOf("{"),_=u?l:c,b=m?v.slice(v.indexOf("}")+1):v.slice(0,v.indexOf("{"));return m?(0,V.jsxs)(z.xu,{children:[(0,V.jsx)(z.rU,{display:"inlineBlock",href:y,underline:"hover",children:(0,V.jsx)(z.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:_})}),(0,V.jsx)(z.xv,{inline:!0,size:"200",children:b})]}):(0,V.jsxs)(z.xu,{children:[(0,V.jsx)(z.xv,{inline:!0,size:"200",children:b}),(0,V.jsx)(z.rU,{display:"inlineBlock",href:y,underline:"hover",children:(0,V.jsx)(z.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:_})})]})}return(0,V.jsx)(z.xu,{children:(0,V.jsx)(It.Z,{pin:n,children:(0,V.jsx)(z.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:v})})})}var Ct=n(955362),Dt=n(397066),Nt=n(48714);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ht(e);if(t){var o=Ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vt(this,n)}}function Vt(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gt(e)}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(i,e);var t,n,r,o=Ft(i);function i(){var e;Zt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wt(Gt(e=o.call.apply(o,[this].concat(n))),"state",{spamCheck:null}),Wt(Gt(e),"mounted",!1),Wt(Gt(e),"handleSpammyDomainCheck",(function(){var t=e.props,n=t.location,r=t.pin,o=t.surface,i=t.url;i&&r&&(0,Nt.$3)({location:n,pin:r,surface:o})&&(0,Nt.iw)({isMounted:e.mounted,pin:r,location:n,spamCheckCallback:function(t){return e.setState({spamCheck:t})},href:i})})),Wt(Gt(e),"handleClick",(function(t){var n=e.props,r=n.auxData,o=n.location,i=n.onClick,a=n.pin,c=n.pinId,s=n.url,l=n.logContextEvent;(0,Nt.gV)({isOffsiteUrl:!0,event:t})||(t.preventDefault(),i&&i(t),s&&(0,Dt.h)({href:s,pinId:c,pin:a,location:o,auxData:r},l))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.handleSpammyDomainCheck()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.pin,r=e.url;return(0,V.jsx)("a",{"aria-label":(null==n?void 0:n.domain)||"",href:r,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:t})}}])&&zt(t.prototype,n),r&&zt(t,r),i}(r.Component);function Yt(e){var t,n=(0,F.v)().logContextEvent,r=(0,oe.S6)()(null!==(t=e.pinId)&&void 0!==t?t:"");return(0,V.jsx)(qt,Bt(Bt({},e),{},{history:(0,me.useHistory)(),location:(0,me.useLocation)(),logContextEvent:n,match:(0,me.useRouteMatch)(),pin:r}))}function Kt(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}var Xt=n(941646),$t=n(385740);function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){en(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tn(e){var t,n=e.children,r=e.componentType,o=e.contextLogData,i=e.pin,a=e.surface,c=e.viewParameter,s=e.viewType,l=(0,F.v)().logContextEvent,u=(0,Q.E)(),d=i.ad_destination_url,p=i.carousel_data,f=i.id,h=i.link,y=i.tracked_link,v=d||y||h||"",m="one-tap-desktop",_=(0,$t.SU)();if(p){var b=p.carousel_slots,g=void 0===b?[]:b,w=p.id,P=p.index,O=void 0===P?0:P;g[O]&&g[O].link&&(v=g[O].link),t={carousel_slot_id:g[O]&&g[O].id,carousel_data_id:w,carousel_slot_index:O},m+="-carousel"}return(0,V.jsx)(z.xu,{"data-test-id":"otpp",children:(0,V.jsx)(Xt.Z,{id:m,children:(0,V.jsx)(Yt,{auxData:t,onClick:function(){l({event_type:12,view_type:s||u.viewType,view_parameter:c||u.viewParameter,component:r||u.componentType,object_id_str:f,aux_data:Qt(Qt({},o),{},{grid_index:u.slotIndex,pin_id:f,prefetch_percentage_complete:Kt(h||"")})}),l({event_type:8948,view_type:s||u.viewType,view_parameter:c||u.viewParameter,component:r||u.componentType,object_id_str:f,aux_data:Qt(Qt({},o),{},{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:u.slotIndex,pin_id:f,prefetch_percentage_complete:Kt(h||"")})}),l({event_type:13,object_id_str:f,component:r||u.componentType,view_type:3,aux_data:Qt(Qt({closeup_navigation_type:"web_closeup"},u.contextLogData),o)}),l({event_type:13,view_type:_.viewType,view_parameter:_.viewParameter,view_data:_.viewData})},pinId:f,surface:a,url:v,children:n})})})}var nn=["surface"];function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function cn(e){var t=e.surface,n=an(e,nn),r=(0,a.Z)(e.pin),o=r.isOneTap,i=r.isVideo,c=r.isPromoted,s=!r.isLeadPin&&(o||i&&c)?tn:It.Z;return(0,V.jsx)(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({surface:o?t:void 0},n))}function sn(e){var t=e.pin,n=e.pinNoteText;return(0,V.jsx)(cn,{pin:t,children:(0,V.jsx)(z.xv,{lineClamp:1,overflow:"normal",size:"200",children:n})})}var ln=n(81226);function un(e){var t=e.value,n=e.valueFormat,r=(0,U.ZP)();return t||0===t?"TIME"===n?(0,ln.Z)(t):(0,V.jsx)(gt.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:t}):(0,V.jsx)(z.u,{idealDirection:"up",text:r._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}var dn=n(539002);function pn(e){var t,n,r=e.pin,o=(0,U.ZP)(),i=(0,Z.Z)(),c=(0,a.Z)(r),s=c.isStoryPin,l=c.isVideo,u=i.isAuth&&(null===(t=r.pinner)||void 0===t?void 0:t.id)===i.id&&!r.is_repin,d=i.isAuth&&i.isPartner,p=(0,dn.Z)("pinStats"),f=!!d&&p(),h=(0,ne.iL)({isOwnPin:u,isPartner:d}),y=(0,ne.H1)({isOwnPin:u,isPartner:d}),v=r.created_at?new Date(r.created_at):null,m=(h||y)&&v&&v.getTime()<=ne.HW.getTime(),_=h?function(e){var t=e.public_creator_analytics;return(0,a.Z)(e).isStoryPin&&t?t:null}(r):function(e){var t=e.aggregated_pin_data,n=e.creator_analytics,r=(t||{}).creator_analytics,o=(0,a.Z)(e).isStoryPin;return!n||!o&&r?r:n}(r),b=function(e){var t=e.isVideo,n=e.isStoryPin,r=e.i18n,o=e.showPublicPinStats,i=e.showPrivateFullScreenPinStats;return e.showSCEMetrics&&!o?[{align:"start",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:r._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"},{align:"center",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:r._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:r._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]:n?o?[{align:"start",displayText:r._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:i?[{align:"start",displayText:r._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:r._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:r._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}({isVideo:l,isStoryPin:s,i18n:o,showPublicPinStats:h,showPrivateFullScreenPinStats:y,showSCEMetrics:f});return n=f?(null==_?void 0:_.all_time_realtime)||(null==_?void 0:_["30d_realtime"]):l||s?null==_?void 0:_.all_time_realtime:null==_?void 0:_["30d_realtime"],(0,V.jsx)(z.kC,{alignItems:"stretch",justifyContent:"start",children:b.map((function(e){var t,r=e.align,o=e.displayText,i=e.field,a=e.iconType,c=e.iconSize,s=void 0===c?12:c,l=e.valueFormat;return(0,V.jsxs)(z.xu,{alignItems:"center",column:4,display:"flex",justifyContent:r,children:[(0,V.jsx)(z.xu,{display:"inlineBlock",marginEnd:1,children:(0,V.jsx)(z.JO,{accessibilityLabel:o,color:"default",icon:a,size:s})}),(0,V.jsx)(z.xv,{inline:!0,size:"200",children:(0,V.jsx)(un,{value:"full_screen_play"===i&&m?null:null===(t=n)||void 0===t?void 0:t[i],valueFormat:l})})]},i)}))})}function fn(e){var t=e.currentPrice,n=e.disableLink,r=e.originalPrice,o=e.pin,i=e.surface,a=r&&r!==t,c=(0,V.jsxs)(z.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[t&&(0,V.jsx)(z.xv,{color:"default",size:"200",weight:"bold",children:t}),a&&(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,V.jsx)(z.xv,{color:"subtle",size:"200",weight:"bold",children:r})})]});return n?c:(0,V.jsx)(cn,{pin:o,surface:i,children:c})}function hn(e){var t=e.disableLink,n=e.pin,r=e.surface,o=(0,V.jsx)(z.kC,{alignItems:"stretch",justifyContent:"start",children:(0,V.jsx)(z.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:p(n,r)})});return t?o:(0,V.jsx)(cn,{pin:n,surface:r,children:o})}var yn=n(202870);function vn(e){var t=e.disableLink,n=e.numberOfLines,r=void 0===n?2:n,o=e.pin,i=e.pinTitle,a=e.surface,c=t?i:(0,V.jsx)(cn,{pin:o,surface:a,children:i});return(0,V.jsx)(z.xv,{color:"default",lineClamp:r,size:"200",weight:"bold",children:c})}var mn=n(327476),_n=n(225692),bn={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:"opacity ".concat(_n.X,"ms ease")},visible:{opacity:1}}};function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){var t,n,i,c,s=e.attributionType,l=e.board,u=e.feedbackData,d=e.feedbackType,p=e.hasTextContent,f=e.hasTitleOrSource,y=e.hoverTransitionState,v=e.pin,m=e.pinNoteText,_=e.pinTitle,b=e.productCurrentPrice,g=e.productOriginalPrice,w=e.setForcePrimary,P=e.showCarouselEllipsis,O=e.showFavoriteButton,S=e.showGroupBoardAvatar,x=e.showNativeReactions,j=e.showOverflowMenu,E=e.showPinStats,A=e.showSource,T=e.showTextContent,I=e.showAttribution,k=e.surface,R=e.titleLines,C=(0,U.ZP)(),D=(0,Z.Z)(),N=(0,o.useDispatch)(),L=v.favorited_by_me,M=v.favorite_user_count,B=v.id,F=v.pinner,G=v.reaction_counts,H=v.sponsorship,W=(v.story_pin_data||{}).has_affiliate_products,q=(0,te.F)().checkExperiment,Y=(0,mn.Z)(),K=function(e,t,n,r,o){var i,c,s,l,u,d,p,f,h,y,v,m,_,b=e.board,g=e.link_domain,w=void 0===g?{}:g,P=e.promoter,O=e.sponsorship,S=e.native_creator,x=(O||{}).sponsor,j=(0,a.Z)(e).isPromoted,E=(w||{}).official_user,A=j&&!!O&&(null==S?void 0:S.id)!==(null==P?void 0:P.id),T=e.pinner||{},I="",k="",R="",C="",D="",N="",L=!1,M=!1,B=!1;function Z(e,t){return r&&!!e&&!!t}if(A)I=null!==(d=null!==(p=null==S?void 0:S.image_medium_url)&&void 0!==p?p:null==S?void 0:S.image_small_url)&&void 0!==d?d:"",k=Z(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)?null!==(f=S.ads_only_profile_site)&&void 0!==f?f:"":"/".concat(null!==(h=null==S?void 0:S.username)&&void 0!==h?h:"","/"),R=null==P?void 0:P.full_name,C=null==S?void 0:S.full_name,N=Z(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)?null!==(y=S.ads_only_profile_site)&&void 0!==y?y:"":"/".concat(null!==(v=null==S?void 0:S.username)&&void 0!==v?v:"","/"),D="/".concat(null!==(m=null==P?void 0:P.username)&&void 0!==m?m:"","/"),L=null==S||null===(_=S.verified_identity)||void 0===_?void 0:_.verified,M=null==S?void 0:S.is_verified_merchant,B=Z(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site);else if(j&&P)I=P.image_medium_url||P.image_small_url,R=P.full_name,C=n._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),o&&(C=o(C)),N=Z(P.is_ads_only_profile,P.ads_only_profile_site)?P.ads_only_profile_site:"/".concat(P.username,"/"),B=Z(P.is_ads_only_profile,P.ads_only_profile_site);else if(O&&null!=x&&x.username){var z,U,F,V,G,H,W,q,Y;I=null!==(z=null!==(U=null!==(F=null==S?void 0:S.image_large_url)&&void 0!==F?F:null==S?void 0:S.image_medium_url)&&void 0!==U?U:null==S?void 0:S.image_small_url)&&void 0!==z?z:"",k=Z(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)?null!==(V=S.ads_only_profile_site)&&void 0!==V?V:"":"/".concat(null!==(G=null==S?void 0:S.username)&&void 0!==G?G:"","/"),R=x.full_name,C=null==S?void 0:S.full_name,N=Z(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)?null!==(H=S.ads_only_profile_site)&&void 0!==H?H:"":"/".concat(null!==(W=null==S?void 0:S.username)&&void 0!==W?W:"","/"),D="/".concat(null!==(q=x.username)&&void 0!==q?q:"","/"),L=null==S||null===(Y=S.verified_identity)||void 0===Y?void 0:Y.verified,M=null==S?void 0:S.is_verified_merchant,B=Z(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)}else if(S){var K,X,$,J;I=null!==(K=null!==(X=null!==($=S.image_large_url)&&void 0!==$?$:S.image_medium_url)&&void 0!==X?X:S.image_small_url)&&void 0!==K?K:"",C=S.full_name,N=Z(S.is_ads_only_profile,S.ads_only_profile_site)?S.ads_only_profile_site:"/".concat(S.username,"/"),L=null===(J=S.verified_identity)||void 0===J?void 0:J.verified,M=S.is_verified_merchant,B=Z(S.is_ads_only_profile,S.ads_only_profile_site)}else if("show-for-claimed-content"===t){var Q,ee,te,ne,re;null!=E&&E.is_primary_website_verified&&E.username&&(I=null!==(Q=null!==(ee=null!==(te=E.image_large_url)&&void 0!==te?te:E.image_medium_url)&&void 0!==ee?ee:E.image_small_url)&&void 0!==Q?Q:"",C=E.full_name,N=Z(E.is_ads_only_profile,E.ads_only_profile_site)?E.ads_only_profile_site:"/".concat(null!==(ne=E.username)&&void 0!==ne?ne:"","/"),L=null===(re=E.verified_identity)||void 0===re?void 0:re.verified,M=E.is_verified_merchant,B=Z(E.is_ads_only_profile,E.ads_only_profile_site))}else{var oe,ie,ae,ce;I=null!==(oe=null!==(ie=null!==(ae=T.image_large_url)&&void 0!==ae?ae:T.image_medium_url)&&void 0!==ie?ie:T.image_small_url)&&void 0!==oe?oe:"",k="/".concat(T.username,"/"),C=T.full_name,N=b?b.url:"",L=null===(ce=T.verified_identity)||void 0===ce?void 0:ce.verified,M=T.is_verified_merchant}return{avatarUrl:null!==(i=I)&&void 0!==i?i:"",attributionNameLink:null!==(c=k)&&void 0!==c?c:"",attributionTitle:null!==(s=R)&&void 0!==s?s:"",name:null!==(l=C)&&void 0!==l?l:"",sponsorUrl:D,url:null!==(u=N)&&void 0!==u?u:"",verifiedIdentity:!!L,isVerifiedMerchant:!!M,shouldRenderAdsOnlyProfileClick:!!B}}(v,s,C,q("web_ads_only_profiles_link_redirect").anyEnabled,Y),X=K.avatarUrl,$=K.attributionNameLink,J=K.attributionTitle,Q=K.name,ee=K.sponsorUrl,ne=K.url,re=K.verifiedIdentity,oe=K.isVerifiedMerchant,ie=K.shouldRenderAdsOnlyProfileClick,ae=!!v.promoter&&!v.is_downstream_promotion,ce=ae&&(null===(t=v.native_creator)||void 0===t?void 0:t.id)===(null===(n=v.promoter)||void 0===n?void 0:n.id),se=(0,ve.Z)(101,{view_type:3,element:27,object_id_str:B,component:v.story_pin_data_id?230:void 0,aux_data:wn({pin_id:B},null!=H&&null!==(i=H.creator)&&void 0!==i&&i.id&&null!==(c=H.sponsor)&&void 0!==c&&c.id?{creator_id:H.creator.id,sponsor_id:H.sponsor.id}:{})}),le=function e(t){return N(e(t))},ue=((null==H?void 0:H.sponsor)||{}).full_name,de="ConversationView"===k?{padding:"8px"}:bn.container;return(0,V.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:de},children:[P&&(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:f||S||"none"!==s?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,V.jsx)(ot.default,{pinId:B})}),E&&(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,V.jsx)(pn,{pin:v})}),(0,V.jsx)(z.kC,{alignItems:"stretch",justifyContent:"start",children:(0,V.jsxs)(z.xu,{flex:"grow",children:[(!!H||W&&!ae)&&!ce&&(0,V.jsx)(z.xu,{marginBottom:1,children:(0,V.jsx)(z.xu,{flex:"grow",overflow:"hidden",children:(0,V.jsx)(yn.Z,{hasAffiliateProducts:W,href:ee||ne,isPromoted:ae,sponsorName:ue,sponsorshipStatus:null==H?void 0:H.status,onNavigateSponsorClick:function(){le(B),se()},textWeight:"bold"})})}),(T&&p||O)&&(0,V.jsxs)(z.xu,{marginBottom:1,children:[(g||b)&&(0,V.jsx)(z.xu,{marginBottom:1,children:(0,V.jsx)(fn,{currentPrice:b,originalPrice:g,pin:v,surface:k})}),O?(0,V.jsxs)(z.kC,{alignItems:"start",children:[(0,V.jsx)(z.kC,{flex:"grow",children:(0,V.jsx)(vn,{numberOfLines:R,pin:v,pinTitle:_,surface:k})}),(0,V.jsx)(z.xu,{marginStart:3,children:(0,V.jsx)(pt,{board:l,favorited:!!L,favoriteCount:null!=l&&l.is_collaborative&&(0,h.Z)({board:l,viewer:D})?null!=M?M:0:void 0,pinId:B})})]}):(0,V.jsx)(vn,{numberOfLines:R,pin:v,pinTitle:_,surface:k}),A&&(0,V.jsx)(z.xu,{marginBottom:2,children:(0,V.jsx)(hn,{pin:v,surface:k})})]}),I&&(0,V.jsxs)(z.kC,{alignItems:"center",justifyContent:"start",children:[(0,V.jsx)(z.xu,{flex:"grow",children:function(){var e=(0,V.jsx)(rt,{attributionNameLink:$,attributionTitle:ae&&!H||ce?J:"",avatarUrl:X,isPromotedByPinCreator:!!ce,isVerifiedMerchant:oe,shouldRenderAdsOnlyProfileClick:ie,name:Q,pin:v,url:ne,verifiedIdentity:re});switch(s){case"none":return null;case"image-only-credit":return(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:bn.imageOnlyAttribution["active"===y?"visible":"hidden"]},children:(0,V.jsx)(Rt,{pin:v,feedbackType:d})});default:return Object.values(K).some((function(e){return Boolean(e)}))?e:null}}()}),j&&(0,V.jsx)(z.xu,{flex:"none",children:(0,V.jsx)(Ct.default,{feedbackData:u,feedbackType:d,pin:v,pinTitle:_,setForcePrimary:w,transparentBackground:!0})})]}),x&&!!G&&Object.keys(G).length>0&&(0,V.jsx)(z.xu,{marginTop:"ConversationView"===k?2:void 0,children:(0,V.jsx)(Tt,{pinId:B,pinner:F,reactionCounts:G,surface:k})}),m&&(0,V.jsx)(z.xu,{marginBottom:1,children:(0,V.jsx)(sn,{pin:v,pinNoteText:m})}),S&&!O&&(0,V.jsx)(z.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,V.jsxs)(r.Fragment,{children:[(0,V.jsx)(qe,{attributionNameLink:$||ne,avatarUrl:X,fullWidth:!1,name:Q,accessibilityLabel:Q,shouldRenderAdsOnlyProfileClick:ie}),(0,V.jsx)(z.xu,{marginStart:2,flex:"grow",children:(0,V.jsx)(z.xv,{size:"200",children:Q})})]})})]})},"".concat(v.id,"-sponsor-name-link"))]})}var Sn=n(149230);function xn(){var e=(0,U.ZP)();return(0,V.jsx)(z.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}var jn=n(104389);function En(){var e=(0,U.ZP)();return(0,V.jsx)(z.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}var An=18;function Tn(e){var t,n,r,o=e.dimension,i=e.color,a=e.isSelected,c=e.img,s=e.selectVariant,l=(0,U.ZP)(),u=(0,V.jsx)(z.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),s({dimensionName:o,variant:i})},onFocus:function(){s({dimensionName:o,variant:i})},children:(0,V.jsx)(z.xu,{"data-test-id":"primary-variant-preview-icon-".concat(i),height:An,width:An,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:a?"1px solid black":"1px solid #EFEFEF"}},children:(0,V.jsx)(z.xu,{height:14,width:14,position:"absolute",rounding:1,overflow:"hidden",children:(0,V.jsx)(z.xu,{"data-test-id":"".concat(i,"-variant-preview-wrapper"),dangerouslySetInlineStyle:{__style:{transform:"scale(".concat(10,",").concat(10,")")}},children:(0,V.jsx)(z.zd,{height:14,width:14,rounding:1,children:(0,V.jsx)(z.Ee,{alt:l._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(t=c.height)&&void 0!==t?t:1,naturalWidth:null!==(n=c.width)&&void 0!==n?n:1,src:null!==(r=c.url)&&void 0!==r?r:"",fit:"contain"})})})})})});return(0,V.jsx)(z.xu,{"data-test-id":"primary-variant-main-".concat(i),display:"inlineBlock",height:An,rounding:1,width:An,children:u})}function In(){var e=(0,F.v)().logContextEvent,t=(0,ae.Xx)(),n=t&&t.primaryVariants.filter((function(e){return e.image})).length>0;if((0,r.useEffect)((function(){e({event_type:120,component:14092})}),[n,e]),!t)return null;var o=t.primaryVariants,i=t.primaryDimName,a=o.slice(0,6).map((function(e){var n=e.value,r=e.value===t.selectedMap[i],o=e.image;return o?(0,V.jsx)(Tn,{dimension:i,color:n,isSelected:r,img:o,selectVariant:t.selectVariant},n):null})).filter(Boolean);if(o.length>6){var c=o.length-6;a.push((0,V.jsx)(z.xu,{"data-test-id":"plus-number",display:"flex",height:An,rounding:1,width:An,justifyContent:"center",children:(0,V.jsxs)(z.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:function(e){e.event.stopPropagation()},children:["+",c]})},6))}return(0,V.jsx)(z.kC,{justifyContent:"start",alignItems:"center",gap:3,children:a})}function kn(e){var t,n=e.contentType,o=e.hasTextContent,i=e.pin,a=e.pinTitle,c=e.productCurrentPrice,s=e.productOriginalPrice,l=e.productRating,u=e.productShipping,p=e.showSource,f=e.showVisitSiteButton,h=e.surface,y=e.titleLines,v=(0,F.v)().logContextEvent,m=(0,U.ZP)(),_=(0,te.F)().checkExperiment,b=_("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}),g=b.anyEnabled,w=b.group,P=(null===(t=i.rich_summary)||void 0===t?void 0:t.url)||i.link;"shopping"!==n||w.includes("pwt")||_("web_shopping_grid_metadata_ratings_shipping");var O=null;(0,ae.Xx)()&&(_("storefront_variant_pins").anyEnabled&&(O=(0,V.jsx)(In,{})));var S=(0,Sn.Z)({url:P})?"nofollow":"none";return(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:bn.productContainer},height:"100%",children:(0,V.jsx)(z.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:o&&(0,V.jsxs)(r.Fragment,{children:[(0,V.jsx)(cn,{pin:i,surface:h,children:(0,V.jsxs)(z.kC,{direction:"column",gap:1,children:[(s||c)&&(0,V.jsx)(fn,{currentPrice:c,disableLink:!0,originalPrice:s,pin:i,surface:h}),(0,d.qN)(i)&&(0,V.jsx)(xn,{}),(0,d.SP)(i)&&(0,V.jsx)(En,{}),(0,V.jsx)(vn,{disableLink:!0,numberOfLines:y,pin:i,pinTitle:a,surface:h}),p&&(0,V.jsx)(hn,{disableLink:!0,pin:i,surface:h}),"shopping"===n&&g&&(l||Number.isFinite(null==u?void 0:u.free_shipping_value))&&(0,V.jsx)(jn.Z,{count:null==l?void 0:l.count,countFormat:"number",isGridView:!0,ratingValue:null==l?void 0:l.rating,shippingInfo:u}),O]})}),f&&P?(0,V.jsx)(z.xu,{marginTop:2,children:(0,V.jsx)(z.zx,{role:"link",fullWidth:!0,href:P,rel:S,onClick:function(){v({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:m._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}var Rn=(0,r.memo)((function(e){var t=e.attributionType,n=e.blockClickEvents,r=e.board,o=e.contentType,i=e.feedbackData,a=e.feedbackType,c=e.hoverTransitionState,s=e.pin,l=e.pinNoteText,u=e.pinTitle,d=e.productCurrentPrice,p=e.productOriginalPrice,f=e.productRating,h=e.productShipping,y=e.setForcePrimary,v=e.showCarouselEllipsis,m=e.showFavoriteButton,_=e.showGroupBoardAvatar,b=e.showNativeReactions,g=e.showOverflowMenu,w=e.showPinStats,P=e.showSource,O=e.showTextContent,S=e.showVisitSiteButton,x=e.showAttribution,j=void 0===x||x,E=e.surface,A=e.titleLines,T=u||P,I="shopping"===o?(0,V.jsx)(kn,{contentType:o,hasTextContent:!!T,pin:s,pinTitle:u,productCurrentPrice:d,productOriginalPrice:p,productRating:f,productShipping:h,showSource:P,showVisitSiteButton:S,surface:E,titleLines:A}):(0,V.jsx)(On,{attributionType:t,board:r,feedbackData:i,feedbackType:a,hasTextContent:!!T,hasTitleOrSource:!!T,hoverTransitionState:c,pin:s,pinNoteText:l,pinTitle:u,productCurrentPrice:d,productOriginalPrice:p,setForcePrimary:y,showCarouselEllipsis:v,showFavoriteButton:m,showGroupBoardAvatar:_,showNativeReactions:b,showOverflowMenu:g,showPinStats:w,showSource:P,showTextContent:O,showAttribution:j,surface:E,titleLines:A});return n?(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:I}):(0,V.jsx)(z.kC,{flex:"grow",children:(0,V.jsx)(le.Z,{fullWidth:!0,children:I})})})),Cn=n(685909),Dn=n(784590),Nn=n(990823);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn=(0,r.lazy)((function(){return n.e(34979).then(n.bind(n,91540))})),zn=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(41007),n.e(50192),n.e(81165),n.e(43473)]).then(n.bind(n,666258))})),Un=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(41007),n.e(50192),n.e(81165),n.e(22347)]).then(n.bind(n,494424))})),Fn=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(67419),n.e(22538)]).then(n.bind(n,450564))})),Vn=(0,r.lazy)((function(){return n.e(1593).then(n.bind(n,331806))}));function Gn(e){var t=e.derivedSaveButtonOptions,n=e.forcePrimaryContent,i=e.showEnabledSaveBehavior,a=e.onToggleFlyout,c=e.onToggleModal,s=e.pin,l=(0,ae.Xx)(),u=function(e){return(0,Dn.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==l?void 0:l.variantUrl),d=u&&u.data?u.data:s,p=d.id,f=d.savedInfo,h=(0,r.useRef)(!!f),y=(0,o.useSelector)((function(e){var t=e.experiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),v=(0,Nn.tY)(i).saveBehaviorType;void 0!==v&&["classic","controlled","inline"].includes(t.type)&&(t=v);var m=(0,Q.E)(),_=m.viewParameter,b=m.viewType,g=(0,ve.Z)(101,{element:0,object_id_str:p}),w=null,P={onToggleModal:a,view:b,viewParameter:_,useLegoStyles:!0};if(!t.hidePinBetterSaveDropdown&&(y||i&&["classic","controlled"].includes(t.type))&&["classic","controlled","inline"].includes(t.type)){var O=t.renderPinSaveTooltip,S=void 0===O?void 0:O;w=(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(le.Z,{children:(0,V.jsx)(Fn,{experience:y||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:S,showEnabledSaveBehavior:i,viewParameter:_})})})})}else if("classic"===t.type||"controlled"===t.type){var x=t.renderPinSaveTooltip;w=(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(z.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,V.jsx)(le.Z,{children:(0,V.jsx)(zn,{onClickCallback:g,onToggleModal:c,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:x,renderSavedStatus:function(){return!!f&&(0,V.jsx)(le.Z,{children:(0,V.jsx)(Cn.Z,{isNewlySaved:!h.current,name:f.title,type:f.type,url:f.url})})},variant:"lego",viewParameter:_})})})})})}else if("inline"===t.type){var j=d,A=t,T=A.initialSelection,I=A.onSave,k=A.renderPinSaveTooltip,R=A.hidePinBetterSaveDropdown;w=(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(z.xu,{"data-test-id":"better-save",children:(0,V.jsx)(le.Z,{children:(0,V.jsx)(Un,{initialSelection:T,onSave:I,onToggleFlyout:a,onToggleModal:c,pin:j,renderPinSaveTooltip:k,renderSavedStatus:function(e){var t=e.savedInfo;return t&&(0,V.jsx)(le.Z,{children:(0,V.jsx)(Cn.Z,{isNewlySaved:!h.current,name:t.title,type:t.type,url:t.url,shouldUseLegoStyles:!0})})},variant:"pin",viewParameter:_,hideDropdown:R})})})})})}else"persistentOneClickSave"===t.type?w=(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(z.xu,{"data-test-id":"persistent-one-click-save",children:(0,V.jsx)(le.Z,{children:(0,V.jsx)(Zn,Mn(Mn({},P),{},{saveOptions:t,pin:d}))})})})}):"promote"===t.type&&(w=(0,V.jsx)(z.kC,{alignItems:"stretch",justifyContent:"end",children:(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(z.xu,{"data-test-id":"pin-promote-button",children:(0,V.jsx)(le.Z,{children:(0,V.jsx)(Vn,{pin:d})})})})})}));return(0,V.jsx)(E.Z,{name:"PinRepPrimaryContent",children:(0,V.jsx)(z.xu,{display:"flex",margin:3,children:w&&(0,V.jsx)(z.xu,{marginStart:"auto",flex:"grow",children:w})})})}var Hn=n(64446),Wn={marginTop:"1px"};function qn(e){var t=e.cta,n=(0,U.ZP)();return(0,V.jsx)(z.iP,{children:(0,V.jsx)(z.xu,{"data-test-id":"pinrep-chin",minHeight:32,color:"secondary",dangerouslySetInlineStyle:{__style:Wn},children:(0,V.jsxs)(z.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,V.jsx)(z.xv,{size:"200",weight:"bold",children:t||n._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,V.jsx)(z.JO,{icon:"arrow-forward",size:12,accessibilityLabel:n._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default"})]})})})}var Yn=n(40706),Kn=n(876371),Xn=n(438908),$n=n(453782),Jn={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function Qn(e){var t=e.isSelected,n=(0,U.ZP)();return(0,V.jsx)(z.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:t?Jn:{},children:(0,V.jsx)(z.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,V.jsx)(z.xu,{alignItems:"center",color:t?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,V.jsx)(z.JO,{accessibilityLabel:n._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var er=n(124364),tr=n(802933),nr=n(674915),rr=n(944546),or=n(428258),ir=n(172071),ar={},cr=function(e){ir.Z.increment("web_prefetch_via_xhr.attempt",1);var t=(0,fe.Z)(e);return new Promise((function(n,r){if(window.navigator&&window.navigator.connection){var o=window.navigator.connection;o.saveData&&(ir.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(o.effectiveType)&&(ir.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200===i.status?(ar[e]&&(ar[e].loaded=!0),ir.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(i.response)):(ir.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),r())},ar[e]||(i.send(),ar[e]={added:!0,xhr:i},ir.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},sr={},lr=function(e,t){var n="string"==typeof e?e:e.url;if(t&&n){var r="control"===t?"v3.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",r)}return n};function ur(e,t){return(lr("https://v.pinimg.com/videos/mc/hls/",t)||"")+"".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6),"/").concat(e)}function dr(e){var t=e.id;t&&sr[t]&&sr[t].length>0&&sr[t].forEach((function(e){!function(e){ar[e]&&ar[e].xhr&&!ar[e].loaded&&(ir.Z.increment("web_prefetch_abort_xhr",1),ar[e].xhr.abort(),ar[e].aborted=!0)}(e)}))}function pr(e){var t=e.autoplaySettingOff,n=e.blockClickEvents,o=e.fallbackColor,i=e.imageFit,c=e.imageHeightModifier,s=e.isDenseView,l=e.isHovering,u=e.isSocialSeasonalBoard,d=void 0!==u&&u,p=e.onError,f=e.onLoad,h=e.pin,y=e.pinImageCrop,v=e.resolution,m=void 0===v?"default":v,_=e.rootMargin,b=e.selectionState,g=e.showCarousel,w=e.showPromotedVideos,P=e.showLeadPinStdBeta,O=e.showUnavailablePin,S=e.surface,x=(0,Q.E)(),j=x.contextLogData,E=x.slotIndex,A=x.viewParameter,T=x.viewType,I=(0,te.F)().checkExperiment,k=I("web_prefetch_video_in_feed").group,R=h.id,C=void 0===R?"":R,D=h.aggregated_pin_data,N=h.image_signature,L=h.story_pin_data,M=(D||{}).pin_tags_chips,B=(0,a.Z)(h),Z=B.isOneTap,U=B.isVideo,F=B.isPromoted,G=B.isGif,H=function(e){return"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width}}(y),W=H.cropHeight,q=H.cropWidth,Y=null;if(O)Y=(0,V.jsx)(er.Z,{isDenseView:s,height:s?250:420,rounding:0,width:s?164:236});else if(t||!U||!w&&F||"BoardCoverSelectablePin"===S)if(g)Y=(0,V.jsx)(z.xu,{"data-test-id":"pinrep-carousel",children:(0,V.jsx)(Kn.Z,{cropHeight:W,cropWidth:q,onError:p,onLoad:f,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:C,showCarouselBadge:!1,pin:h})});else{var K="backend"===y?function(e){var t,n=e.images,r=e.image_crop,o=n&&(null===(t=n["236x"])||void 0===t?void 0:t.height);if(r&&(0!==r.min_y||1!==r.max_y)){var i=r.min_y,a=void 0===i?0:i,c=r.max_y,s=void 0===c?0:c;return{marginTop:"".concat(a>0?-1*a*(null!=o?o:0):0,"px"),marginBottom:"".concat(s<1?Math.round(-1*(1-s)*(null!=o?o:0)):0,"px")}}return{}}(h):{};Y=(0,V.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:K},"data-test-id":"pinrep-image",minHeight:55,children:[(0,V.jsx)(Xn.Z,{animateGif:G&&d,cropHeight:W,cropWidth:q,fallbackColor:o,imageFit:i,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:f,onError:p,pin:h}),P&&(0,V.jsx)(qn,{cta:h.call_to_action_text})]})}else Y=(0,V.jsxs)(z.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:W||void 0,justifyContent:"center",children:[(0,V.jsx)($n.Z,{cropHeight:W,cropWidth:q,highResOnly:"high-res"===m,imageHeightModifier:c,inAdsDesktopVideoExperiment:U&&w,isExperimentalPinRep:!0,lowResOnly:"low-res"===m,onError:p,onLoad:f,pin:h,rootMargin:_,surface:S,viewParameter:A,viewType:T}),P&&(0,V.jsx)(qn,{cta:h.call_to_action_text})]});var X=(0,V.jsx)(z.zd,{wash:!0,children:(0,V.jsx)(de.Z,{hovered:l,pin:h,slotIndex:E,viewType:1,children:Y})}),$=["selected-image-only","deselected-image-only"].includes(b),J="selected-image-only"===b,ee=(0,r.useRef)(!0),ne=(0,r.useRef)(!1),re=(0,r.useRef)(!1),oe=I("web_video_quic").group;if((0,r.useEffect)((function(){ee.current||!l||Z||n||ne.current?l||!ne.current||re.current||(dr(L||h),re.current=!0):L?(!function(e,t){var n,r=e.id,o=e.pages,i=e.pages_preview;if(i||o){var a=i?i[0]:null==o?void 0:o[0],c=null==a||null===(n=a.blocks)||void 0===n?void 0:n.find((function(e){return 3===e.block_type}));if(c&&c.video){var s=(0,or.Z)(c.video)||{},l=s.hlsv3,u=s.mp4||l;if(u&&r){var d,p=null!==(d=lr(u,t))&&void 0!==d?d:"";sr[r]=sr[r]?sr[r].concat(p):[p],cr(p)}}}}(L,oe),ne.current=!0):(!function(e,t){var n=e.id,r=(e.videos||{}).video_list,o=(0,tr.Z)({pin:e}),i=((0,nr.Z)(o)||{}).video||{},a=i.hls,c=i.hlsv3;if(r){var s=(0,or.t)(r)||{},l=c||a||{};if(l.url){var u,d=null!==(u=lr(l.url,t))&&void 0!==u?u:"";sr[n]=sr[n]?sr[n].concat(d):[d],cr(d).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".m3u8")}))),r&&r[rr.VS]){var o=ur(r[rr.VS],t);return sr[n]=sr[n].concat(o),cr(null!=o?o:"")}return null})).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".ts")}))),r&&r[0]){var o=ur(r[0],t);return sr[n]=sr[n].concat(o),cr(null!=o?o:"")}return null}))}else if(s.url){var p,f=null!==(p=lr(s.url,t))&&void 0!==p?p:"";cr(f),sr[n]=sr[n]?sr[n].concat(f):[f]}}}(h,oe),ne.current=!0),ee.current=!1}),[n,l,Z,L,h,k,oe]),n)return(0,V.jsxs)(r.Fragment,{children:[X,$&&(0,V.jsx)(Qn,{isSelected:J}),M&&(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,V.jsx)(Yn.Z,{pin:h,enableCloseupLink:!0})})]});var ie=j||{},ae=ie.commerce_data,ce=ie.story_type,se=ie.board_id,le=ie.board_pin_count,ue=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(S);return(0,V.jsxs)(cn,{contextLogData:{commerce_data:ue?ae:void 0,grid_index:E,image_signature:N,story_type:ce,board_id:se,board_pin_count:le},elementType:L?12372:35,pin:h,surface:S,children:[X,M&&(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,V.jsx)(Yn.Z,{pin:h,enableCloseupLink:!1})})]})}var fr=n(2396),hr=n(946984),yr=(0,fr.Z)((function(e){var t=e.handleSendShareFlyoutButtonClick,n=(0,U.ZP)(),r=(0,hr.Z)();return(0,V.jsx)(z.zx,{fullWidth:!0,onClick:function(e){e.event.stopPropagation(),r?r():t()},text:n._('Send', 'Send a pin', 'Send a pin'),color:"gray",accessibilityLabel:n._('Send', 'Accessible label to send a pin', 'Accessible label to send a pin')})}));function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _r(e){return e<160?"header-only":"none"}function br(e){var t,n,o,i=vr((0,r.useState)(e.current?_r(e.current.clientHeight||0):"none"),2),a=i[0],c=i[1];return t=e,n=function(e){var t=_r(e.height);t!==a&&c(t)},o=(0,r.useRef)(),(0,r.useEffect)((function(){var e=t.current;if(e){var r=o.current;r&&r.width===e.offsetWidth&&r.height===e.offsetHeight||(o.current={width:e.offsetWidth||0,height:e.offsetHeight||0},n&&n(o.current))}})),o.current,a}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sr=n(485308),xr=n(704115),jr={impressed:{backgroundColor:"#adebad"}};function Er(e){var t=e.debugImpressionState,n=void 0===t?"paused":t,r=e.slotIndex;return"paused"===n?null:(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:jr.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,V.jsx)(z.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,V.jsx)(z.xv,{color:"inverse",children:(0,V.jsx)("span",{className:"deprecatedTextSizeXL",children:r})})})})}var Ar=n(43671),Tr=n(841509),Ir=n(525199),kr=n(310227),Rr="#000000",Cr="#ffffff";function Dr(e){var t=e.selected,n=void 0!==t&&t,r=(0,U.ZP)(),o=(0,Ee.B)().isRTL;return(0,V.jsx)(z.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new z.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:n?Rr:Cr,borderRadius:kr.Oc,boxShadow:n?"inset 0 0 0 3px #fff":void 0}},children:n?(0,V.jsx)(z.xu,{position:"absolute",bottom:!0,right:!o,left:o,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"dark",children:(0,V.jsx)(z.JO,{accessibilityLabel:r._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,V.jsx)(z.xu,{right:!o,left:o,position:"absolute",top:!0,margin:3,children:(0,V.jsx)(z.JO,{accessibilityLabel:r._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:24})})})}var Nr={wrapper:{borderRadius:kr.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:kr.Dv.VISUAL},savedOverlay:{backgroundColor:kr.Dv.SAVED},legoWashOverlay:{backgroundColor:kr.Dv.LEGO_WASH}};function Lr(e){var t=e.children,n=e.savedOverlayVisibility,r=void 0===n?"none":n,o=e.visualOverlayVisibility,i=void 0===o?"none":o,a=e.handleMouseOverPinContent,c=e.handleMouseLeavePinContent,s=e.primaryContent,l=e.primaryContentVisibility,u=void 0===l?"none":l,d=e.secondaryContent,p=e.secondaryContentVisibility,f=void 0===p?"none":p,h=e.accessoryContent,y=e.accessoryContentVisibility,v=void 0===y?"none":y,m=e.actionBar,_=e.actionBarVisibility,b=void 0===_?"none":_,g=e.seeStatsButton,w=e.footer,P=e.selectionState,O=void 0===P?"no-selection":P,S=e.debugContent,x=e.signalDebuggerContent,j=e.signalDebuggerV2Content,E=e.signalDebuggerV2ContentVisibility,A=void 0===E?"none":E,T=e.obscuredPinOverlay,I=e.showNoPinBorderRadius,k=e.showPromotedPinBorderTreatment,R=e.showLeadPinStdBeta,C=e.shouldUseLegoWash;return(0,V.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:k?Nr.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,V.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:I?{}:Nr.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(O)&&(0,V.jsx)(Dr,{selected:"selected"===O}),(0,V.jsxs)(z.xu,{"aria-hidden":Boolean(T),children:[(0,V.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:I?{}:Nr.wrapper},overflow:"hidden",position:"relative",onFocus:a,onBlur:c,onMouseEnter:a,onMouseLeave:c,children:[t,(0,V.jsx)(Ir.Z,{visibility:i,children:(0,V.jsx)(Tr.Z,{additionalStyles:C?Nr.legoWashOverlay:Nr.visualOverlay})}),(0,V.jsx)(Ir.Z,{visibility:r,children:(0,V.jsx)(Tr.Z,{additionalStyles:C?Nr.legoWashOverlay:Nr.savedOverlay})}),h&&(0,V.jsx)(Ir.Z,{visibility:v,children:(0,V.jsx)(Tr.Z,{children:h})}),d&&(0,V.jsx)(Ir.Z,{visibility:f,children:(0,V.jsx)(Tr.Z,{children:d})}),s&&(0,V.jsx)(Ir.Z,{visibility:u,children:(0,V.jsx)(Tr.Z,{children:s})}),j&&(0,V.jsx)(Ir.Z,{visibility:A,children:(0,V.jsx)(Tr.Z,{children:(0,V.jsx)(z.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:j})})}),m&&(0,V.jsx)(Ir.Z,{visibility:b,children:(0,V.jsx)(Tr.Z,{children:(0,V.jsx)(z.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:R?8:0,children:m})})}),g&&(0,V.jsx)(Tr.Z,{children:(0,V.jsx)(z.xu,{position:"absolute",bottom:!0,children:g})}),S&&(0,V.jsx)(Tr.Z,{children:S}),x]}),w]}),T&&(0,V.jsx)(z.xu,{children:T})]})})}function Mr(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("visible")?"visible":t.includes("hidden")?"hidden":"none"}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){Ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gr=(0,r.memo)((function(e){var t,n,o=e.actionBarProps,i=e.blockClickEvents,a=e.borderStyle,s=e.currentlyPlayingVideo,l=e.disableHover,u=void 0!==l&&l,d=e.footerProps,p=e.impressionsDebuggerProps,f=e.obscuredPinOverlayProps,h=e.onError,y=e.onLoad,v=e.pin,m=e.pinVisualProps,_=e.presentationProps,b=e.primaryContentProps,g=e.rounding,w=e.secondaryContentProps,P=e.authDesktopSelectionState,O=e.showFooter,S=e.showImpressionsDebugger,x=e.showObscuredPinOverlay,j=e.showSeeStatsButton,A=e.showSignalDebugger,T=e.showUnavailablePin,I=e.surface,k=e.visibilityOverrides,R=e.imageHeightModifier,D=v.savedInfo,N=(0,Q.E)().viewType,L=(0,Nn.Yh)(c.ZF.includes(I)||(0,C.Z)(I)).showEnabledSaveBehavior,M=Fr((0,r.useState)(!1),2),B=M[0],Z=M[1],U=(0,_n.Z)(B),F=function(){var e=Pr((0,r.useState)(!1),2),t=e[0],n=e[1];return{isHovering:t,hoverTransitionState:(0,_n.Z)(t,0,_n.X),handleMouseOver:(0,r.useCallback)((function(){return n(!0)}),[n]),handleMouseLeave:(0,r.useCallback)((function(){return n(!1)}),[n])}}(),G=F.isHovering,H=F.hoverTransitionState,W=F.handleMouseOver,q=F.handleMouseLeave;u&&(G=!1,H="inactive");var Y,K=(0,_n.Z)(!!D),$=Mr(K),J=Mr(H),ee=Mr(H),te=Mr(U),ne=Mr(K),re=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(I),oe="visible"!==$||re?$:"none",ie={primaryContentVisibility:null!==(t=k.primaryContent)&&void 0!==t?t:Br(ee,te,"visible"===ne?"none":ne),secondaryContentVisibility:(Y=Br(ee,te,ne),"none"===Y?"visible":"visible"===Y?"none":"hidden"),actionBarVisibility:Br(ee,te),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},ae=function(e){return Z(e)},ce=null;"none"!==ie.primaryContentVisibility&&(ce=(0,V.jsx)(Gn,zr({forcePrimaryContent:function(e){return Z(e)},showEnabledSaveBehavior:L,onToggleFlyout:ae,onToggleModal:function(e){Z(e),e||q()},pin:v},b)));var se,ue=(0,r.useRef)(!0),de=ue.current;ue.current=!1;var pe=function(e,t){var n=e.carousel_data,o=(n||{}).index,i=gr((0,r.useState)(!n||t),2),a=i[0],c=i[1],s=(0,r.useRef)(o),l=(0,r.useRef)(null);if(n){var u=s.current;s.current=o,(o!==u||t)&&(l.current&&clearTimeout(l.current),c(!0),l.current=setTimeout((function(){c(!1),l.current=null}),4e3))}return(0,r.useEffect)((function(){return function(){l.current&&clearTimeout(l.current)}}),[]),a}(v,de),fe=Mr((0,_n.Z)(pe));ie.secondaryContentVisibility=null!==(n=k.secondaryContent)&&void 0!==n?n:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("none")?"none":t.includes("hidden")?"hidden":"visible"}(ie.secondaryContentVisibility,fe),se=(w.allowShoppingPriceIndicator||w.shoppingLabelColor||"none"!==ie.secondaryContentVisibility)&&!s&&(0,V.jsx)(z.xu,{margin:2,children:(0,V.jsx)(Hn.Z,zr({pin:v},w))});var he=null;"visible"===k.accessoryContent&&(he=(0,V.jsx)(Ge,{pin:v}),ie.accessoryContentVisibility=Mr(H));var ye=zr({},o);m.isSocialSeasonalBoard&&(ye=zr(zr({},ye),{},{showShareButton:!1}));var ve=null;j&&(ye=zr(zr({},ye),{},{showSourceLinkButton:!1}),ve=(0,V.jsx)(le.Z,{children:(0,V.jsx)(X,{pinId:v.id,surface:I})})),m.showLeadPinStdBeta&&(ye=zr(zr({},ye),{},{showSourceLinkButton:!1}));var me="visible"===k.actionBar?(0,V.jsx)(Me,zr({onToggleFlyout:ae,pin:v,setForcePrimary:Z,surface:I},ye)):null,_e=null;(O||(0,C.Z)(I))&&(_e=(0,V.jsx)(Rn,zr({blockClickEvents:i,hoverTransitionState:"image-only-credit"===d.attributionType?H:null,pin:v,setForcePrimary:Z,surface:I},d))),m.isSocialSeasonalBoard&&(_e=(0,V.jsx)(z.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,V.jsx)(z.xu,{margin:"auto",width:Sr.J,children:(0,V.jsx)(yr,{isFlyoutOpen:B,onFlyoutDismiss:function(){return ae(!B)},onToggleFlyout:function(){return ae(!B)},pinId:v.id,sendType:"pin",shownWithinMasonry:!0,viewType:N,element:72,component:13752})})}));var be=S&&(0,V.jsx)(Er,zr({},p)),ge=A&&v.debug_info_html&&(0,V.jsx)(z.xu,{paddingY:1,children:(0,V.jsx)("pre",{children:v.debug_info_html})}),we=(0,V.jsx)(He.Z,{pin:v}),Pe=(0,r.useRef)();"header-only"===br(Pe)&&(ie.actionBarVisibility="none",ie.accessoryContentVisibility="none");var Oe=x?(0,V.jsx)(Ar.ZP,zr({pin:v},f)):null,Se="ShoppingGridShippedMetadataWithVisitButton"===I?{height:"100%"}:{},xe=O&&"default"===d.attributionType&&c.ZF.includes(I),je=!v.is_promoted&&!u&&xe;return(0,V.jsx)(E.Z,{name:"PinRepContainer",children:(0,V.jsx)(z.xu,{"data-test-id":"pin","data-test-pin-id":v.id,onFocus:W,onBlur:q,onMouseEnter:W,onMouseLeave:q,dangerouslySetInlineStyle:{__style:Se},rounding:"ConversationView"===I?g:void 0,borderStyle:"ConversationView"===I?a:"none",overflow:"ConversationView"===I?"hidden":"visible",children:(0,V.jsx)(Lr,zr(zr({visualOverlayVisibility:J,savedOverlayVisibility:oe,handleMouseOverPinContent:je?W:function(){},handleMouseLeavePinContent:je?q:function(){},primaryContent:ce,primaryContentVisibility:ie.primaryContentVisibility,secondaryContent:se,secondaryContentVisibility:ie.secondaryContentVisibility,accessoryContent:he,accessoryContentVisibility:ie.accessoryContentVisibility,actionBar:me,actionBarVisibility:ie.actionBarVisibility,seeStatsButton:ve,footer:_e,selectionState:P,debugContent:be,signalDebuggerV2Content:we,signalDebuggerV2ContentVisibility:ie.signalDebuggerV2ContentVisibility,signalDebuggerContent:ge,obscuredPinOverlay:Oe},_),{},{children:(0,V.jsx)(z.xu,{height:"100%",ref:Pe,children:(0,V.jsx)(pr,zr({blockClickEvents:i,showUnavailablePin:T,isHovering:G,onError:h,onLoad:y,pin:v,surface:I,selectionState:P,imageHeightModifier:R},m))})}))})})})),Hr=n(231947),Wr=n(53987),qr=["attributionOption","blockClickEvents","debugImpressionState","disableReaction","feedback","imageOnlyOption","pin","pinId","pinImageCrop","pinImageFit","resolution","saveButtonOptions","authDesktopSurface","trackingParameters"];function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){Xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qr,eo=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(67419),n.e(92982)]).then(n.bind(n,576070))})),to=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],no=["BaseBoardPinGrid","UserProfilePinGrid"].concat(function(e){if(Array.isArray(e))return Jr(e)}(Qr=W)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Qr)||function(e,t){if(e){if("string"==typeof e)return Jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(e,t):void 0}}(Qr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function ro(e){var t,n,d,p,f,h,v,z,U=e.attributionOption,F=e.blockClickEvents,G=e.debugImpressionState,H=e.disableReaction,W=e.feedback,q=e.imageOnlyOption,Y=void 0===q?"default":q,K=e.pin,X=e.pinId,le=e.pinImageCrop,ue=e.pinImageFit,de=e.resolution,pe=void 0===de?"default":de,fe=e.saveButtonOptions,he=e.authDesktopSurface,ye=e.trackingParameters,ve=$r(e,qr),_e=(0,oe.S6)()(X)||K,be=null!==(t=null===(n=_e.board)||void 0===n?void 0:n.id)&&void 0!==t?t:"",ge=(0,re.gC)()(be)||_e.board;_e.grid_title=_e.grid_title||K.grid_title;var we=(0,te.F)(),Pe=we.checkExperiment,Oe=ge||{},Se=Oe.collaborated_by_me,xe=Oe.collaborator_count,je=Oe.is_collaborative,Ee=_e.is_quick_promotable,Ae=_e.pinner,Te=_e.showFeedback,Ie=_e.sponsorship,ke=(0,a.Z)(_e).isPromoted,Re=(0,k.Z)(_e),Ce=(0,Z.Z)(),De=(0,L.Z)(),Ne=Pe("web_m10n_business_access_orbac_www").anyEnabled,Le=Pe("web_m10n_business_access_orbac_ga").anyEnabled,Me=Le?(0,Hr.lJ)(Ce,De):"",Be=(0,me.useLocation)(),Ze=ye.slotIndex,ze=ye.viewParameter,Ue=["AuthHomefeed","BaseBoardPinGrid"].includes(he)&&Pe("web_repin_flow").anyEnabled,Fe=(0,ce.x)(),Ve=(0,ie.P)(),Ge=(0,ee.I)().appUI.videosAutoplaying,He=(0,D.Z)(_e.id,Ge),We=(0,o.useSelector)((function(e){return e.changeBoardFromToast}))||{},qe=function(e){var t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(_e),Ye=(0,T.Z)(_e),Ke=Ce.isAuth&&Ce.isEmployee,Xe=Ce.isAuth&&((0,I.Z)(Ce.createdAt)||(0,R.Z)(null,Ce))&&!Ce.isPartner,$e=Xe;"TodayArticleFeed"===he&&($e=!1),"default"!==Y&&($e="image-only"===Y),(0,C.Z)(he)&&($e=!1),"ShoppingSquareGridDomainNoMetadata"===he&&($e=!0);var Je=U;(Xe&&!Je||Ve)&&(Je="image-only");var Qe=(0,A.Z)({feedbackType:null==W?void 0:W.type,pin:_e,viewParameter:ze}),et=(W||{}).data,tt="number"==typeof xe&&xe>0||je,nt=!1;"OtherProfilePinGrid"===he?nt=!0:"BaseBoardPinGrid"===he?nt="dense"===(null==Fe?void 0:Fe.boardPinDensity):"UserProfilePinGrid"===he&&(nt="dense"===(null==Fe?void 0:Fe.profilePinDensity));var rt=Boolean(tt&&"BaseBoardPinGrid"===he),ot=(0,M.Z)(),it=(0,se.kW)(),at=it&&it[null!==(d=null===(p=ot.data)||void 0===p?void 0:p.id)&&void 0!==d?d:""]?it[null!==(f=null===(h=ot.data)||void 0===h?void 0:h.id)&&void 0!==f?f:""]:ot.data,ct=(0,j.Z)(Ce,ge),st=!1;if(!!(0,me.matchPath)(Be.pathname,{path:"/:username/_created/",exact:!0}))st=(0,Hr.q6)(Ce,null==at?void 0:at.id,De);else if((0,Wr.am)(Be)||(0,Wr.OJ)(Be)){var lt=ge&&ge.owner&&ge.owner.id||"";st=(0,Hr.q6)(Ce,lt,De)}var ut,dt=Boolean(Ce.isAuth&&Ae&&Ae.id===Ce.id),pt=Boolean(Se||tt&&ct),ft=Ce.isAuth&&Ce.isPartner,ht=!(null===(v=_e.story_pin_data)||void 0===v||!v.is_deleted),yt=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDeletedStoryPin,r=e.surface,o={primaryContent:null,secondaryContent:null,actionBar:x.includes(r)||n?"none":"visible",accessoryContent:t?"visible":"none"};return n||S.includes(r)?(o.primaryContent="none",o.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(r)&&(o.primaryContent="visible"),o}({hasCarouselData:Ye,isDeletedStoryPin:ht,surface:he})}),[Ye,ht,he]),vt=(0,r.useMemo)((function(){return function(e){var t=e.board,n=e.isDenseView,r=e.isGroupBoard,o=e.isInlineBetterSave,i=e.isOwnBoard,a=e.isORBACProfileManager,s=e.isQuickPromotable,l=e.isRemovable,u=e.saveButtonOptions,d=e.surface,p=e.viewer,f=e.viewerIsCollaborator,h=p.isAuth?p.boardCount:void 0,y=u||function(){return 0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)?{type:"classic"}:{type:"inline"}}(h);s?y={type:"promote"}:(f||i||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?y={type:"classic"}:(f||i)&&["BaseBoardPinGrid"].includes(d)&&null!=t&&t.name&&t.url&&t.id&&(y={type:"inline",initialSelection:{title:t.name,boardId:t.id,url:t.url}});return o&&(y={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(l||O.includes(d)||a)&&(y={type:"none"}),{board:t,derivedSaveButtonOptions:y,showLikeButton:f&&r&&c.UP.includes(d),supportsReactionBar:!n}}({board:ge,isInlineBetterSave:Ue,isDenseView:nt,isGroupBoard:rt,isOwnBoard:ct,isOwnPin:dt,isORBACProfileManager:st,isQuickPromotable:Ee,isRemovable:Re,saveButtonOptions:fe,surface:he,viewer:Ce,viewerIsCollaborator:pt})}),[ge,Ue,nt,rt,ct,dt,st,Ee,Re,fe,he,Ce,pt]),mt=Pe("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}).anyEnabled;[].concat(["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"]).includes(he)&&!ke&&(ut="white");var _t=(0,r.useMemo)((function(){return function(e){var t=e.allowProductCarousel,n=void 0!==t&&t,r=e.shoppingLabelColor,o=e.surface;return{allowProductCarousel:n,allowShoppingPriceIndicator:c.Wv.includes(o),shoppingLabelColor:r}}({allowProductCarousel:qe,shoppingLabelColor:ut,surface:he})}),[qe,ut,he]),bt=(0,r.useMemo)((function(){return function(e){var t,n=e.board,r=e.feedbackData,o=e.feedbackType,c=e.isDenseView,d=e.isGroupBoard,p=e.isOwnBoard,f=e.isORBACProfileManager,h=e.isORBACBeta,y=e.isORBACGA,v=e.pin,m=e.isRemovable,_=e.surface,b=e.viewer,g=(0,a.Z)(v),w=g.isOwnPin,P=g.isPromoted,O=s({isGroupBoard:d,pin:v,surface:_}),S=n&&(0,i.Z)({action:4,board:n,viewer:b})||w,x=v.savedInfo&&v.savedInfo.localPinId,j=Boolean(p&&!d||"UserProfilePinGrid"===_&&S||x),E=Boolean(d&&S||j||f&&(!(0,l.hy)(v.story_pin_data_id)||h)),A=Boolean((null==n?void 0:n.is_collaborative)||j),T=!(P||p||d||u.includes(_)||f),I=function(e){var t=e.surface,n=e.isORBACProfileManager,r=e.isORBACGA,o=e.isRemovable;return"CloseupRelatedProducts"!==t&&!o&&(!n||null==r||r)}({surface:_,isORBACProfileManager:f,isORBACGA:y,isRemovable:m}),k=v.tracked_link,R=v.link,C=!(null===(t=null!=k?k:R)||void 0===t||!t),D=d&&c?"equally-spaced":"default",N="default";return c&&(N=d?"icon-only":"truncated-text"),c&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(_)&&(N="icon-only",D="equally-spaced"),{actionBarEditBeforeShare:A,feedbackData:r,feedbackType:o,layout:D,pinTitle:O,showEditButton:E,showOverflowMenu:T,showShareButton:I,showSourceLinkButton:C,sourceLinkStyle:N}}({board:ge,feedbackData:et,feedbackType:Qe,isDenseView:nt,isGroupBoard:rt,isOwnBoard:ct,isORBACProfileManager:st,isORBACBeta:Ne,isORBACGA:Le,isRemovable:Re,pin:_e,surface:he,viewer:Ce})}),[ge,et,Qe,nt,rt,ct,st,Ne,Le,Re,_e,he,Ce]),gt=!1;_e.story_pin_data&&!Ce.isPartner&&(gt=Pe("web_auth_remove_pinner_pinstats").anyEnabled);var wt=!gt&&(0,y.rh)(_e,Ce,we,Me)&&no.includes(he)&&(dt||Le&&st),Pt=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(he),Ot=!ke&&Pt?"shopping":"standard",St=(H||"CreatorProfileStoryPinGrid"!==he||dt)&&(0,$.J6)(_e,ht),xt=(0,ae.Xx)();St=!Ve&&St;var jt=(0,r.useMemo)((function(){return m({attributionOption:Je,board:ge,contentType:Ot,experimentsClient:we,feedbackData:et,feedbackType:Qe,hasCarouselData:Ye,isGroupBoard:rt,isORBACProfileManager:st,isOwnBoard:ct,pin:_e,showImageOnly:$e,showNativeReactions:St,showPromotedShoppingPrice:mt&&ke&&Pt,surface:he,viewer:Ce,variantData:xt})}),[Je,ge,Ot,we,et,Qe,Ye,rt,st,ct,ke,Pt,_e,mt,$e,St,he,Ce,xt]),Et=!!_e.story_pin_data_id,At=_e.created_at?new Date(_e.created_at):null,Tt=(0,ne.pN)({isOwnPin:dt,isStoryPin:Et,pinCreationDate:At,surface:he});gt&&(jt.showPinStats=!1);var It=Boolean(jt.pinTitle||jt.contentType||jt.userNote||jt.showSource||"none"!==jt.attributionType||jt.showNativeReactions||jt.productCurrentPrice||jt.productOriginalPrice||jt.showPinStats)||rt;"BaseBoardPinGrid"===he&&ct&&ft||Ie?It=!0:to.includes(he)||nt&&(ct||Se)?It=!1:dt||"CreatorProfileStoryPinGrid"!==he&&"CreatorProfileActivityPinGrid"!==he||(It=!1),!Ve||ke||Ie||(It=!1);var kt=Boolean(Te),Rt=(0,B.Z)(_e).showLeadPinStdBeta,Ct={showNoPinBorderRadius:"TopicBestPinNarrow"===he||"TopicBestPinWide"===he||"ConversationView"===he,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===he&&ke,shouldUseLegoWash:!0,showLeadPinStdBeta:Rt},Dt={feedbackType:Qe},Nt=Pe("ads_desktop_video_ads",{dangerouslySkipActivation:!0}).anyEnabled,Lt=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDenseView,r=e.isSocialSeasonalBoard,o=e.pinImageCrop,i=e.pinImageFit,a=e.resolution,s=e.showPromotedVideos,l=e.showLeadPinStdBeta,u=e.surface,d=c.zl.includes(u),p="backend";"CloseupRelatedProducts"===u?p={height:P.GZ,width:P.OE}:"TopicBestPinWide"===u?p={height:w.m9,width:w.BS}:"TopicBestPinNarrow"===u?p={height:w._5,width:w.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(u)||d?p={height:P.zX,width:P.zX}:o&&(p=o);var f="none",h=null!=a?a:"default";"string"!=typeof p&&(f="cover",(d||"ShoppingDynamicHeightGrid"===u&&!i||"ShoppingSquareGridDomainNoMetadata"===u)&&(f="contain",h="high-res"));var y=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(u)?"transparent":"dominant",v=(0,g.e)(u);return{autoplaySettingOff:"undefined"!=typeof window&&0===b.Z.getItem(_.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:y,imageFit:f,isDenseView:n,isSocialSeasonalBoard:r,resolution:h,rootMargin:v,pinImageCrop:p,showCarousel:t&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(u),showPromotedVideos:s,showLeadPinStdBeta:l}}({hasCarouselData:Ye,isDenseView:nt,isPromoted:ke,isSocialSeasonalBoard:!1,pinImageCrop:le,pinImageFit:ue,resolution:pe,showPromotedVideos:Nt,showLeadPinStdBeta:Rt,surface:he})}),[Ye,nt,ke,le,ue,pe,Nt,Rt,he]),Mt=Ke&&void 0!==(0,xr.Z)().debug_impression_log,Bt=(0,r.useMemo)((function(){return{debugImpressionState:G,slotIndex:Ze}}),[G,Ze]),Zt=(0,r.useMemo)((function(){return{surface:he}}),[he]);return(0,V.jsx)(E.Z,{name:"PinRepConfiguration",children:(0,V.jsx)(Q.B,{value:ye,children:(0,V.jsxs)(J.B,{value:Zt,children:[(0,V.jsx)(Gr,Kr({actionBarProps:bt,blockClickEvents:F,currentlyPlayingVideo:He,footerProps:jt,impressionsDebuggerProps:Bt,obscuredPinOverlayProps:Dt,pin:_e,pinVisualProps:Lt,presentationProps:Ct,primaryContentProps:vt,secondaryContentProps:_t,showFooter:It||Tt,showImpressionsDebugger:Mt,showObscuredPinOverlay:kt,showSeeStatsButton:wt,showSignalDebugger:Ke,showUnavailablePin:ht,surface:he,visibilityOverrides:yt},ve)),We.shouldOpenModal&&We.newPin&&(null===(z=We.originalPin)||void 0===z?void 0:z.id)===_e.id&&(0,V.jsx)(E.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,V.jsx)(N.Z,{children:(0,V.jsx)(eo,{experience:We.experience,newPin:We.newPin})})})]})})})}},656226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(76911),o=n(564194),i=n(768559),a=n(605028),c=n(868565),s=n(905723),l=n(152028),u=n(908390),d=n(515198),p={overlay:{__style:{backgroundColor:"#000"}}};function f(e){var t,n,o,i,a=e.pin,c=a.id,f=a.images,h=a.title,y=a.videos,v=a.video_status_message||{},m=f&&f["236x"],_=(y&&(null===(t=y.video_list)||void 0===t?void 0:t[s.Z.V_HLSV4])||{}).duration;return(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(u.st,{children:(0,d.jsxs)(u.iP,{role:"link",href:"/pin/".concat(c),rounding:2,children:[(0,d.jsxs)(u.xu,{overflow:"hidden",position:"relative",rounding:2,children:[m&&(0,d.jsx)(u.Ee,{alt:h||"",color:"lightGray",naturalHeight:null!==(n=m.height)&&void 0!==n?n:1,naturalWidth:null!==(o=m.width)&&void 0!==o?o:1,src:null!==(i=m.url)&&void 0!==i?i:""}),!!_&&(0,d.jsx)(u.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,d.jsx)(l.Z,{duration:_})}),(0,d.jsx)(u.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:p.overlay}),(0,d.jsxs)(u.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,d.jsx)(u.X6,{color:"light",overflow:"normal",size:"400",children:v.title}),(0,d.jsx)(u.xu,{marginTop:4,children:(0,d.jsx)(u.xv,{color:"light",size:"200",overflow:"normal",children:v.subtitle})})]})]}),(0,d.jsx)(u.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,d.jsx)(u.xu,{flex:"grow",children:h&&(0,d.jsx)(u.xu,{paddingY:1,children:(0,d.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:h})})})})]})})})}var h=n(623568),y=n(350118),v=n(609500),m=n(813401),_=n(779298),b=n(35495),g=["trackingParams","objectIdStr","impressionData","auxData","componentType","slotIndex","viewData","viewParameter","viewType","pin","pinId"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function E(e){var t,n,s,l,u,p,w,O=e.trackingParams,x=e.objectIdStr,E=e.impressionData,A=e.auxData,T=e.componentType,I=e.slotIndex,k=e.viewData,R=e.viewParameter,C=e.viewType,D=e.pin,N=e.pinId,L=j(e,g),M=(0,v.useLocation)(),B=(0,y.S6)(),Z=(N?B(N):null)||D,z=!(null===(t=Z.story_pin_data)||void 0===t||!t.is_deleted),U=O||(0,i.Z)({boardUrl:null===(n=Z.board)||void 0===n?void 0:n.url,callToCreateSourcePinId:Z.call_to_create_source_pin_id,location:M,pinId:Z.id,pinnerUserName:null===(s=Z.pinner)||void 0===s?void 0:s.username,storyPinDataId:Z.story_pin_data_id,trackingParams:Z.tracking_params,trackingParamsMap:Z.tracking_params_map}),F=(0,c.Z)(Z),V=!!(F&&F.url&&F.height&&F.width)||void 0,G=F&&Z.videos?Z.videos.id:void 0,H=S((0,r.useState)(!1),2),W=H[0],q=H[1],Y=(0,r.useCallback)((function(){return q(!z)}),[z]),K=(0,r.useCallback)((function(){return q(!1)}),[]),X=(0,m.yz)();(0,a.Z)(Z).isLeadPin&&(A={lead_form_id:null===(w=Z.promoted_lead_form)||void 0===w?void 0:w.lead_id});return(0,d.jsx)(o.Z,{componentType:T,contextLogData:P(P({pwa_type:X},A),(0,b.Kl)(Z,A)),impressionAuxFields:P(P({},E||{}),{},{isNativeVideoAndWatchable:V,videoIdStr:G,clientTrackingParams:U||"".concat(Z.tracking_params||"","-0"),imageURL:null!==(l=null===(u=Z.images)||void 0===u||null===(p=u["236x"])||void 0===p?void 0:p.url)&&void 0!==l?l:"",richTypes:(0,b.GT)(Z)}),impressionType:"Pin",isPaused:!W,loggingId:Z.id,slotIndex:I,objectIdStr:x,viewData:k,viewParameter:R,viewType:C,children:(0,h._J)(Z)?(0,d.jsx)(f,{pin:Z}):(0,d.jsx)(_.Z,P(P({},L),{},{debugImpressionState:W?"started":"paused",onError:K,onLoad:Y,pin:Z,pinId:N,trackingParameters:{componentType:T,contextLogData:A,slotIndex:I,viewParameter:R,viewType:C}}))})}},512076:function(e,t,n){"use strict";var r=n(605028),o=n(773285);t.Z=function(e){var t=(0,r.Z)(e).isLeadPin,n=(0,o.F)();return{isLeadPin:t,showLeadPinStdBeta:t&&n.checkExperiment("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:t&&n.checkExperiment("web_lead_gen_ads").anyEnabled}}},243943:function(e,t,n){"use strict";n.d(t,{Xx:function(){return b},wA:function(){return v},wH:function(){return _}});var r=n(76911),o=n(752802),i=n(835209),a=n(407043),c=n(789707),s=n(533655),l=n(515198);function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,r.createContext)(undefined),v=function(e){var t=((0,i.Z)({richPinData:e.rich_metadata})||{}).variant_set||{},n=t.dimension_metadata,r=t.variants;if(!n||!r)return!1;var o=n.find((function(e){var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return!!(o&&o.name&&o.values&&1!==o.values.length)},m=function(e){var t=e.pinId,n=e.children,i=e.dimensionMetadata,d=e.primaryDimName,p=e.variants,v=e.primaryDimensionThumbnailImages,m=(0,r.useCallback)((function(e){var t=e.selectedMap,n=(0,s.B)({dimensionMetadata:i,primaryDimName:d,primaryDimensionThumbnailImages:v,defaultStatus:"invalid"});return(0,s.U0)({variantMap:n,selectedMap:t,variants:p}),n}),[i,d,v,p]),_=(0,a.v)().logContextEvent,b=p.find((function(e){return e.is_preselected})),g=(0,c.a)()||{},w=g.pinsState,P=g.setPinState,O=w&&w[t],S=O?O.selectedMap:(0,s.O5)(p),x=O?O.selectedVariants:(0,s.x1)({selectedMap:S,variants:p}),j=O?O.variantMap:m({selectedMap:S}),E=!!O&&O.isSelectedByUser,A=O?O.variantUrl:(null==b?void 0:b.pin_id)||t,T=(0,r.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,s.x1)({selectedMap:e,variants:p}),o=m({selectedMap:e}),i={selectedMap:e,selectedVariants:r,variantMap:o,isSelectedByUser:n,variantUrl:""},a=r[0].pin_id;a&&(i.variantUrl=a),P&&P(t,i)}),[m,t,P,p]),I=(0,r.useCallback)((function(){var e=(0,s.O5)(p);T(e)}),[T,p]),k=(0,r.useCallback)((function(e){var t,n=e.dimensionName,r=e.variant,o=e.isAutoSelection,i=void 0!==o&&o,a=null===(t=j[n])||void 0===t?void 0:t.find((function(e){return e.value===r}));try{if(!a)throw new Error("Unable to find the selected variant ".concat(n,": ").concat(r));if(S[n]===r)return;var c=f(f({},"invalid"!==a.status?S:{}),{},h({},n,r)),l=(0,s.i8)({variantMap:j,status:"invalid"});(0,s.U0)({variantMap:l,selectedMap:c,variants:p}),T(c,!i),_({event_type:10240,component:14092})}catch(u){throw I(),u}}),[j,S,p,T,I,_]),R=x[0].title,C=(0,o.Z)({images:(x[0].additional_images||[])[0].canonical_images}),D=(0,s.$b)(x),N=(0,r.useMemo)((function(){var e=((null==b?void 0:b.dimensions)||{})[d],t=j[d]||[],n=t;if(e&&t){var r=t.find((function(t){return t.value===e}));r&&(n=[r].concat(u(t.filter((function(t){return t.value!==e})))))}return{dimensionMetadata:i,offerSummary:D,primaryVariants:n,primaryDimName:d,selectedMap:S,isSelectedByUser:E,selectVariant:k,title:R,variants:p,image:C,variantUrl:A}}),[b,d,j,i,D,S,E,k,R,p,C,A]);return(0,l.jsx)(y.Provider,{"data-test-id":"safe-product-pins-feed-context-provider",value:N,children:n})},_=function(e){var t=e.children,n=e.pin;if(!e.isEligible)return(0,l.jsx)(y.Provider,{"data-test-id":"undefined-context-provider",value:void 0,children:t});var r=((0,i.Z)({richPinData:n.rich_metadata})||{}).variant_set||{},o=r.dimension_metadata,a=r.primary_dimension_thumbnail_images,c=r.variants,s=null==o?void 0:o.find((function(e){var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return(0,l.jsx)(m,{pinId:n.id,dimensionMetadata:o||[],primaryDimName:(null==s?void 0:s.name)||"",primaryDimensionThumbnailImages:a,variants:c||[],children:t})},b=function(){return(0,r.useContext)(y)}},789707:function(e,t,n){"use strict";n.d(t,{A:function(){return d},a:function(){return p}});var r=n(76911),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.createContext)(void 0),d=function(e){var t=e.children,n=s((0,r.useState)({}),2),i=n[0],l=n[1],d=(0,r.useMemo)((function(){return{setPinState:function(e,t){l(a(a({},i),{},c({},e,a(a({},i[e]||{}),t))))},pinsState:i}}),[i]);return(0,o.jsx)(u.Provider,{value:d,children:t})},p=function(){return(0,r.useContext)(u)}},278716:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(372169),o=n(908390),i=n(515198);function a(e){var t=e.fetchMore,n=e.isAtEnd,a=e.isFetching,c=e.items,s=e.leftAlign,l=e.loadingLabel,u=e.marginBottom,d=e.renderItem;return(0,i.jsxs)(o.xu,{"data-test-id":"square-shopping-grid",display:"flex",direction:"row",justifyContent:s?void 0:"center",marginBottom:u,wrap:!0,children:[(0,i.jsx)(o.gr,{isAtEnd:n,isFetching:a,fetchMore:t}),(c||[]).map((function(e,t){return d({item:e,itemIdx:t})})),Array.apply(0,Array(12)).map((function(e,t){return(0,i.jsx)(o.xu,{width:r.jh,margin:r.iO},t)})),(0,i.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,i.jsx)(o.$j,{accessibilityLabel:l,show:a})})]})}},104389:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(831539),o=n(869503),i=n(474236),a=n(908390),c=n(515198);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.count,n=e.countFormat,s=e.ratingValue,l=e.shippingInfo;return(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,c.jsx)(r.Z,{count:t,countFormat:n,rating:s,textSize:"200"}),(0,c.jsx)(a.xu,{marginTop:(0,i.Z)({count:t,rating:s})?1:0,children:(0,c.jsx)(o.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==l?void 0:l.free_shipping_price,freeShippingValue:null==l?void 0:l.free_shipping_value})})]})},p=function(e){var t=e.count,n=e.countType,s=e.countFormat,l=e.hideSeparationDot,u=e.bracket,d=e.ratingValue,p=e.shippingInfo;return(0,c.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,c.jsx)(r.Z,{bracket:u,count:t,countFormat:s,countType:n,rating:d,textSize:"300"}),(0,c.jsx)(a.xu,{marginStart:(0,i.Z)({count:t,rating:d})&&l?2:0,children:(0,c.jsx)(o.Z,{customStyles:{color:"default",size:"300"},showPrevDot:(0,i.Z)({count:t,rating:d})&&!l,freeShippingPrice:null==p?void 0:p.free_shipping_price,freeShippingValue:null==p?void 0:p.free_shipping_value})})]})};function f(e){return e.isGridView?(0,c.jsx)(d,l({},e)):(0,c.jsx)(p,l({},e))}},533655:function(e,t,n){"use strict";n.d(t,{$b:function(){return y},A6:function(){return m},B:function(){return d},Dv:function(){return P},O5:function(){return _},U0:function(){return h},Yr:function(){return g},i8:function(){return p},oX:function(){return w},x1:function(){return b},xD:function(){return v}});var r=n(752802);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t,n=e.defaultStatus,o=void 0===n?"available":n,i=e.dimensionMetadata,a=e.primaryDimName,c=e.primaryDimensionThumbnailImages,l={},u=s(i);try{for(u.s();!(t=u.n()).done;){var d=t.value,p=d.values,f=d.name;f&&p&&(l[f]=p.map((function(e){return{status:o,value:e}})))}}catch(h){u.e(h)}finally{u.f()}return(l[a]||[]).forEach((function(e,t){var n=c&&c[t.toString()];n&&(e.image=(0,r.Z)({images:n.canonical_images}))})),l},p=function(e){var t=e.status,n=e.variantMap,r={};for(var o in n){var i;r[o]=null===(i=n[o])||void 0===i?void 0:i.map((function(e){return a(a({},e),{},{status:t})}))}return r},f=function(e){var t,n=e.dimensionName,r=e.variants,i=e.selectedTuple,a=e.variantStatuses,c=i.filter((function(e){return o(e,1)[0]!==n})),l=s(r);try{var u=function(){var e=t.value,r=e.dimensions,i=void 0===r?{}:r,s=e.offer_summary,l=void 0===s?{}:s;if(!c.every((function(e){var t=o(e,2),n=t[0],r=t[1];return i[n]===r})))return"continue";var u=a.find((function(e){return e.value===i[n]}));u&&(u.status=l.in_stock||"available"===u.status?"available":"outOfStock")};for(l.s();!(t=l.n()).done;)u()}catch(d){l.e(d)}finally{l.f()}},h=function(e){var t=e.variants,n=e.selectedMap,r=void 0===n?{}:n,o=e.variantMap,i=Object.entries(r);for(var a in o){var c=o[a];c&&f({dimensionName:a,variants:t,selectedTuple:i,variantStatuses:c})}},y=function(e){var t,n,r,o,i,a=!1,c=1===e.length&&e[0].offer_summary||{},l=c.percentage_off,u=c.standard_price,d=s(e);try{for(d.s();!(i=d.n()).done;){var p=i.value.offer_summary||{},f=p.max_price,h=p.max_price_val,y=p.min_price,v=p.min_price_val,m=p.price,_=p.price_val,b=p.price_in_micro_currency,g=p.in_stock,w=_||Number(b);"number"==typeof v&&Number.isFinite(v)&&"number"==typeof h&&Number.isFinite(h)&&((void 0===n||v<n)&&(n=v,t=y),(void 0===o||h>o)&&(o=h,r=f),a=a||!!g),Number.isFinite(w)&&((null==n||w<n)&&(n=w,t=m),(null==o||w>o)&&(o=w,r=m),a=a||!!g)}}catch(P){d.e(P)}finally{d.f()}if(r&&t)return t===r?{in_stock:a,percentage_off:l,price:t,standard_price:u}:{in_stock:a,max_price:r,min_price:t,percentage_off:l,price:t,standard_price:u}},v=function(e,t){return e.length===t.length&&e.every((function(e,n){var o,i;return(null===(o=(0,r.Z)({images:e.canonical_images}))||void 0===o?void 0:o.url)===(null===(i=(0,r.Z)({images:t[n].canonical_images}))||void 0===i?void 0:i.url)}))},m=function(e){var t=new Set;return e.filter((function(e){var n=((0,r.Z)({images:e.canonical_images})||{}).url;return!!n&&(!t.has(n)&&(t.add(n),!0))}))||[]},_=function(e){var t,n=a({},(null===(t=e.find((function(e){return!!e.is_preselected})))||void 0===t?void 0:t.dimensions)||{});for(var r in n)n[r]||delete n[r];return n},b=function(e){var t=e.selectedMap;return e.variants.filter((function(e){var n=e.dimensions,r=void 0===n?{}:n;for(var o in t){var i=t[o];if(r[o]!==i)return!1}return!0}))},g=function(e){var t=e.visualVariants,n=e.visualDimName,r=e.variants,o={};return r.forEach((function(e){var t,r,i=null===(t=e.dimensions)||void 0===t?void 0:t[n],a=null!==(r=e.offer_summary)&&void 0!==r&&r.in_stock?"available":"outOfStock";i&&("available"===a||!o[i]&&i)&&(o[i]=a)})),t.map((function(e){return a(a({},e),{},{status:o[e.value]})}))},w=function(e){var t=e.selectedMap,n=e.dimensions;n&&Object.keys(n).forEach((function(e){null!==n[e]&&void 0!==n[e]&&(t[e]=n[e])}))},P={VISUAL:1,UTILITY_GRID:2,UTILITY_DROPDOWN:3}},372169:function(e,t,n){"use strict";n.d(t,{Je:function(){return r},dA:function(){return i},iO:function(){return a},jh:function(){return c},s_:function(){return o},wq:function(){return s}});var r=350,o=134,i=16,a=2,c=236,s=20},807592:function(e,t,n){"use strict";function r(e){var t=e.max_price,n=e.min_price,r=e.price;return t&&n?"".concat(n,"-").concat(t):r}n.d(t,{Z:function(){return r}})},841478:function(e,t,n){"use strict";n.d(t,{A6:function(){return s},BS:function(){return a},EC:function(){return o},_5:function(){return c},m9:function(){return i},z9:function(){return r}});var r=800,o=508,i=424,a=278,c=640,s=508},35495:function(e,t,n){"use strict";n.d(t,{GT:function(){return v},Gy:function(){return l},Kl:function(){return g},QY:function(){return y},RR:function(){return d},SP:function(){return f},Sn:function(){return b},Zs:function(){return _},bA:function(){return h},i8:function(){return u},nn:function(){return s},qN:function(){return p}});var r=n(834911),o=n(229428);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return!!e&&(e.shopping_flags||[]).includes(2)},l=function(e){var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},u=function(e){var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=function(e){var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},p=function(e){return e.is_oos_product},f=function(e){return e.is_stale_product},h=function(e){return p(e)||f(e)},y=function(e){var t,n,r,o,i=null==e||null===(t=e.link_domain)||void 0===t||null===(n=t.official_user)||void 0===n?void 0:n.full_name;if(i)return i;var a=null==e||null===(r=e.rich_summary)||void 0===r?void 0:r.site_name;if(a)return a;if(e.domain)return"Uploaded by user"===e.domain?((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name:e.domain;var c=null==e||null===(o=e.via_pinner)||void 0===o?void 0:o.full_name;return e.is_repin&&c?c:void 0},v=function(e){if(e){var t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]},m=function(e){var t=(null==e?void 0:e.variants)||[],n=(null==e?void 0:e.dimension_metadata)||[];return Array.isArray(t)&&Array.isArray(n)?n.reduce((function(e,n){return n.name&&Array.isArray(n.values)?e+n.values.filter((function(e){return t.find((function(t){var r,o;return(null===(r=t.dimensions)||void 0===r?void 0:r[null!==(o=n.name)&&void 0!==o?o:""])===e}))})).length:e}),0):0};function _(e){var t,n,i,c,s,l,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,p=v(e),f=a({},u.commerce_data);p.includes(2)&&(f.pin_is_shop_the_look=!0),p.includes(1)&&(f.is_available=!0),p.includes(5)&&(f.is_product_pin_v2=!0),p.includes(6)&&(f.is_rich_product_pin=!0),p.includes(10)&&(f.is_organic_product_carousel=!0);var h=!!e.visual_objects&&(0,o.k)(e.visual_objects)||[];if(h.some((function(e){return!0===e.is_stela}))&&(f.pin_is_stela=!0),e.is_eligible_for_pdp_plus||e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?f.pin_show_pdp_oos=!0:e.is_stale_product?f.pin_show_pdp_stale=!0:e.is_eligible_for_pdp&&(f.pin_show_pdp=!0);var y=(0,r.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:null==e?void 0:e.rich_metadata,richSummary:null==e?void 0:e.rich_summary});if("pdp_plus"===d&&e.is_eligible_for_pdp_plus){var _,b,g,w,P,O,S,x;f.is_pdpplus=!0;var j,E=null==e||null===(_=e.rich_metadata)||void 0===_||null===(b=_.products)||void 0===b?void 0:b[0],A=null==E||null===(g=E.shipping_info)||void 0===g?void 0:g.free_shipping_price,T=null==E||null===(w=E.shipping_info)||void 0===w?void 0:w.free_shipping_value,I=(null==E||null===(P=E.variant_set)||void 0===P||null===(O=P.variants)||void 0===O?void 0:O.length)||0,k=m(null==E?void 0:E.variant_set),R=(null==E||null===(S=E.variant_set)||void 0===S||null===(x=S.dimension_metadata)||void 0===x?void 0:x.length)||0;if(y)f.carousel_image_count=null===(j=y.carousel_slots)||void 0===j?void 0:j.length;A&&(f.free_shipping_price=A),T&&(f.free_shipping_value=T),I&&(f.num_variants=I),k&&(f.valid_dimension_option_count=k),R&&(f.total_dimension_option_count=R)}else if(y){var C;f.image_count=null===(C=y.carousel_slots)||void 0===C?void 0:C.length,f.image_index=y.index}}null!=e&&null!==(t=e.rich_summary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.item_id&&(f.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(c=e.rich_summary)&&void 0!==c&&null!==(s=c.products)&&void 0!==s&&null!==(l=s[0])&&void 0!==l&&l.item_set_id&&(f.item_set_id=e.rich_summary.products[0].item_set_id);var D=e.aggregated_pin_data||{};return null!=D&&D.is_shop_the_look&&(f.pin_is_shop_the_look=!0),e.story_pin_data&&(f.story_pin_id=e.story_pin_data.id),f}function b(e){var t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(e){var r=_(e,t,n);return b(r)}return null}},27255:function(e,t){"use strict";var n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"};t.Z=n},699825:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(76911),o=n(102500),i=n(692627),a=n(47170),c=n(35495),s=n(623568),l=n(407043),u=n(515198);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n,d,f=e.children,y=e.hovered,v=e.pin,m=e.slotIndex,_=e.trafficSource,b=e.viewType,g=(0,l.v)().logContextEvent,w=h((0,r.useState)(),2),P=w[0],O=w[1],S=h((0,r.useState)(),2),x=S[0],j=S[1],E=v.id,A=v.tracked_link,T=v.link,I=A||T||"",k=function(){O(!0)},R=(0,a.Z)(v),C=(0,i.Z)({hasPin:!!v,hasPinRichMetadata:!(null==v||!v.rich_metadata),hasPinRichMetadataProducts:!(null==v||null===(t=v.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null==v||null===(n=v.rich_metadata)||void 0===n||!n.article),hasPinRichMetadataRecipe:!(null==v||null===(d=v.rich_metadata)||void 0===d||!d.recipe),hasPinStoryPinData:!(null==v||!v.story_pin_data)}),D=(0,r.useCallback)((function(){(function(e,t,n){var r={check_only:n,pin_id:e.id,url:t,client_tracking_params:R,aux_data:JSON.stringify(p(p({clickthrough_type:"rightClick",objectId:E},m||{}),(0,c.Kl)(e)||{}))};return(0,o.Z)(r)})(v,I,!1).callGet({showError:!1}).then((function(e){e&&(g({event_type:12,object_id_str:E,view_type:b,view_parameter:C,aux_data:p(p({clickthrough_type:"rightClick"},m||{}),(0,c.Kl)(v)||{})}),g({event_type:8948,view_type:b,object_id_str:E,view_parameter:C,aux_data:p(p({click_type:"clickthrough",closeup_navigation_type:_&&(0,s.sV)(_)?"deeplink":"click",clickthrough_type:"rightClick"},m||{}),(0,c.Kl)(v)||{})}))}))})),N=function e(t){var n;P&&(/^\/pin/.test(null===(n=t.target.activeElement.attributes.href)||void 0===n?void 0:n.value)||(D(),O(!1)),window.removeEventListener(x,e,!1))};return(0,r.useEffect)((function(){var e,t,n,r,o,i;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?j("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(r=n.document)||void 0===r?void 0:r.msHidden)?j("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(i=o.document)||void 0===i?void 0:i.webkitHidden)&&j("webkitvisibilitychange")}),[]),(0,r.useEffect)((function(){return P&&window&&window.addEventListener(x,N,!1),function(){return window.removeEventListener(x,N)}}),[P,x]),(0,r.useEffect)((function(){return y&&window.addEventListener("contextmenu",k),function(){window.removeEventListener("contextmenu",k)}}),[y]),(0,u.jsx)(r.Fragment,{children:f})}},628551:function(e,t,n){"use strict";n.r(t),n.d(t,{cleanUpCookie:function(){return c},getCsrfToken:function(){return s},needsCsrfToken:function(){return l}});var r=n(231486),o=n(226198),i=n(826067),a=n(29538),c=function(){var e,t=o.fS.name,n=document.cookie.match(new RegExp(t+"=.+?($|;)","g"));n&&n.length>1&&(e=a.c,document.cookie=o.fS.name+"=bad; domain=."+e+"; expires=Thu, 01-Jan-1970 00:00:00 GMT; Max-Age=0; Path=/")},s=function(){return"undefined"!=typeof window?"".concat(String(r.U2(o.fS))):""},l=function(e,t){return!function(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}(e)&&(0,i.Qg)(t)}},558068:function(e,t,n){"use strict";n.d(t,{Hv:function(){return v},aX:function(){return b},nK:function(){return g}});var r=n(76911),o=n(425288),i=n(609500),a=n(515198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),y=h.Provider,v=h.useHook,m=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function _(e,t){var n,r={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&m(e.forward[0].location)===m(r.location)?p(p({},e),{},{forward:e.forward.slice(1),current:p(p({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous}):p(p({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(s(e.forward)):e.forward,current:p(p({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return p(p({},e),{},{forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return p(p({},e),{},{current:r});default:return e}}function b(){var e=v(),t=e.current,n=e.previous;return(0,r.useMemo)((function(){return t?n.concat(t):n}),[t,n])}function g(e){var t=e.children,n=(0,i.useHistory)(),o=(0,i.useLocation)(),s=(0,i.useRouteMatch)(),l={forward:[],current:{action:n.action,location:o,match:s},previous:[]},u=c((0,r.useReducer)(_,l),2),d=u[0],p=u[1];return(0,r.useEffect)((function(){var e=n.action;p({type:e,location:o,match:s})}),[o]),(0,a.jsx)(y,{value:d,children:t})}},391254:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});n(674631);var r=n(515198),o=["css","unsafeCSS"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._private_safe_value=t.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}var t,n,r;return t=e,r=[{key:"factory",value:function(t){return t instanceof e?t:new e(String(t))}}],(n=[{key:"toString",value:function(){return this._private_safe_value}}])&&l(t.prototype,n),r&&l(t,r),e}();function d(e){var t=e.css,n=e.unsafeCSS,i=s(e,o),c=String(t||"")||n||"";return!!c?(0,r.jsx)("style",a(a({},i),{},{dangerouslySetInnerHTML:{__html:String(u.factory(c))}})):null}},422722:function(e,t,n){"use strict";n.r(t);var r=n(176532),o=n(635240),i=n(395164);var a={},c=18e5;a.BASE_URL_PATH="/_/_/report/",a.BASE_URL_PATH_TRACE="/_/_/trace/",a.SERVER_LOG_TYPE=Object.freeze({PAGE_LOAD_METRIC:"page_load_metric",BROWSER_EXTENSION:"browser_extension",RENDER_TIME:"render_time",NETWORK_LOAD:"network_load",SIGNUP_LOAD:"signup_load",TRACE:"trace",STRING_USAGE:"string_usage",HF_REFRESH:"hf_refresh"}),a.HTTP_METHOD=Object.freeze({GET:"GET",POST:"POST"});var s,l,u,d=function(e,t){if(!/password/i.test(e))return t},p=function(e,t,n,i){var c;c="trace"===e?a.BASE_URL_PATH_TRACE+e+"/":a.BASE_URL_PATH+e+"/",i&&(n.timeElapsed=Date.now()-i),e&&(n.logType=e);var s="";try{s=window.location.href}catch(d){}var l={app_version:(0,o.Z)(),current_url:s},u=a._assembleXhrData(l,n);return(0,r.Z)({url:c,type:t,data:u}).promise.then((function(e){var t=e.ok,n=e.status,r=e.statusText;return t?Promise.resolve():Promise.reject({type:"error",message:r,httpStatus:n})}))};a._assembleXhrData=function(e,t){var n;try{n=JSON.stringify(t,d)}catch(r){n=JSON.stringify({messages:[r.toString()]})}return{report_context:JSON.stringify(e,d),report_data:n}},a.logToServer=function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=null!=o?o:0,d=null!=s?s:1;l=null!==(r=l)&&void 0!==r?r:s,p(e,t,n,l).catch((function(r){if(u){u-=1;var o=Math.min(c,1.23*d);setTimeout((function(){a.logToServer(e,t,n,u,o,l)}),s)}else u-=1,(0,i.T)({name:r.name,message:"LogToServer failed: ".concat(r.message)})}))},a.logPerfDataToServer=a.logToServer,a.logToServer=(s=a.logToServer,l=10,u=0,function(){if(!(u>=l)){u+=1;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.apply(this,t)}}),t.default=a},241244:function(e,t,n){"use strict";n.d(t,{N:function(){return a},Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.children,n=e.fullWidth;return(0,o.jsx)(r.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},children:t})}function a(e){var t=e.children;return e.enabled?(0,o.jsx)(i,{children:t}):t}},310227:function(e,t,n){"use strict";n.d(t,{Dv:function(){return i},Ml:function(){return a},Oc:function(){return r},mv:function(){return o}});var r=16,o=4,i={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},a=120},743473:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(567831),o=n(794230),i=n(107193),a=n(402201),c=n(704115),s=n(214494);var l={open:function(e){var t,n,u=(n=e,l._validParams.reduce((function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]),e}),{})),d=l._getDialogType(e),p=l.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),f=e.object_type&&e.object_id&&"feed"===d,h=(0,r.Z)(e.path),y=(0,c.Z)();if(y.ptrf&&(h=(0,o.Z)(h,{ptrf:y.ptrf})),f&&(h=(0,o.Z)(h,{fb_ref:p})),u.method=d,"feed"===u.method){var v=(0,a.Z)({width:e.width,height:e.height}),m="http://www.facebook.com/sharer/sharer.php?u="+h;u.picture&&(m+="&picture="+u.picture),u.name&&(m+="&title="+u.name),u.description&&(m+="&description="+u.description),u.caption&&(m+="&caption="+u.caption),window.open(encodeURI(m),"sharer",v)}else"send"===u.method?u.link=h:"share"===u.method&&(u.href=h),(0,i.default)((function(t){t.getLoginStatus((function(){if("send"===u.method){t.ui(u);var n,r=10,o=setInterval((function(){!(n=function(){if(document){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),n=0;n<t.length;n+=1){var r=t[n].parentNode;r&&r.removeChild(t[n])}return e[0]}}}())&&r||(clearInterval(o),n&&l.executeMessengerCallback(n,e.callback)),r-=1}),1e3)}else"share"===u.method&&t.ui(u,(function(t){f&&t&&!t.error_message&&s.Z.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:p}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function(e,t){var n=10,r=setInterval((function(){"0px"!==e.style.width&&n||(clearInterval(r),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef:function(e){for(var t="";t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:function(e){return l._validOptions.includes(e.type)?e.type:"feed"}},u=l;function d(e,t,n){var r=function(e,t){var n=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(r>t?Math.round((r-t)/2):0)}(t,n);window.open(e,void 0,r)}var p,f,h={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog:function(e){d(h._getWindowUrl(e.share_path,e.share_text),h.DIALOG_WIDTH,h.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,r.Z)(e):void 0,text:t})}},y=h,v={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function(e){d(v._getWindowUrl(e.tweet_path,e.tweet_text),v.DIALOG_WIDTH,v.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,r.Z)(e):void 0,text:t||void 0})}},m=v,_=n(704217);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,c,"next",e)}function c(e){P(i,r,o,a,c,"throw",e)}a(void 0)}))}}var S=void 0!==p?p:p=n(166379),x=void 0!==f?f:f=n(380465),j=function(){var e=O(regeneratorRuntime.mark((function e(t,n,r){var o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){var t,n,r;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(r=null==e?void 0:e.title)&&void 0!==r?r:""}},e.next=3,(0,_.fetchQuery)(t,x,{invite_category:r.toString(),url:n}).toPromise();case 3:return a=e.sent,e.abrupt("return",i(null==a||null===(o=a.v3CreateShareLinkQuery)||void 0===o?void 0:o.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),E=function(){var e=O(regeneratorRuntime.mark((function e(t,n,r,o,i){var a,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){var t,n,r;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(r=null==e?void 0:e.title)&&void 0!==r?r:""}},s={invite_category:n,invite_object:r,invite_channel:o},e.next=4,(0,_.fetchQuery)(t,S,{inviteType:JSON.stringify(s),objectId:i}).toPromise();case 4:return l=e.sent,e.abrupt("return",c(null==l||null===(a=l.v3InviteUserExternalQuery)||void 0===a?void 0:a.data));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i){return e.apply(this,arguments)}}(),A={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject:function(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite:function(e,t,n){var r=this._convertToInviteObject(e.object_type),o=e.invite_channel,i=null==e.invite_category?3:e.invite_category,a=e.object_id;return s.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:i,invite_object:r,invite_channel:o},invite_code:t,object_id:a,client_tracking_params:e.client_tracking_params}).callCreate()},createShareInviteData:function(e,t){var n=this._convertToInviteObject(e.object_type),r=e.invite_channel,o=null==e.invite_category?3:e.invite_category,i=e.orbac_subject_id;if(10===o&&e.path)return t?j(t,e.path,o):s.Z.create("ShareLinkResource",{invite_category:o,url:e.path}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}));if(t)return E(t,o,n,r.toString(),e.object_id);var a=e.object_id;return s.Z.create("CreateExternalInviteResource",g({invite_type:{invite_category:o,invite_object:n,invite_channel:r},object_id:a},i?{orbac_subject_id:i}:{})).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}))},logShareInvite:function(e,t,n){t&&A._logShareInvite(e,t.invite_code,n)},shareFacebookInvite:function(e,t){var n=e.options,r=e.unauthId,o=e.viewer;return A.createShareInviteData(n,t).then((function(e){var i=e.invite_url,a=e.invite_code;if(i){var c={type:"share",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:i,picture:n.picture,callback:function(e){e&&!e.error_message&&A._logShareInvite(n,a,t)}};u.open(g(g({},c),{},{display:"popup",unauthId:r,viewer:o}))}return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},shareTwitterInvite:function(e,t){var n=this._convertToInviteObject(e.object_type);return A.createShareInviteData(e,t).then((function(r){var o=r.invite_url,i=r.invite_code,a=e.description;return 6===n&&e.name&&(a=e.name),a.trim()||(a="".concat(r.title,"\n")),o&&m.openDialog({tweet_path:o,tweet_text:a}),A._logShareInvite(e,i,t),Promise.resolve(r)}),(function(e){return Promise.reject(e)}))},shareLineInvite:function(e,t){var n=this._convertToInviteObject(e.object_type);return A.createShareInviteData(e,t).then((function(r){var o=r.invite_url,i=r.invite_code,a=e.description;return 6===n&&e.name&&(a=e.name),a.trim()||(a="".concat(r.title,"\n")),o&&y.openDialog({share_path:o,share_text:a}),A._logShareInvite(e,i,t),Promise.resolve(r)}),(function(e){return Promise.reject(e)}))},shareFbMessengerInvite:function(e,t){var n=e.options,r=e.unauthId,o=e.viewer;return A.createShareInviteData(n,t).then((function(e){var i=e.invite_url,a=e.invite_code;return i&&u.open({type:"send",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:i,picture:n.picture,callback:function(e){e&&e.success&&A._logShareInvite(n,a,t)},display:"popup",unauthId:r,viewer:o}),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}},T=A},170815:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:function(){return a}});var o=!("undefined"==typeof window||!window.performance||!window.performance.now);function i(){return o?window.performance.now():Date.now()}var a=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=null,(n="startTime")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,a;return t=e,(n=[{key:"start",value:function(){this.startTime=i()}},{key:"end",value:function(){this.elapsedTime=Math.round(i()-(this.startTime||Date.now())),this.startTime=o?Math.round(this.startTime||Date.now()):null}},{key:"getCompletedTime",value:function(){return this.elapsedTime}}])&&r(t.prototype,n),a&&r(t,a),e}()},594881:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(172071),o=n(214494),i=n(202139);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=n(983722),s=n(635240);var l=n(385740),u=n(30287),d=n(353356);var p=function(){var e,t,n,p,f,h=(0,c.Z)();if(null!=h&&h.isAuthenticated&&(e=window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove"),t=window.location.pathname.startsWith("/pin/create/"),n="/pin-builder/"===window.location.pathname&&/url=/.test(window.location.href),p=t||n,((f=((0,c.Z)()||{userAgent:{isMobile:!1,isTablet:!1}}).userAgent).isMobile||f.isTablet||!p)&&!e)){var y,v,m=null!==(y=(0,l.BE)())&&void 0!==y?y:{},_=m.viewType,b=m.viewParameter,g=(0,u.FB)(window);!function(e,t){var n=o.Z.create("ActiveUserResource",e),c=3e4;n.callCreate().catch((function(o){var s=o.message;if(s&&"object"===a(s)){s._t_message&&delete s._t_message;try{s=JSON.stringify(s)}catch(l){s="Unable to serialize error message"}}r.Z.increment("webapp.metrics.dau.errors",1,{message:s,browser:e.data.browser,error_code:o.api_error_code,is_auth:t}),setTimeout((function(){c>i.UK||(c*=2,n.callCreate())}),c)}))}({data:{appVersion:(0,s.Z)(),auxData:{pwa_type:g&&"unknown"!==g?g:void 0,stage:null!==(v=h.stage)&&void 0!==v?v:"unknown"},browser:h.userAgent.browserType,clientUUID:(0,d.Z)(),event_type:7137,time:1e6*Date.now(),unauth_id:h.unauthId,view_type:_,view_parameter:b}},h.isAuthenticated)}}},619937:function(e,t,n){"use strict";n.d(t,{$N:function(){return p},GY:function(){return s},MZ:function(){return a},NR:function(){return u},Vn:function(){return l},fm:function(){return r},kM:function(){return i},q6:function(){return o},qp:function(){return c},uV:function(){return d}});var r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},i={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},a={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce"},c={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_MANAGER:"CONVERSIONS_API_MANAGER",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},s={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},l={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},u={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},d=604800,p={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},176532:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.async,n=e.data,i=e.headers,s=e.timeout,l=e.type,u=(e.updateProgress,e.url),d=!1;return{promise:new Promise((function(e,p){var f=s?setTimeout((function(){d="timeout",p({type:"timeout"})}),s):void 0;fetch(u,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({method:l,credentials:"include",mode:"same-origin",keepalive:!t,headers:i},n?{body:n}:{})).then((function(t){f&&clearTimeout(f),d?"timeout"!==d&&p({type:"abort"}):e({status:t.status,statusText:t.statusText,ok:t.status>=200&&t.status<300||304===t.status,headers:{get:function(e){return t.headers.get(e)},_logString:function(){var e,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}(t.headers.entries());try{for(i.s();!(e=i.n()).done;){var a=r(e.value,2),c=a[0],s=a[1];n.push("".concat(c,": ").concat(s,"\r\n"))}}catch(l){i.e(l)}finally{i.f()}return n.join("")}},json:function(){return t.json().then((function(e){return e instanceof Object?e:Promise.reject(new Error("JSON.parse did not return an object"))}))}})})).catch((function(){return Promise.reject({type:"timeout"})}))})),abort:function(){d="manual"}}}n.d(t,{Z:function(){return w}});var l=n(635240),u=function(){};function d(e){var t=e.async,n=e.data,r=e.headers,o=e.timeout,i=e.type,a=e.updateProgress,c=e.url,s=new XMLHttpRequest;return{promise:new Promise((function(e,l){var d=o?setTimeout((function(){s.onreadystatechange=u,s.abort(),l({type:"timeout"})}),o):void 0;s.onreadystatechange=function(){if(4===s.readyState){s.onreadystatechange=u,clearTimeout(d);var t=s.status,n=s.statusText,r=s.responseText;if(!t)return void l({type:"abort"});e({status:t,statusText:n,ok:t>=200&&t<300||304===t,headers:{get:function(e){return s.getResponseHeader(e)},_logString:function(){return s.getAllResponseHeaders()}},json:function(){return new Promise((function(e,t){try{var n=JSON.parse(r);n instanceof Object?e(n):t(new Error("JSON.parse did not return an object"))}catch(o){t(o)}}))},responseText:r})}},a&&s.upload.addEventListener("progress",(function(e){var t=null;e.lengthComputable&&(t=e.loaded/e.total*100),a(t)})),s.open(i,c,t),Object.keys(r).forEach((function(e){s.setRequestHeader(e,r[e])})),s.send(n||null)})),abort:function(){s&&s.abort()}}}var p=n(536126),f=n.n(p),h=function(e){if(function(e){var t=e.match(/\s+chrome\/(\d+)\./i);return!!t&&parseInt(t[1],10)>=79}(e))return!0;var t=f()(e).browser,n=t.name,r=void 0===n?"":n,o=t.version,i=parseInt((void 0===o?"":o).replace(/\..*/,""),10)||0;return"chrome"===r.toLowerCase()&&i>=79},y=n(826067),v=n(628551);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=b({async:!0,cache:!1,data:void 0,headers:{},query:{},timeout:0,type:"GET"},e),n=t.url,r=t.data,o=t.type;r&&"object"===m(r)&&("GET"===o?(n=(0,y.ru)(n,r),r=void 0):r instanceof FormData||(r=(0,y.XP)(r))),!1===t.cache&&"GET"===o&&(n=(0,y.ru)(n,{_:Date.now()}));var i=(0,v.needsCsrfToken)(o,n);return i&&!(0,v.getCsrfToken)()?{promise:Promise.reject({type:"csrferror",message:"No csrf token found"}),abort:function(){}}:(!t.async&&"keepalive"in new Request("")&&h(window.navigator.userAgent||"")?s:d)(b(b({},t),{},{url:n,data:r,headers:b(b(b({"X-Requested-With":"XMLHttpRequest",Accept:"application/json, text/javascript, */*, q=0.01","X-APP-VERSION":(0,l.Z)()},"GET"===o||!r||r instanceof FormData?{}:{"Content-Type":"application/x-www-form-urlencoded"}),i?{"X-CSRFToken":(0,v.getCsrfToken)()||""}:{}),t.headers)}))}},427014:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(172071);function o(e){var t=e.appType,n=e.currVersion,o=e.deviceType,i=e.eventType,a=e.eventName,c=e.stage,s=e.nextVersion,l=e.isBot,u=e.originHost,d="desktop"===o?5:6;r.Z.increment("".concat("web.client_refresh",".").concat(i,".").concat(o),1,{stage:c,currVersion:n,nextVersion:s,isBot:l,siteType:t||d,appType:t||d,event:a,originHost:u||"unknown"})}},41233:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(221263),o=n(937330);function i(e){var t,n=e.action,i=e.board,a=e.viewer;return(0,r.Z)(a,i)||(0,o.Z)({board:i,viewer:a})&&!(null===(t=i.collaborator_permissions)||void 0===t||!t.includes(n))}},221263:function(e,t,n){"use strict";function r(e,t){var n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:function(){return r}})},937330:function(e,t,n){"use strict";function r(e){var t=e.board,n=e.viewer,r=t.collaborated_by_me;return Boolean(n.isAuth&&r)}n.d(t,{Z:function(){return r}})},4294:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(221263),o=n(937330);function i(e){var t=e.board,n=e.viewer;return(0,r.Z)(n,t)||(0,o.Z)({board:t,viewer:n})}},366284:function(e,t,n){"use strict";n.d(t,{G6:function(){return i},i7:function(){return a},oi:function(){return r},u$:function(){return o},un:function(){return s},vU:function(){return c}});var r=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=function(e){switch(!0){case e.includes("Chrome"):return r.CHROME;case e.includes("Safari"):return r.SAFARI;case e.includes("Firefox"):return r.FIREFOX;case e.includes("Opera"):return r.OPERA;case e.includes("IE"):return r.IE;case e.includes("Edge"):return r.EDGE;default:return r.OTHER}};function i(e){return o(e)===r.SAFARI}function a(e){return o(e)===r.CHROME}function c(e){return o(e)===r.FIREFOX}function s(e){return o(e)===r.EDGE}},56641:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(567831),o=n(867820);function i(e,t){if(t&&!function(){try{return window.localStorage.test=2,!1}catch(e){return!0}}()){var n=window.open(e,"_blank");return n&&(n.opener=null),n}var i=(0,r.Z)(e);return setTimeout((function(){(0,o.My)("setting_new_window_location")}),0),window.location.href=i,window}},126098:function(e,t,n){"use strict";function r(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}n.d(t,{Z:function(){return r}})},792182:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76911),o=n(664229),i=n.n(o);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){var e=a((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){return n({width:window.innerWidth,height:window.innerHeight})};e();var t=i()(e,50);return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),t}},834911:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(835209),o=n(341732);function i(e){var t=e.carouselData,n=e.images,i=e.richMetadata,a=e.richSummary,c=e.shouldUnifyImageSizes,s=e.additionalImages,l=(0,r.Z)({richPinData:i||a});return l&&s&&s.length>0?(0,o.Z)(null,s,t&&t.index,c,l.id):l&&l.additional_images&&l.additional_images.length>0?(0,o.Z)(n,l.additional_images,t&&t.index,c,l.id):t||void 0}},737022:function(e,t,n){"use strict";function r(e){return e?e["564x"]&&e["564x"].url?e["564x"]:e["736x"]&&e["736x"].url?e["736x"]:e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null:null}n.d(t,{Z:function(){return r}})},687551:function(e,t,n){"use strict";function r(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,{Z:function(){return r}})},341732:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return u}});var s=["236x","474x","564x","736x"];function l(e){function t(e,t){var n=t.imageKey,r=t.height,a=t.width;return e.images&&e.images[n]&&(e=o(o({},e),{},{images:o(o({},e.images),{},i({},n,o(o({},e.images[n]),{},{height:r,width:a})))})),e}var n=s.map((function(t){var n=Math.min.apply(Math,a(e.map((function(e){return e.images&&e.images[t]&&e.images[t].height||1/0})))),r=Math.min.apply(Math,a(e.map((function(e){return e.images&&e.images[t]&&e.images[t].width||1/0}))));return{imageKey:t,height:n,width:r}}));return e.map((function(e){return n.reduce(t,e)}))}function u(e,t,n,r,o){var i=(null==t?void 0:t.map((function(e){return{images:e.canonical_images||void 0,image_signature:e.image_signature||void 0}})))||[],c=e?[{images:e}].concat(a(i)):i;return{carousel_slots:r?l(c):c,index:n||0,id:o}}},768559:function(e,t,n){"use strict";var r=n(826067),o=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,i=/\/discover\/article\/[\w-]+\/(\d+)/,a=function(e,t){return t?e.substring(t.length).split("/")[0]:e},c=function(e){var t,n,c=e.boardUrl,s=e.callToCreateSourcePinId,l=e.path,u=e.pinId,d=e.pinnerUserName,p=e.query,f=e.search,h=e.storyPinDataId;if(!l)return"";switch(l){case"/":case"/homefeed/":return"UserHomefeedResource";case d&&"/".concat(d,"/pins/"):return"UserPinsResource";case d&&"/".concat(d,"/"):case/\/_activity\//.test(l)&&l:return"UserActivityPinsResource";case/\/_created\//.test(l)&&l:return h?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(l)&&l:return"UserDiscoveredPinsResource";case/\/_shop\//.test(l)&&l:return"StoreFrontFeedResource";case/\/_saved\//.test(l)&&l:return"BoardlessPinsResource";case d&&"/".concat(d,"/_shopping_list/"):return"ShoppingListFeedResource";case/\/visual-search\//.test(l)&&l:return"VisualLiveSearchResource";case/\/pin\//.test(l)&&l:var y=a(l,"/pin/");if(u!==y)return s?"ApiResource_callToCreatePins_".concat(y):"RelatedPinFeedResource_".concat(y);break;case/\/search\//.test(l)&&l:if(f){var v=(0,r.mB)(f,{shouldDecode:!1}).q||"";return"SearchResource_".concat(v.toLowerCase())}if(p)return"SearchResource_".concat(encodeURIComponent(p.q||"").toLowerCase());break;case i.test(l)&&l:var m=(null===(t=l.match(i))||void 0===t?void 0:t[2])||"unknown";return"ExploreArticleResource_".concat(m);case/\/discover\/article\//.test(l)&&l:var _=a(l,"/discover/article/");return"ExploreArticleResource_".concat(_);case/\/categories\//.test(l)&&l:var b=a(l,"/categories/");return"CategoryFeedResource_".concat(b);case/\/discover\/topics\//.test(l)&&l:return"CategoryFeedResource";case/\/news_hub\//.test(l)&&l:var g=a(l,"/news_hub/");return"NewsHubDetailsResource_".concat(g);case/\/_tools\/more-ideas\//.test(l)&&l:return"BoardContentRecommendationResource";case/\/topics\//.test(l)&&l:var w=a(l,"/topics/");return"TopicFeedResource_".concat(w);case d&&"/".concat(d,"/products/"):return"StoreFrontFeedResource";case/\/source\//.test(l)&&l:var P=a(l,"/source/");return"DomainFeedResource_".concat(P);case/\/explore\//.test(l)&&l:var O=a(l,"/explore/");return"SearchResource_".concat(O);case c:case!!c&&/\/more_ideas\//.test(l)&&l:return"BoardFeedResource";case c&&l.indexOf(c)>-1&&l:return"BoardSectionPinsResource";case/\/following\//.test(l)&&l:return"FollowingFeedResource";case/\/brand_catalog\//.test(l)&&l:return"BrandCatalogFeedResource";case o.test(l)&&l:var S=(null===(n=l.match(o))||void 0===n?void 0:n[2])||"unknown";return"TodayArticleFeedResource_".concat(S);case/\/today\//.test(l):return"TodayTabResource";case/\story_feed\//.test(l)&&l:if(f){var x=(0,r.mB)(f),j=x.feed_type,E=x.request_params;return"StoryFeedResource_".concat(j,"_").concat(E)}}return""};t.Z=function(e){var t=e.boardUrl,n=e.callToCreateSourcePinId,r=e.location,o=e.pinId,i=e.pinnerUserName,a=e.previousHistory,s=e.storyPinDataId,l=e.trackingParams,u=e.trackingParamsMap,d=void 0===u?{}:u;if(o&&l&&r){if(!d)return"".concat(l,"~0");var p,f=r.pathname,h=r.search,y=r.query,v=c({boardUrl:t,callToCreateSourcePinId:n,path:f,pinId:o,pinnerUserName:i,query:y,search:h,storyPinDataId:s,trackingParams:l,trackingParamsMap:d}),m=Object.keys(d);if((f||"").startsWith("/pin/")){var _=m.find((function(e){return"PinResource"!==e}));p=_?d[_]:d.PinResource}else p=d[v];if(!p&&a&&a.length){var b=function(e){var t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""}(a[a.length-1].location);p=d[c({boardUrl:t,callToCreateSourcePinId:n,path:b,pinId:o,pinnerUserName:i,query:y,search:h,storyPinDataId:s,trackingParams:l,trackingParamsMap:d})]}return p||(p="".concat(l||"","~0")),p}}},47170:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(768559),o=n(558068),i=n(609500);function a(e){var t,n,a=(0,i.useLocation)(),c=(0,o.Hv)().previous;return(0,r.Z)({boardUrl:null===(t=e.board)||void 0===t?void 0:t.url,callToCreateSourcePinId:e.call_to_create_source_pin_id,location:a,pinId:e.id,pinnerUserName:null===(n=e.pinner)||void 0===n?void 0:n.username,previousHistory:c,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map})}},827896:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(768559),o=n(350118),i=n(609500);function a(){var e=(0,o.S6)(),t=(0,i.useLocation)();return function(n,o){var i,a=e(n);if(null!=o&&o.shouldTrackForPrevLocation){var c=(null==a?void 0:a.tracking_params_map)||{},s=Object.keys(c).find((function(e){return"PinResource"!==e}));a&&(i=s?c[s]:c.PinResource)}else if(a){var l,u;i=(0,r.Z)({boardUrl:null===(l=a.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:a.call_to_create_source_pin_id,location:t,pinId:a.id,pinnerUserName:null===(u=a.pinner)||void 0===u?void 0:u.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map})}return i}}},407043:function(e,t,n){"use strict";n.d(t,{B:function(){return l},v:function(){return s}});var r=n(385740),o=n(425288),i=n(515198),a=(0,o.Z)("ContextLogger"),c=a.Provider,s=a.useHook;function l(e){var t=e.children,n=e.value,o=(0,r.sV)().setViewContextData;return n.injectSetViewContextDataFromHook=o,(0,i.jsx)(c,{value:n,children:t})}},112690:function(e,t,n){"use strict";var r=n(407043);t.Z=function(){return(0,r.v)().logContextEvent}},385740:function(e,t,n){"use strict";n.d(t,{BE:function(){return y},Ih:function(){return v},SU:function(){return m},sV:function(){return h}});var r=n(76911),o=n(425288),i=n(515198);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d,p=(0,o.Z)("View"),f=p.Provider,h=p.useHook;function y(){return d}function v(e){var t=e.children,n=e.initialState,o=void 0===n?{}:n,a=l((0,r.useState)(o),2),s=a[0],u=a[1],p=(0,r.useCallback)((function(){d={},u({})}),[]),h=(0,r.useCallback)((function(e){d=c(c({},d),e),u((function(t){return c(c({},t),e)}))}),[]),y=(0,r.useMemo)((function(){return{viewContextData:s,clearViewContextData:p,setViewContextData:h}}),[s,h,p]);return(0,i.jsx)(r.Fragment,{children:(0,i.jsx)(f,{value:y,children:t})})}function m(){return h().viewContextData}},911691:function(e,t){"use strict";t.Z=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"]},798748:function(e,t,n){"use strict";n.d(t,{sw:function(){return l},tb:function(){return p},jD:function(){return d}});var r=n(911691),o=n(226198),i=[o.EI,o.SJ,o.KU,o.Ek,o.wV,o.ZQ,o.pI,o.pp,o.fs,o.GY,o.hx,o.tv,o.jh,o.x_,o.Ck,o.L9,o.fS,o.rc,o.e7,o.x2,o.nE,o.qN,o.ZO,o.B_,o.Mq,o.Z_,o.$E,o.Q1,o.x3,o.sy,o.It,o.IV,o.eB,o.Gl,o.oj,o.ls,o.hq,o.oC,/^offsite_\d+$/,/^SSESS[a-z0-9]+/],a={marketing:[o.WL,o.k5,o.BN,o.cb,o.We,o._E],analytic:[o.MO,o.tg,o.JD,o.Mw,o.uq,o.o7,o.su,o.eG,o.th,o.VL,o.aq,/^ajs_$/,/^pinAlert.*$/],personalization:[o.T7,o.t0]};function c(e,t){return t.some((function(t){return t instanceof RegExp?t.test(e):t.name===e}))}function s(e){for(var t=0,n=["marketing","analytic","personalization"];t<n.length;t++){var r=n[t];if(c(e,a[r]))return r}return c(e,i)?"essential":"unknown"}var l=new Set(r.Z),u=function(){return[]};function d(e,t){u=function(){var n=e(),r=t(),o=n.isAuth?n.country:"";return l.has(o)||l.has(r.countryFromIp||"")||l.has(r.countryFromHostName||"")?["allow_marketing_cookies","allow_analytic_cookies","allow_personalization_cookies"].filter((function(e){return n.isAuth&&!0!==n[e]})).map((function(e){switch(e){case"allow_marketing_cookies":return"marketing";case"allow_analytic_cookies":return"analytic";case"allow_personalization_cookies":return"personalization";default:throw new Error("Unexpected cookie category to block")}})):[]}}function p(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(e,t)||n&&"unknown"===s(e)}(e,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){return e.concat(a[t])}),[])}(u()))}},231486:function(e,t,n){"use strict";n.d(t,{U2:function(){return a},kZ:function(){return c},t8:function(){return u},zN:function(){return d}});var r=n(172071),o=n(798748);function i(e){if("undefined"==typeof document)return null;var t=document.cookie.match(new RegExp("\\b"+e+"=.+?($|;)","g"));return t&&t[0]&&unescape(t[0].substring(e.length+1,t[0].length).replace(";",""))||null}function a(e){return i(e.name)}function c(e){var t=1/60;switch(e.duration){case"session":return;case"30s":return.008333333333333333;case"1m":return 1*t;case"5m":return 5*t;case"12h":return 12;case"1d":return 24;case"30d":return 720;case"180d":return 4320;case"1y":return 8760;case"sessionCookie":throw new Error("Cannot set duration to sessionCookie in client");default:throw new Error("Invalid cookie duration ".concat(String(e.duration)))}}var s=function(e){return String(e).replace(/[^0-9a-zA-Z_-]+/g,"_")};function l(e,t,n){if((0,o.tb)(e)){var a=!1;if(i(e)){var c=["".concat(e,"="),"path=/","expires=".concat(new Date(0).toUTCString())].join(";");document.cookie=c,a=!i(e)}return r.Z.increment("webapp.cookies.blocked.client",.01,{cookieName:s(e),deleted:a}),document.cookie}var l=[e+"="+escape(t),"path=/"],u=function(e){if(isNaN(parseInt(e,10)))return"";var t=new Date;return t.setTime(Date.now()+60*parseInt(e,10)*60*1e3),t.toUTCString()}(n);return u&&l.push("expires="+u),l.push("secure"),document.cookie=l.join("; "),r.Z.increment("webapp.cookies.set.client",1e-4,{cookieName:s(e)}),document.cookie}function u(e,t,n){return l(e.name,t,n)}var d=function(e){i(e)&&l(e,"",-100)}},226198:function(e,t,n){"use strict";n.d(t,{$E:function(){return A},BN:function(){return V},B_:function(){return x},Ck:function(){return v},EI:function(){return r},Ek:function(){return R},GS:function(){return ce},GY:function(){return d},Gl:function(){return B},IV:function(){return L},It:function(){return N},JD:function(){return I},KU:function(){return i},L9:function(){return m},MO:function(){return W},Mq:function(){return j},Mw:function(){return q},Q1:function(){return T},SJ:function(){return o},T7:function(){return ne},VL:function(){return ee},WL:function(){return U},We:function(){return H},Xh:function(){return oe},ZO:function(){return S},ZQ:function(){return c},Z_:function(){return E},_E:function(){return le},aq:function(){return te},cb:function(){return G},e7:function(){return Y},eB:function(){return M},eF:function(){return ae},eG:function(){return J},fS:function(){return _},fs:function(){return u},hq:function(){return C},hx:function(){return p},jh:function(){return h},k5:function(){return F},lq:function(){return ie},ls:function(){return z},nE:function(){return P},o7:function(){return X},oC:function(){return se},oj:function(){return Z},pI:function(){return s},pp:function(){return l},qN:function(){return O},rc:function(){return b},su:function(){return $},sy:function(){return D},t0:function(){return re},tg:function(){return k},th:function(){return Q},tv:function(){return f},uq:function(){return K},wV:function(){return a},x2:function(){return w},x3:function(){return g},x_:function(){return y}});var r={name:"_auth",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},o={name:"_b",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},i={name:"_pinterest_access_token",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},a={name:"_routing_id",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},c={name:"_ss_al",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},s={name:"_ss_at",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},l={name:"_ss_auth",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},u={name:"_ss_country_code",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},d={name:"_ss_la",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},p={name:"_ss_li",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},f={name:"_ss_lo",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},h={name:"_ss_na",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},y={name:"_ss_u",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},v={name:"AUTHSSL",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},m={name:"cm_sub",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"1y"},_={name:"csrftoken",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"1y"},b={name:"daa",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},g={name:"logged_out",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},w={name:"fbalae",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},P={name:"force_default_pinner_experience",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},O={name:"forced_experiments",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},S={name:"forced_no_experiments",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},x={name:"G_ENABLED_IDPS",purpose:"essential",httpOnly:!1,provenance:"3p",duration:"session"},j={name:"galae",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},E={name:"hasBeenShownLoginModalInOpen",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},A={name:"is_in_integration_tests",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},T={name:"languageIsDetected",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},I={name:"_pinterest_referral_source",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"5m"},k={name:"_pinterest_referrer",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"5m"},R={name:"_pinterest_sess",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},C={name:"_pinterest_sos",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"1d"},D={name:"ls",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},N={name:"r_r",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"180d"},L={name:"SimpleSAMLAuthToken",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},M={name:"SimpleSAMLSessionID",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},B={name:"ss",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},Z={name:"tr_rdrct",purpose:"essential",httpOnly:!1,provenance:"unknown",duration:"1y"},z={name:"unauthLocale",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},U={name:"_derived_epik",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},F={name:"_epik",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},V={name:"_pinterest_ct",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},G={name:"_pinterest_ct_rt",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},H={name:"_pinterest_ct_ua",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},W={name:"_pinterest_cm",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},q={name:"_sd_redirect",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"30s"},Y={name:"fba",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"30d"},K={name:"ajs_anonymous_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},X={name:"ajs_group_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},$={name:"ajs_user_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},J={name:"amp-access",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},Q={name:"amp-experiment",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},ee={name:"sessionFunnelEventLogged",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"12h"},te={name:"session_internal",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},ne={name:"attemptToClaimWebsite",purpose:"personalization",httpOnly:!1,provenance:"1p",duration:"1d"},re={name:"bxn",purpose:"personalization",httpOnly:!1,provenance:"1p",duration:"session"},oe={name:"ujr",purpose:"unknown",httpOnly:!1,provenance:"1p",duration:"session"},ie={name:"BearerToken",purpose:"unknown",httpOnly:!1,provenance:"unknown",duration:"session"},ae={name:"sterling_save_preferences",purpose:"unknown",httpOnly:!1,provenance:"1p",duration:"session"};function ce(e){return{name:"offsite_".concat(e),purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"}}var se={name:"__Secure-s_a",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},le={name:"l_o",purpose:"marketing",httpOnly:!0,provenance:"1p",duration:"1y"}},425288:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=e.slice(1);return n=n.endsWith("Context")?n:"".concat(n,"Context"),t?{hocDisplayName:"with".concat(e[0].toUpperCase()).concat(n,"(").concat(t,")")}:{propsDisplayName:"".concat(e[0].toLowerCase()).concat(n),messageDisplayName:"".concat(e[0].toUpperCase()).concat(n)}}function l(e,t){var n=(0,r.createContext)(t),i=s(e),l=i.propsDisplayName,u=i.messageDisplayName;n.displayName=u;var d=n.Provider,p=function(e){var t=e.children,o=(0,r.useContext)(n);if(void 0===o)throw new Error("".concat(u,"Consumer must be used within a ").concat(u,"Provider."));return t(o)},f=function(){return(0,r.useContext)(n)};function h(t){var n=s(e,String(t.displayName||t.name)).hocDisplayName,r=function(e){return(0,o.jsx)(p,{children:function(r){if(void 0===r)throw new Error("".concat(n," must be used within a ").concat(u,"Provider."));if(e[l])throw new Error("Parent Component and Context are passing to the component the same variables.");var i=c({},l,r);return(0,o.jsx)(t,a(a({},e),i))}})};return r.displayName=n,r}return d.displayName="".concat(u,"Provider"),p.displayName="".concat(u,"Consumer"),h.displayName="".concat(u,"HOC"),{Provider:d,Consumer:p,MaybeConsumer:function(e){return(0,e.children)((0,r.useContext)(n))},useMaybeHook:f,useHook:function(){var e=f();if(void 0===e)throw new Error("use".concat(u," must be used within a ").concat(u,"Provider."));return e},deprecatedHOC:h}}},643010:function(e,t,n){"use strict";n.d(t,{F6:function(){return f},Hs:function(){return p},Yc:function(){return u},vs:function(){return d}});var r=n(76911),o=n(867820),i=n(844974);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s="theme",l="dark"===(0,i.qn)(s),u=function(){return l};function d(){var e=a((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(u())}),[n]),t}var p=function(){(0,i.Nh)(s,"dark"),(0,o.My)("mweb.dark_mode.enable"),window.location.reload()},f=function(){(0,i.L_)(s),(0,o.My)("mweb.dark_mode.disable"),window.location.reload()}},202139:function(e,t,n){"use strict";n.d(t,{DH:function(){return r},F4:function(){return a},FS:function(){return o},N1:function(){return u},N9:function(){return s},UK:function(){return i},VL:function(){return c},v6:function(){return l}});var r=1e3,o=60*r,i=60*o,a=24*i,c=7*a,s=30*a,l=31*a,u=365*a},81226:function(e,t,n){"use strict";function r(e){var t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:function(){return r}})},766935:function(e,t,n){"use strict";function r(e,t){var n;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,o)}),t)}}n.d(t,{Z:function(){return r}})},966476:function(e,t,n){"use strict";var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(!0)}),[]),t}},722767:function(e,t,n){"use strict";var r=n(76911),o=n(945790);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,i,u=l(p);function p(){var e;a(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(d(e=u.call.apply(u,[this].concat(n))),"observer",null),f(d(e),"handleVisibilityChanged",(function(t,n){e.props.onVisibilityChange(t,n)})),e}return t=p,(n=[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}])&&c(t.prototype,n),i&&c(t,i),p}(r.Component);t.Z=h},11363:function(e,t,n){"use strict";n.d(t,{Bx:function(){return o},N4:function(){return a},is:function(){return c},lt:function(){return r},oM:function(){return i}});var r=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},c=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},946984:function(e,t,n){"use strict";var r=n(898781),o=n(11363),i=n(987318);t.Z=function(){var e=(0,i.H)(),t=e.loginForMore,n=e.viewer,a=e.limitedLoginModalSubheader,c=(0,r.ZP)();return"AUTH"===n.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,o.lt)(c))}}},375571:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(76911),o=n(172071),i=n(395164);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,r,a=u(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=a.call.apply(a,[this].concat(n))),"state",{error:null,info:null}),h(p(e),"resetError",(function(){e.setState({error:null,info:null})})),e}return t=d,(n=[{key:"componentDidCatch",value:function(e,t){try{var n,r=this.props.name,a=this.props.type||"secondary";(0,i.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:r,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),o.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(c){o.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,r=t.info;return n&&r?e?e({error:n,info:r,resetError:this.resetError}):null:this.props.children}}])&&s(t.prototype,n),r&&s(t,r),d}(r.Component)},319915:function(e,t,n){"use strict";var r=n(375571);t.Z=r.Z},124237:function(e,t,n){"use strict";var r=n(908911),o=n.n(r),i={};i._showErrorCallback=i._showErrorCallback||null,i.setShowHtmlErrorCallback=function(e){i._showErrorCallback=e},i.showError=function(e,t,n){var r=o()(e);return i.showHtmlError(r,t,n)},i.showHtmlError=function(e,t,n){"function"==typeof i._showErrorCallback&&i._showErrorCallback(e,t,n)},t.Z=i},121093:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(76911),o=n(506979),i=n(332611),a=n(242923),c=n(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,o,i=v(a);function a(){var e;f(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(_(e=i.call.apply(i,[this].concat(n))),"state",{hasCompleted:[],hasDismissed:[]}),g(_(e),"view",(function(){var t=e.props,n=t.experience,r=t.isBackendExperience,o=t.targeting,i=t.viewExperience,a=t.viewExperienceObject;n&&"viewed"!==n.status&&(r?(n.status="viewed",a(n)):o?i(n.placement_id,n.experience_id,o):i(n.placement_id,n.experience_id))})),g(_(e),"complete",(function(t){var n=e.props,r=n.completeExperience,o=n.completeExperienceObject,i=n.experience,a=n.isBackendExperience,c=n.preventRemoval,s=n.targeting,l=t||1;if(i&&!e.state.hasCompleted.includes(i.experience_id)){var u=i||{},p=u.placement_id,f=u.experience_id,h=c||2===l;(1===l||h)&&p&&f&&(a?o(i,h):s?r(p,f,h,s):r(p,f,h),e.setState((function(e){return{hasCompleted:[].concat(d(e.hasCompleted),[f])}})))}})),g(_(e),"dismiss",(function(){var t=e.props,n=t.dismissExperience,r=t.dismissExperienceObject,o=t.experience,i=t.isBackendExperience,a=t.preventRemoval,c=t.targeting,s=o||{},l=s.placement_id,u=s.experience_id;o&&!e.state.hasDismissed.includes(u)&&(i?r(o):c?n(l,u,!!a,c):n(l,u,!!a),e.setState((function(e){return{hasDismissed:[].concat(d(e.hasDismissed),[u])}})))})),g(_(e),"shouldRenderExperience",(function(){var t=e.props.experience;if(t){var n=e.props,r=n.eligibleIds,o=n.eligibleTypes,i=n.predicate,a=n.transitionType,c=t.experience_id,s=t.type;if(r&&r.includes(c))return!0;if(null==r||!r.length){if(i&&i(t))return!0;if(o&&o.includes(s))return!0;if(a&&a===s)return!0}}return!1})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.disableAutoView||this.props.experience&&this.shouldRenderExperience()&&this.view()}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.experience,o=e.disableAutoView;return n&&this.shouldRenderExperience()?"function"==typeof t?t(u({experience:n,complete:this.complete,dismiss:this.dismiss},o?{view:this.view}:Object.freeze({}))):r.Children.only(t):null}}])&&h(t.prototype,n),o&&h(t,o),a}(r.Component);function P(e){var t=(0,o.useSelector)((function(t){var n=t.experiences;return e.experience||(e.placementId?n[e.placementId]:void 0)})),n=(0,o.useDispatch)();return(0,c.jsx)(w,u(u({},e),{},{experience:t,completeExperience:function(e,t,r,o){return n((0,i.CK)(e,t,r,!1,{},o))},completeExperienceObject:function(e,t){return n((0,a.Tl)(e,t))},dismissExperience:function(e,t,r,o){return n((0,i.Qu)(e,t,r,void 0,o))},dismissExperienceObject:function(e){return n((0,a.CF)(e))},viewExperience:function(e,t,r){return n((0,i.UT)(e,t,!1,!1,void 0,r))},viewExperienceObject:function(e){return n((0,a.dy)(e))}}))}g(w,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},333312:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(76911),o=n(121093),i=n(570470),a=n(908390),c=n(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=p(i);function i(){var e;l(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=o.call.apply(o,[this].concat(n))),"onScroll",(function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout((function(){t(),e.dismissed=!0,e.timer=void 0}),3e3))})),v(h(e),"dismissed",!1),e}return t=i,(n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.text,r=e.thumbnails,o=e.idealDirection,i=r.slice(-3);return(0,c.jsx)(a.J2,{anchor:t,color:"white",idealDirection:o,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,c.jsxs)(a.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,c.jsx)(a.xv,{color:"default",weight:"bold",children:n})}),(0,c.jsx)(a.xu,{display:"flex",marginEnd:-2,paddingX:2,children:i.map((function(e){return(0,c.jsx)(a.xu,{height:60,width:50,paddingX:1,children:(0,c.jsx)(a.zd,{rounding:2,height:60,children:(0,c.jsx)(a.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)}))})]})})}}])&&u(t.prototype,n),r&&u(t,r),i}(r.PureComponent);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(u,e);var t,n,s,l=S(u);function u(){var e;w(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return A(j(e=l.call.apply(l,[this].concat(n))),"dismissRef",(0,r.createRef)()),A(j(e),"state",{paused:!1}),A(j(e),"dismissCb",(function(){var t,n;null===(t=(n=e.dismissRef).current)||void 0===t||t.call(n)})),A(j(e),"handlePulsarClick",(function(t,n){t?e.setState({paused:!0}):n()})),e}return t=u,(n=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return!(null==e)};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,s=t.customWrapper,l=t.experienceIds,u=t.boardTextOverride,d=t.flyoutSize,p=t.fontSize,f=t.hasFullWidthButton,h=void 0===f||f,y=t.idealDirection,v=t.useMasonryFlyout,_=t.noClickToDismiss,w=t.onClickComplete,P=t.onClickDismiss,O=t.placementId,S=t.positionRelativeToAnchor,x=t.shouldTimeoutDismiss,j=t.showCaret,E=t.textAlign,A=t.textOverflow,T=t.textOverrideFn,I=t.textWeight,k=t.customizedComplete,R=t.pulsarZIndex,C=t.advertiserId,D=s||function(e){var t=e.children;return v?(0,c.jsx)(a.mh,{children:t}):t},N="blue";return(0,c.jsx)(o.Z,{eligibleIds:l,placementId:O,eligibleTypes:[8],targeting:C?{advertiserId:parseInt(C,10)}:null,children:function(t){var o=t.complete,s=t.dismiss,l=t.experience,f=l.display_data,O=f.scroll_to_dismiss,C=f.scroll_to_dismiss_delay_in_seconds,L=void 0===C?0:C,M=g(f,b),B=O&&n,Z=function(){z(),setTimeout(s,1e3*L)},z=function(){B&&(window.removeEventListener("scroll",Z),window.removeEventListener("touchmove",Z))},U=function(){z(),o()};if(B&&(window.addEventListener("scroll",Z),window.addEventListener("touchmove",Z)),e.setDefaultPulsarTooltip(M),!M.has_pulsar&&!M.has_tooltip)return U(),null;x&&M.disappearTime&&M.disappearTime>0&&(e.timer=setTimeout((function(){return Z(),null}),M.disappearTime));var F=501041===l.experience_id||505086===l.experience_id;return M.has_tooltip&&!M.has_pulsar&&(e.dismissRef.current=Z,null==n||n.addEventListener("click",e.dismissCb)),(0,c.jsxs)(r.Fragment,{children:[M.has_pulsar&&(0,c.jsx)(i.Z,{anchor:n,leftOverride:F?342:void 0,onTouch:function(){return e.handlePulsarClick(M.has_tooltip,U)},paused:e.state.paused,topOverride:F?-5:void 0,zIndex:R&&R.index()}),M.has_tooltip&&(!M.has_pulsar||e.state.paused)&&(M.thumbnail_urls?(0,c.jsx)(m,{anchor:n,dismiss:Z,idealDirection:y||"down",text:M.text,thumbnails:M.thumbnail_urls}):(0,c.jsx)(D,{children:(0,c.jsx)(a.J2,{anchor:n,color:N,idealDirection:y||"down",onDismiss:_?function(){}:Z,positionRelativeToAnchor:!v&&S,shouldFocus:!1,showCaret:j,size:d,children:(0,c.jsxs)(a.xu,{column:12,padding:3,children:[(0,c.jsxs)(a.xv,{align:"right"===E?"end":E,color:"inverse",overflow:A,size:p,weight:I||"bold",children:[e.getText(M,u,T),M.secondary_cta_link&&(0,c.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(a.xv,{size:p,weight:"bold",color:"inverse",children:(0,c.jsx)(a.rU,{display:"inlineBlock",target:"blank",href:M.secondary_cta_link.url,underline:"hover",children:M.secondary_cta_link.text})})})]}),M.sub_text&&(0,c.jsx)(a.xu,{paddingY:2,children:(0,c.jsx)(a.xv,{color:"inverse",size:p,children:M.sub_text})}),(M.dismiss_button_text||M.complete_button_text)&&(0,c.jsxs)(a.xu,{display:"flex",alignItems:"center",marginTop:2,children:[M.dismiss_button_text&&(0,c.jsx)(a.xu,{marginEnd:1,column:6,children:(0,c.jsx)(a.zx,{fullWidth:h,color:N,onClick:function(){P&&P(),Z()},size:"md",text:M.dismiss_button_text})}),M.complete_button_text&&(0,c.jsx)(a.xu,{column:M.dismiss_button_text?6:12,children:k?(0,c.jsx)(a.iP,{fullHeight:!0,onTap:function(){U(),w&&w()},rounding:2,children:(0,c.jsx)(a.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,c.jsx)(a.xv,{color:"shopping",weight:"bold",children:M.complete_button_text})})}):(0,c.jsx)(a.kC,{justifyContent:"center",children:(0,c.jsx)(a.zx,{fullWidth:h,color:"white",href:M.complete_button_cta_url,role:M.complete_button_cta_url?"link":"button",size:"md",target:M.complete_button_cta_url?"blank":null,text:M.complete_button_text,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),U(),w&&w()}})})})]})]})})}))]})}})}}])&&P(t.prototype,n),s&&P(t,s),u}(r.Component);A(T,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:function(e,t,n){"use strict";n.d(t,{CK:function(){return m},N:function(){return P},Qu:function(){return _},UT:function(){return v},YX:function(){return w},d9:function(){return b},fO:function(){return f},kd:function(){return g},pz:function(){return h}});var r=n(214494),o=n(764990),i=n(172071),a=n(957191);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p,f=function(e,t){return function(n){var o=t?{extra_context:e,targeting:t}:{extra_context:e};return r.Z.create("UserExperiencePlatformResource",o).callGet().then((function(e){return e.resource_response?n((0,a.OD)(e.resource_response.data)):void 0}))}},h=function(e,t,n,i){return function(c,s){if(t)return Promise.resolve();if(i&&(p=i),1===e.length){var l=e[0],u=s().experiences[l],d=(null==u?void 0:u.extraContext)||null;if(JSON.stringify(d)===JSON.stringify(n)||(0,o.E3)(u)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return r.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:i}).callGet().then((function(e){return e.resource_response?c((0,a.cL)(e.resource_response.data)):void 0}))}},y=function(e,t){return function(n,o,i){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;return function(u,d){var h,y=d(),v=y.experiences,m=y.experiencesMulti,_=null,b=!0;c||(_=(b=v[n]&&v[n].experience_id===o)?v[n]:Array.isArray(m[n])&&(null===(h=m[n])||void 0===h?void 0:h.find((function(e){return e.experience_id===o}))));if(_&&_.experience_id===o||c&&n&&o){var g=r.Z.create(e,{placed_experience_id:"".concat(n,"%3A").concat(o),extra_context:null!=s?s:{},targeting:l}),w=b?a.Yb:a.xW;switch(t){case"dismissed":return g.callDelete().then((function(){u(w(n,o,t)),u(f(void 0,p))}));case"completed":return g.callUpdate().then((function(){i||(u(w(n,o,t)),u(f(void 0,p)))}));case"viewed":return u(w(n,o,t)),g.callUpdate().then((function(){1000162===n&&u(f())}));case"completedWithoutHomefeed":return g.callUpdate().then((function(){i||u(w(n,o,t))}));default:return Promise.resolve()}}return Promise.resolve()}}},v=y("UserExperienceViewedResource","viewed"),m=y("UserExperienceCompletedResource","completed"),_=y("UserExperienceResource","dismissed"),b=y("UserExperienceCompletedResource","completedWithoutHomefeed"),g=function(e,t){return function(n,o){var a=o().experiences[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach((function(n){var o=u(n.split(":"),2)[1],c=t;a.metadata&&a.metadata[o]&&(c=s(s({},t),a.metadata[o])),r.Z.create("UserExperienceTriggerResource",{placed_experience_id:n.replace(":","%3A"),extra_context:c}).callUpdate().then((function(){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.Z.increment("".concat(e,".").concat(t),1,n)}("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:o})}))}))}},w=function(e){return function(t,n){return t(g(e)),n().experiences[e]}},P=function(e,t,n){return function(r){n&&(p=n),r(g(e,t)),t&&Object.keys(t).length>0&&r(h([e],!1,t,n))}}},242923:function(e,t,n){"use strict";n.d(t,{CF:function(){return c},Tl:function(){return a},dy:function(){return s}});var r=n(214494),o=n(332611),i=function(e,t){return function(n,i){return function(a){if(n&&n.id){var c=r.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then((function(){a((0,o.fO)())}));break;case"completed":c.callUpdate().then((function(){i||a((0,o.fO)())}));break;case"viewed":c.callUpdate()}}}}},a=i("UserExperienceCompletedResource","completed"),c=i("UserExperienceResource","dismissed"),s=i("UserExperienceViewedResource","viewed")},764990:function(e,t,n){"use strict";function r(e){return!!e&&0!==e.type}n.d(t,{A0:function(){return i},E3:function(){return r},MQ:function(){return o}});var o=function(e,t,n){var o=e[n];return t[n]&&r(o)?o:null};function i(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:function(e,t,n){"use strict";n.d(t,{$S:function(){return r},V$:function(){return o},_4:function(){return a},iY:function(){return c},mR:function(){return i}});var r="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",c="UPDATE_EXPERIENCE"},957191:function(e,t,n){"use strict";n.d(t,{NW:function(){return a},OD:function(){return s},Yb:function(){return c},cL:function(){return l},xW:function(){return i}});var r=n(214494),o=n(207737),i=function(e,t,n){return{type:o.V$,payload:{placementId:e,experienceId:t,status:n}}},a=function(e){return function(t){return r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((function(e){return e.resource_response?t((n=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:n}})):void 0;var n}))}},c=function(e,t,n){return{type:o.iY,payload:{placementId:e,experienceId:t,status:n}}},s=function(e){return{type:o._4,payload:{experiences:e}}},l=function(e){return{type:o.mR,payload:{experiences:e}}}},570470:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),o=n(908390),i=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=e.anchor,n=e.children,c=e.zIndex,s=e.leftOverride,l=e.topOverride,u=(0,r.useRef)(null),d=a((0,r.useState)(0),2),p=d[0],f=d[1],h=a((0,r.useState)(0),2),y=h[0],v=h[1],m=t.getBoundingClientRect(),_=m.height,b=m.width;(0,r.useEffect)((function(){var e=u.current;if(t&&e){var n=e.getBoundingClientRect(),r=n.height,o=n.width,i=function(e,t,n,r){return{horizontalOffset:-(r/2-t/2),verticalOffset:-(n/2-e/2)}}(_,b,r,o),a=i.horizontalOffset,c=i.verticalOffset;f(a),v(c)}}));var g=s||p,w=l||y;return(0,i.jsx)(o.xu,{position:"absolute",zIndex:c?new o.Ry(c):void 0,dangerouslySetInlineStyle:{__style:{left:g,top:w}},ref:u,children:n})}var l=function(e){var t=e.anchor,n=e.leftOverride,r=e.onTouch,a=e.onMouseEnter,c=e.paused,l=e.size,u=e.topOverride,d=e.zIndex;return t?(0,i.jsx)(s,{anchor:t,leftOverride:n,topOverride:u,zIndex:d,children:(0,i.jsx)(o.iP,{fullWidth:!1,onTap:function(e){var t=e.event;return r(t)},onMouseEnter:a,rounding:"circle",children:(0,i.jsx)(o.o3,{paused:c,size:l})})}):null}},402201:function(e,t){"use strict";t.Z=function(e){var t=(null==e?void 0:e.width)||580,n=(null==e?void 0:e.height)||400,r=[window.screen.width,window.screen.height],o=r[0],i=r[1];return["scrollbars=yes","resizable=yes","toolbar=no","location=yes","width=".concat(t),"height=".concat(n),"left=".concat(Math.round((o-t)/2)),"top=".concat(i>n?Math.round((i-n)/2):0)].join(",")}},116303:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),o=n(515198),i=function(e,t){var n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a(e){var t=e.accessibilityLabel,n=e.name,a=e.outline,c=e.size,s=e.src,l=e.verified;return(0,o.jsx)(r.qE,{accessibilityLabel:t,name:n,outline:a,size:c,src:i(s,n)?void 0:s,verified:l})}},121151:function(e,t,n){"use strict";n.d(t,{ZP:function(){return m},b7:function(){return c.b7},bN:function(){return y},p4:function(){return v}});var r=n(50286),o=n(908390),i=n(167678),a=n(515198),c=n(968121),s=["isOpen","mobileAccessibilityCloseIconLabel","mobileAllowScroll","mobileHideCloseIcon","mobileIsFullscreen","mobileIsSlideUp","type"],l=["allowClickAndDrag","allowMediaPlay","allowScroll","role","size"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,o=h(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var y=(0,i.ZP)({resolved:{},chunkName:function(){return"DesktopModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(51879).then(n.bind(n,373420))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 373420}}),v=(0,i.ZP)({resolved:{},chunkName:function(){return"MobileModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(72430).then(n.bind(n,430322))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 430322}});function m(e){var t=(0,r.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){e.isOpen,e.mobileAccessibilityCloseIconLabel,e.mobileAllowScroll,e.mobileHideCloseIcon,e.mobileIsFullscreen,e.mobileIsSlideUp,e.type;var o=f(e,s);return(0,a.jsx)(y,d({},o))}e.allowClickAndDrag,e.allowMediaPlay,e.allowScroll,e.role,e.size;var i=f(e,l);return(0,a.jsx)(v,d(d({},i),{},{isOpen:n}))}},968121:function(e,t,n){"use strict";n.d(t,{JN:function(){return h},Vf:function(){return y},ZM:function(){return u},b7:function(){return l},bf:function(){return f},i_:function(){return d},ju:function(){return v}});var r=n(379764),o=n(643010),i=n(908390);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=new i.Ry(1e3),u=new i.H3([r.Z]),d=12,p={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},f=function(){return{__style:p.mask.baseStyles}},h=function(e){var t,n=e.isFullscreen,r=e.isTablet,o=e.modalStyle,i=e.type,a=p.modal.fullscreenStyles;return t=n?a:r?p.modal.tabletStyles:"signup"===i?p.modal.nonTabletSignUpStyles:c(c({},p.modal.baseStyles),{},{borderRadius:"32px 32px 0 0"}),{__style:o||t}},y=function(e){var t=e.isFullscreen,n=e.isTablet,r=e.isShowing,o=e.type,i=p.modal.baseStylesSliding,a=r?"translateY(0)":"translateY(100vh)";return i.height=t?"100vh":"",n&&"related_interests_modal"===o&&(i=c(c({},i),p.modal.tabletNarrowStyle),a=r?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:c(c({},i),{transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:a})}},v=function(e){return e?p.RTLheadingOffset:p.headingOffset}},499128:function(e,t,n){"use strict";n.d(t,{UZ:function(){return d},Vg:function(){return u},ZP:function(){return p}});var r=n(76911),o=n(829407),i=n(50286),a=n(908390),c=n(515198);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=200,d=function(e){var t=e.deviceType,n=e.hiding,r=e.visible,o="desktop"===t,i=0,a=o?"translateY(200px)":"translateY(-200px)",c="opacity 0.1s ease-in-out",s="hidden";return r&&!n&&(i=1,a="translateY(0)",c="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),r&&n&&(a="scale(1.1)",c="opacity transform ".concat(.2,"s")),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:o?10:0,transform:a,transition:c,visibility:s}};function p(e){var t,n=e._dangerouslySetPrimaryAction,l=e.text,p=e.primaryAction,f=e.thumbnailShape,h=e.variant,y=e.dataTestId,v=e.duration,m=void 0===v?2e3:v,_=e.onHide,b=e.href,g=e.onClick,w=e.openNewPage,P=e.iconThumbnail,O=e.imageUrl,S=(0,i.ZP)(),x=s((0,r.useState)(!1),2),j=x[0],E=x[1],A=s((0,r.useState)(!1),2),T=A[0],I=A[1],k=(0,r.useRef)(),R=function(){E(!0),k.current=setTimeout(_,u)},C=function(){k.current=setTimeout(R,m)},D=function(){k.current&&clearTimeout(k.current)};(0,o.Z)((function(){return setTimeout((function(){return I(!0)}),100),C(),D})),P?t=P:O&&(t=(0,c.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,c.jsx)(a.Ee,{alt:"string"==typeof l?l:"".concat(l[0]," ").concat(l[1]),fit:"cover",naturalHeight:1,naturalWidth:1,src:O})}));var N=(0,c.jsx)(a.FN,{_dangerouslySetPrimaryAction:n,primaryAction:p,text:l,thumbnail:t,thumbnailShape:f,variant:h}),L=d({deviceType:S,hiding:j,visible:T}),M=L.marginTop,B=L.opacity,Z=L.pointerEvents,z=L.position,U=L.transform,F=L.transition,V=L.visibility;return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:U,transition:F,visibility:V,pointerEvents:Z}},"data-test-id":null!=y?y:"toast",onMouseEnter:D,onMouseLeave:C,opacity:B,position:z,marginTop:M,display:"flex",children:b?(0,c.jsx)(a.iP,{role:"link",href:b,onTap:function(e){var t=e.event;return null==g?void 0:g(t)},target:w?"blank":null,rounding:"pill",children:N}):N})}},572752:function(e,t,n){"use strict";function r(e){var t=e.userAgent.isMobile?"mobile":"desktop";return"".concat(t,".").concat(e.country,".").concat(e.userAgent.platform,".").concat(e.userAgent.browserName).replace(/ /g,"_")}n.d(t,{Z:function(){return r}})},444445:function(e,t,n){"use strict";n.d(t,{$H:function(){return a},$q:function(){return m},D6:function(){return s},KN:function(){return _},Lo:function(){return o},P2:function(){return h},ZZ:function(){return u},g5:function(){return d},jC:function(){return c},lX:function(){return f},nW:function(){return p},oX:function(){return y},qG:function(){return v},tG:function(){return i},yF:function(){return r},yc:function(){return l}});var r=236,o=2*r/3,i=175,a=24,c=4,s=2,l=2,u=14,d=16,p=12,f=16,h=24,y=16,v=-1,m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?f:p;return e?n:h},_=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u,i=e+o,a=t*i,c=(n+1)*i-1,s="\n@media (min-width: ".concat(a,"px) and (max-width: ").concat(c,"px) {\n  ").concat(r,"\n}\n");return s}},694379:function(e,t,n){"use strict";var r=n(892819),o=n(780280),i=n(515198);t.Z=function(e){var t=e.currency,n=e.maximumFractionDigits,a=e.minimumFractionDigits,c=e.shortform,s=e.shortformMaximumFractionDigits,l=e.formatStyle,u=e.uplimit,d=e.value,p=(0,r.Z)();return(0,i.jsx)(o.LC,{children:function(e){return p(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:n,minimum_fraction_digits:a,shortform:c,shortform_maximum_fraction_digits:s,style:l,uplimit:u})}})}},898781:function(e,t,n){"use strict";n.d(t,{oz:function(){return i},q6:function(){return o}});var r=(0,n(425288).Z)("i18n"),o=r.Provider,i=r.Consumer,a=r.useHook;t.ZP=a},12610:function(e,t,n){"use strict";var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:function(){return v},LU:function(){return m},ZP:function(){return _}});var c=1e6,s=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,l={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},u={},d={background:"#FF8A8A",transform:"scale(.98)"},p=(a(r={init:function(e){return{transform:"scale(".concat(u[e]?.8:.99,")"),transition:"transform .2s ease-in-out",background:"#8E8E8E"}}},l.enter,{background:"#A0DCC8",transform:"scale(.99)"}),a(r,l.exit,d),a(r,l.stopped,d),a(r,l.paused,d),a(r,l.resumed,{background:"#0FA573",transform:"scale(.99)"}),r),f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"setMutationObserver",(function(e){return n.mutationObserver=e,n})),a(this,"startMutationObserver",(function(e){n.mutationObserver&&n.mutationObserver.observe(n.node,e)})),a(this,"stopMutationObserver",(function(){n.mutationObserver&&n.mutationObserver.disconnect()})),a(this,"handleIntersectionChange",(function(e){var t=e.intersectionRatio>0||e.isIntersecting;if(t&&!n.inViewport){var r=Date.now();n.startTime=r,n._debug(l.enter,{startTime:r,node:n.node}),n.enterCallbacks.forEach((function(e){return e()}))}else!t&&n.inViewport&&(n._debug(l.exit,!0),n.exitCallbacks.forEach((function(e){return e(n.toJSON())})));n.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=t,this.startTime=0,this.debugId=""}var t,n,r;return t=e,(n=[{key:"onEnterViewport",value:function(e){return this.enterCallbacks.push(e),this}},{key:"onExitViewport",value:function(e){return this.exitCallbacks.push(e),this}},{key:"setDebugId",value:function(e){return this.debugId=e,s&&Object.assign(this.node.style,p.init(e)),this}},{key:"pause",value:function(){var e=this;return this.inViewport&&(this._debug(l.paused,!0),this.exitCallbacks.forEach((function(t){return t(e.toJSON())}))),this}},{key:"resume",value:function(){if(this.inViewport){var e=Date.now();this._debug(l.resumed,{startTime:e}),this.startTime=e}return this}},{key:"stop",value:function(e){var t=this;return this.inViewport&&(this._debug(l.stopped,!0),this.exitCallbacks.forEach((function(n){return n(t.toJSON(e))}))),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{startTime:this.startTime*c,endTime:Date.now()*c,forcedExit:e}}},{key:"toDebugJSON",value:function(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:"".concat((Date.now()-this.startTime)/1e3," seconds")}}},{key:"_debug",value:function(e,t){if(s)switch(window.console.log(" ".concat(e," -- ").concat(this.debugId)),!0===t&&window.console.log(this.toDebugJSON()),"object"===o(t)&&window.console.log(t),p[e]&&Object.assign(this.node.style,p[e]),e){case l.flushed:case l.paused:case l.exit:u[this.debugId]=!0}}}])&&i(t.prototype,n),r&&i(t,r),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=!0,m=!1,_=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"_delegateChange",(function(e){e.forEach((function(e){var n=t.activeImpressions.get(e.target);n&&n.handleIntersectionChange(e)}))})),y(this,"_handleMutations",(function(e,n){var r=t.mutationObservers.get(n);r&&r.offsetHeight<1&&r&&t.stop(r,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=m,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}var t,n,r;return t=e,(n=[{key:"setExperimentStatus",value:function(e){this.inExperiment!==e&&(this.inExperiment=e)}},{key:"stop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}},{key:"start",value:function(e){var t=this,n=this.activeImpressions.get(e);return n||(n=new f(e),this.activeImpressions.set(e,n),this.observer.observe(e),n.setMutationObserver(new window.MutationObserver((function(e,n){return t._handleMutations(e,n)}))),this.mutationObservers.set(n.mutationObserver,e),n.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),n}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;this.paused||(Array.from(this.activeImpressions.values()).forEach((function(e){return e.pause()})),this.paused=!0,this.pausePriority===m&&(this.pausePriority=e))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;e===m&&this.pausePriority===v||this.paused&&(Array.from(this.activeImpressions.values()).forEach((function(e){return e.resume()})),this.paused=!1,this.pausePriority=m)}},{key:"addObstruction",value:function(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}},{key:"removeObstruction",value:function(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}},{key:"updateObstructions",value:function(){this._calculateRootMargins()}},{key:"_calculateRootMargins",value:function(){var e=this,t=Array.from(this.topObstructions).reduce((function(e,t){var n=t.getBoundingClientRect().bottom;return n>e?n:e}),0),n=window.innerHeight-Array.from(this.bottomObstructions).reduce((function(e,t){var n=t.getBoundingClientRect().top;return n<e?n:e}),window.innerHeight);if(t!==this.topHeight||n!==this.bottomHeight){var r={rootMargin:"".concat(-t,"px 0px ").concat(-n,"px")};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach((function(t){return e.observer.observe(t.node)})),this.topHeight=t,this.bottomHeight=n}}}])&&h(t.prototype,n),r&&h(t,r),e}()},564194:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(76911),o=n(945790),i=n(124580),a=n(407043),c=n(773285),s=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,a,c=h(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),_(v(t=c.call(this,e)),"trackImpression",(function(){try{t.node=(0,o.findDOMNode)(v(t)),t.node instanceof HTMLElement&&t.impressionsFramework.start(t.node).onExitViewport(t.logImpression).setDebugId(t.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),_(v(t),"logImpression",(function(e){var n,r,o,i=t.props,a=i.carouselData,c=i.closeupImpressionType,s=i.closeupNavigationType,l=i.componentType,u=i.contextLogData,p=i.elementType,f=i.impressionAuxFields,h=i.impressionType,y=i.loggingId,v=i.objectIdStr,m=i.slotIndex,g=i.trackCarousel,w=i.viewData,P=i.viewParameter,O=i.viewType,S=i.logContextEvent,x=i.logImpDimensions,j=b[h],E=j.idType,A=e.forcedExit&&"removed"===e.forcedExit?0:void 0,T=d(d((_(n={endTime:e.endTime},E,y),_(n,"slotIndex",m),_(n,"time",e.startTime),_(n,"renderDuration",e.endTime-e.startTime),_(n,"type",c),n),f),{},{forcedExit:A});"Pin"===h&&x&&(T=d(d({},T),{},{pinCellWidth:t.node.offsetWidth,pinCellHeight:t.node.offsetHeight,windowWidth:null===(r=window)||void 0===r?void 0:r.innerWidth,windowHeight:null===(o=window)||void 0===o?void 0:o.innerHeight}));if(g||S({event_type:j.eventType,component:l,element:p,event_data:_({},j.impressionType,"Story"===h?T:[T]),object_id_str:v,view_type:O,view_data:w||{},view_parameter:P,aux_data:d(d({},u),{},{closeup_navigation_type:s})}),a&&g){var I=a.carousel_slots,k=a.index,R=void 0===k?0:k,C=a.id;S({event_type:7352,component:l,event_data:{pinCarouselSlotImpressions:[d(d({},T),{},{carouselDataId:Number(C),carouselSlotId:(null==I?void 0:I[R])&&Number(I[R].id),slotIndex:R})]},object_id_str:v,view_type:O,view_data:w||{},view_parameter:P,aux_data:d({},u)})}})),t.impressionsFramework=e.impressionsFramework||i.Z,t}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}},{key:"componentDidUpdate",value:function(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}},{key:"componentWillUnmount",value:function(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}])&&p(t.prototype,n),a&&p(t,a),s}(r.Component);function w(e){var t=(0,a.v)().logContextEvent,n=(0,(0,c.F)().checkExperiment)("web_mweb_pin_impression_add_width_height").anyEnabled;return(0,s.jsx)(g,d(d({},e),{},{logContextEvent:t,logImpDimensions:n}))}},124580:function(e,t,n){"use strict";var r=n(12610);t.Z=new r.ZP},349700:function(e,t,n){"use strict";function r(e,t,n){return e.split(n).map((function(e){if(e.match(n)){var r=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,r))return t[r]}return e}))}n.d(t,{Wc:function(){return a},bF:function(){return s},nk:function(){return i}});var o=/(\{\{\s*\w+\s*\}\})/g;function i(e,t){return r(e,t,o)}function a(e,t){return r(e,t,o).join("")}var c=/(\{\s*\w+\s*\})/g;function s(e,t){return r(e,t,c)}},251819:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return null==e||(Array.isArray(e)||"string"==typeof e?0===e.length:"function"==typeof e||("symbol"===i(e)||("object"===i(e)?function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Object.prototype)}(e)?0===Object.keys(e).reduce((function(t,n){return Object.prototype.hasOwnProperty.call(e,n)&&"constructor"!==n?[].concat(r(t),[n]):t}),[]).length:e instanceof Map||e instanceof Set?0===e.size:!Object.keys(e).length:"boolean"==typeof e||"number"==typeof e)))}n.d(t,{Z:function(){return a}})},329734:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return o}});var r=n(506979);function o(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function i(){var e=(0,r.useSelector)((function(e){return e.experiences}));return!!e&&o(e)}},926275:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},411938:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;var o=new Date,i=n?new Date(n):o;return i.setDate(i.getDate()+r),(new Date).getTime()<i.getTime()}},755742:function(e,t){"use strict";t.Z={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},48714:function(e,t,n){"use strict";n.d(t,{nS:function(){return x},iw:function(){return E},gV:function(){return O},G3:function(){return A},lI:function(){return T},Gj:function(){return j},Jd:function(){return P},$3:function(){return S}});var r=n(231486),o=n(56641),i=n(768559),a=n(250059),c=function(e){return"string"!=typeof e&&e?e.state:null},s=n(643913),l=n(547239),u=n(508847),d=n(102500),p=n(43760),f=n(579164),h=n(333155),y=n(397066),v=n(623568),m=n(226198);function _(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){window&&window.focus(),document.activeElement&&document.activeElement.blur()},O=function(e){var t=e.isOffsiteUrl,n=e.event;return!t&&(n.metaKey||n.ctrlKey)},S=function(e){var t=e.location,n=e.pin,r=n.id,o=n.is_downstream_promotion,i=n.promoter,a=e.surface;return!(0,v.jL)(o,i)&&function(e){var t=e.location,n=e.pinId,r=e.surface,o=Boolean(r),i=h.ZF.includes(r),a=t.pathname.includes(n);return o&&!i||a}({location:t,pinId:r,surface:a})},x=function(e){var t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";r.t8((0,m.GS)(t),n);var o="".concat(t,"-").concat(n),i=e.queryParams,a={token:o,url:e.url};if(!i){var c=e.pinId,l=e.csrId,u=e.clientTrackingParams,d=e.auxData;a=g(g({},a),{},{pin:null!=c?c:void 0,csr:l&&!c?l:void 0,client_tracking_params:u,aux_data:d?JSON.stringify(d):void 0})}i&&(a=g(g({},a),i));var p=(0,s.Z)(a);return"/offsite/?".concat(p)},j=function(e){(0,o.Z)(x(e),!0)},E=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,o,a,c,s,l,u,p,f,h,y,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.isMounted,a=t.pin,c=t.location,s=t.spamCheckCallback,l=t.href,e.next=3,(0,d.Z)({check_only:!0,client_tracking_params:(0,i.Z)({boardUrl:null==a||null===(n=a.board)||void 0===n?void 0:n.url,callToCreateSourcePinId:null==a?void 0:a.call_to_create_source_pin_id,location:c,pinId:null==a?void 0:a.id,pinnerUserName:null==a||null===(r=a.pinner)||void 0===r?void 0:r.username,storyPinDataId:null==a?void 0:a.story_pin_data_id,trackingParams:null==a?void 0:a.tracking_params,trackingParamsMap:null==a?void 0:a.tracking_params_map}),pin_id:null==a?void 0:a.id,url:l}).callGet({showError:!1});case 3:!(u=e.sent).resource_response.error&&o&&(p=u.resource_response.data||{},f=p.message,h=p.redirect_status,y=p.url,v=["blocked","suspicious","porn"].includes(h),s({blocked:v,message:f,redirectStatus:h,sanitized_url:y}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,c,"next",e)}function c(e){_(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),A=function(e){var t=e.event,n=e.onHistoryChange,r=e.href,i=e.history,s=e.target,d=(0,a.Z)(r),p=c(r),h=(0,l.Z)(d);h===f.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===s?(0,o.Z)(d,"blank"===s):i&&h===f.Z.SAME_ORIGIN&&(i.push((0,u.Z)({url:d}),null!=p?p:{}),n&&n({event:t}))},T=function(e,t,n){var r=e.href,o=e.pinId,a=e.pin,c=e.location,s=e.auxData,l=e.spamCheck,u=e.queryParams;"undefined"!=typeof window&&window.Windows?(0,p.Z)({url:r,pinId:o,pin:a,location:c,auxData:s}):a?function(e,t,n){var r=e.spamCheck,o=e.auxData,a=e.location,c=e.pin,s=e.pinId,l=e.href;if(null!=r&&r.blocked)null==n||n(r);else{var u,d;if((0,y.b)({href:l,pinId:s,pin:c,location:a,auxData:o},t))return;j({url:l,pinId:s,csrId:null,clientTrackingParams:(0,i.Z)({boardUrl:null===(u=c.board)||void 0===u?void 0:u.url,callToCreateSourcePinId:c.call_to_create_source_pin_id,location:a,pinId:c.id,pinnerUserName:null===(d=c.pinner)||void 0===d?void 0:d.username,storyPinDataId:c.story_pin_data_id,trackingParams:c.tracking_params,trackingParamsMap:c.tracking_params_map}),auxData:o})}}({spamCheck:l,auxData:s,location:c,pin:a,pinId:o,href:r},t,n):j({url:r,pinId:o,queryParams:u})}},102500:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(214494);function o(e){return r.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:function(e,t,n){"use strict";n.d(t,{Z:function(){return h},p:function(){return y}});var r=n(76911),o=n(250059),i=n(149230),a=n(407043),c=n(108234),s=n(48714),l=n(609500),u=["children"];function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t,n=e.externalData,u=e.href,d=e.onHistoryChange,f=e.target,h=(0,a.v)().logContextEvent,y=p((0,r.useState)(null),2),v=y[0],m=y[1],_=p((0,r.useState)(!1),2),b=_[0],g=_[1],w=(0,l.useHistory)(),P=(0,l.useLocation)(),O=(0,i.Z)({url:(0,o.Z)(u)}),S=(null!==(t=(0,c.s)())&&void 0!==t?t:{}).showWarning;return(0,r.useEffect)((function(){return g(!0),function(){g(!1)}}),[]),(0,r.useEffect)((function(){O&&null!=n&&n.pin&&null===v&&b&&(0,s.$3)({location:P,pin:n.pin,surface:n.surface})&&(0,s.iw)({isMounted:b,pin:n.pin,location:P,spamCheckCallback:function(e){return m(e)},href:(0,o.Z)(u)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,u,O,b,P,v]),function(e){var t,r=e.event;(0,s.gV)({isOffsiteUrl:O,event:r})||(r.preventDefault(),u&&(O||null!=n&&n.dangerouslyForceOffsiteUrl?(0,s.lI)({auxData:null==n?void 0:n.auxData,href:(0,o.Z)(u),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:P,spamCheck:v},h,S):(0,s.G3)({event:r,href:u,history:w,onHistoryChange:d,target:"blank"===f?"blank":null})))}}var y=function(e){return(0,e.children)({handleClick:h(d(e,u))})}},713930:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(172071);function o(e,t){return new Promise((function(n,o){if(document.querySelector('script[src="'.concat(e,'"]'))){var i=0;if("FACEBOOK"===t)if(window.FB)n();else var a=setInterval((function(){window.FB||20===i?(clearInterval(a),n()):(i+=1,r.Z.increment("mweb.loadScript.facebook.tries_".concat(i),.01))}),100);else if("GSI"===t)if(window.google)n();else var c=setInterval((function(){window.google||20===i?(clearInterval(c),n()):(i+=1,r.Z.increment("mweb.loadScript.gsi.tries_".concat(i),.01))}),100);else n()}else{var s=document.createElement("script");s.src=e,s.async=!0,s.addEventListener("load",(function(){return n()})),s.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(s)}}))}},53987:function(e,t,n){"use strict";n.d(t,{wy:function(){return N},Fw:function(){return ne},ey:function(){return ee},dt:function(){return _},bo:function(){return q},oF:function(){return ae},bW:function(){return m},AX:function(){return p},Fy:function(){return d},XE:function(){return u},am:function(){return a},pD:function(){return f},OJ:function(){return s},LO:function(){return ye},Gl:function(){return se},Y8:function(){return P},lY:function(){return g},dK:function(){return w},PY:function(){return S},ah:function(){return O},Ni:function(){return b},pV:function(){return L},L6:function(){return D},bb:function(){return _e},b0:function(){return v},jC:function(){return K},O7:function(){return le},LM:function(){return Y},OK:function(){return R},mP:function(){return x},C$:function(){return j},dr:function(){return Z},gT:function(){return B},Fr:function(){return Q},Xn:function(){return E},l4:function(){return C},b_:function(){return ie},J:function(){return c},dZ:function(){return l},FO:function(){return I},re:function(){return T},RU:function(){return ue},Ui:function(){return h},KY:function(){return y},fY:function(){return te},uM:function(){return J},x7:function(){return re},rk:function(){return ve},cD:function(){return X},dW:function(){return me},Pu:function(){return ce},En:function(){return M},ej:function(){return fe},OX:function(){return V},f1:function(){return F},E0:function(){return W},gf:function(){return k},mY:function(){return de},kY:function(){return he},cY:function(){return oe},$Y:function(){return H},Zz:function(){return A},$V:function(){return G},j8:function(){return $},Q0:function(){return z},tZ:function(){return U},YW:function(){return pe}});var r=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),o=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/reports-and-violations","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"],i=n(609500),a=function(e){return r.test(e.pathname)},c=function(e,t){var n=e.pathname;return a(e)&&n.match(t||"?")},s=function(e){var t=e.pathname;return!!(0,i.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},l=function(e,t){var n=e.pathname;return s(e)&&n.match(t||"?")},u=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0})},d=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0})},p=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0})},f=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0})},h=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0})},y=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0})},v=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0})},m=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0})},_=function(e){return e.pathname.startsWith("/age-appeal")},b=function(e){return e.pathname.startsWith("/business/")},g=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/dashboard",exact:!0})},w=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/hierarchy",exact:!0})},P=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/asset-groups",exact:!0})},O=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/members",exact:!0})},S=function(e){return e.pathname.startsWith("/business/invite/")},x=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0})},j=function(e){return"/"===e.pathname},E=function(e){return e.pathname.startsWith("/login")},A=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/today",exact:!0})},T=function(e){return e.pathname.startsWith("/password/reset")||!!(0,i.matchPath)(e.pathname,{path:"/pw/:username",exact:!0})},I=function(e){return e.pathname.startsWith("/secure/panic")},k=function(e){return e.pathname.startsWith("/signup")},R=function(e){return e.pathname.startsWith("/email/subscription")},C=function(e){return e.pathname.startsWith("/notifications/")},D=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id",exact:!0})},N=function(e){return D(e)&&void 0===e.state},L=function(e){return e.pathname.startsWith("/pin_redirect")},M=function(e){return e.pathname.startsWith("/search")},B=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/ideas",exact:!0})},Z=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0})},z=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0})},U=function(e){return e.pathname.startsWith("/videos")},F=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/shopping/",exact:!0})},V=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/shopping/:category/:id",exact:!0})},G=function(e){return e.pathname.startsWith("/topics")},H=function(e){return e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/")},W=function(e){return e.pathname.startsWith("/today/shop/")},q=function(e){return A(e)||H(e)||e.pathname.startsWith("/today/popular/")},Y=function(e){return/^\/discover\/article\/\S+\/?/i.test(e.pathname)},K=function(e){return e.pathname.startsWith("/pin/create/")},X=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!o.includes(e.pathname.replace(/\/$/,""))},$=function(e){return e.pathname.startsWith("/unauth-profile")},J=function(e){return e.pathname.startsWith("/pin/")},Q=function(e){return"#imgViewer"===e.hash},ee=function(e){return new RegExp("invite_code").test(e.search)},te=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/"))},ne=function(e){return ee(e)&&((te(e)?"pin":a(e)&&"board")||X(e)&&"profile")||null},re=function(e){return e.pathname.includes("/repin/x")},oe=function(e){return e.pathname.startsWith("/_/storyboard")},ie=function(e){return e.pathname.startsWith("/oauth")},ae=function(e){return e.pathname.startsWith("/app-factory-oauth")},ce=function(e){return e.pathname.includes("/scheduled-pin/")},se=function(e){return e.pathname.startsWith("/business/convert")},le=function(e){return e.pathname.startsWith("/pin-editor")},ue=function(e){return e.pathname.startsWith("/pin-builder")},de=function(e){return e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder")},pe=function(e){return e.pathname.startsWith("/advertiser/quick-promote")},fe=function(e){return e.pathname.startsWith("/settings")},he=function(e){return e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite")},ye=function(e){return void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/")},ve=function(e){return void 0!==e.pathname&&e.pathname.startsWith("/tv/studio")},me=function(e){return void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/")},_e=function(e){return void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/")}},620707:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if("object"===r(e)&&"object"===r(t)){var n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((function(n){return e[n]===t[n]}))}return e===t}n.d(t,{Ak:function(){return o},_Y:function(){return i},qe:function(){return s},xZ:function(){return c}});var i=function(e,t){return e.length===t.length&&e.every((function(e,n){return o(e,t[n])}))},a=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return function(n){var r=[];return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var c=this,s=r.find((function(e){return e.context===c&&t(e.args,i)}));if(s)return s.result;var l={context:c,args:i,result:n.apply(this,i)};return r.push(l),e&&r.length>e&&r.shift(),l.result}}},s=c(1);c()},914671:function(e,t,n){"use strict";var r=n(594881);t.Z={windowIsInFocus:!0,initFocus:function(){"undefined"!=typeof window&&(window.addEventListener("focus",(function(){this.windowIsInFocus=!0,(0,r.Z)()})),window.addEventListener("blur",(function(){this.windowIsInFocus=!1})))}}},567450:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}var t,o,i;return t=e,(o=[{key:"setExperiment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=e}},{key:"onSessionResume",value:function(e){return this.onResumeListeners.push(e),this}},{key:"onSessionPause",value:function(e){return this.onPauseListeners.push(e),this}},{key:"removeResumeListener",value:function(e){this.onResumeListeners.filter((function(t){return t!==e}))}},{key:"removePauseListener",value:function(e){this.onPauseListeners=this.onPauseListeners.filter((function(t){return t!==e}))}},{key:"getAppState",value:function(){return this.windowInFocus?0:void 0}}])&&n(t.prototype,o),i&&n(t,i),e}()),i=function(e){if(e.isHidden){var t=e.reason;o.windowInFocus=!1,o.onPauseListeners.forEach((function(e){return e(t)}))}else o.windowInFocus=!0,o.onResumeListeners.forEach((function(e){return e()}))};setTimeout((function(){window.addEventListener("beforeunload",(function(){return i({isHidden:!0,reason:"beforeunload"})})),window.addEventListener("focus",(function(){return i({isHidden:!1})})),window.addEventListener("blur",(function(){return i({isHidden:!0,reason:"blur"})})),window.addEventListener("pageshow",(function(){return i({isHidden:!1})})),window.addEventListener("pagehide",(function(){return i({isHidden:!0,reason:"pagehide"})})),void 0!==document.hidden?document.addEventListener("visibilitychange",(function(){return i(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(function(){return i(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})}),!1)}),0),t.Z=o},539002:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(773285),o=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function i(e){var t=(0,r.F)().checkExperiment;t("sce_lightswitch_organic"),t("sce_lightswitch_monetized");var n=o[e];return function(){return t(n.organic).anyEnabled||t(n.monetized).anyEnabled}}},64446:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(605028);var o=n(341732),i=n(81226),a=n(898781),c=n(908390),s=n(515198);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},f={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function h(e){var t=e.backgroundColor,n=e.identifier,r=e.size,o="pine"===t?"#0FA573":"#fff",i="sm"===(void 0===r?"sm":r)?p:f;return(0,s.jsx)(c.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:u(u({},i),{},{backgroundColor:t?o:"rgba(255, 255, 255, 0.8)",color:"pine"===t?"#fff":"#111"})},"data-test-id":"PinTypeIdentifier",children:n})}function y(e){var t=e.pin,n=e.size,l=void 0===n?"sm":n,u=e.allowProductCarousel,d=e.allowShoppingPriceIndicator,p=e.shoppingLabelColor,f=(0,a.ZP)(),y=(0,r.Z)(t);if(y.isGif)return h({identifier:"GIF",size:l});if(y.isStoryPin){var v=t.story_pin_data||{},m=v.page_count,_=void 0===m?0:m,b=v.total_video_duration,g=void 0===b?0:b,w=_.toString();return h(g>0?{identifier:w=(0,i.Z)(g),size:l}:{identifier:(0,s.jsxs)(c.kC,{alignItems:"center",justifyContent:"between",children:[(0,s.jsx)(c.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,s.jsx)(c.JO,{accessibilityLabel:f._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:"idea-pin",color:"default",size:"sm"===l?12:16})}),(0,s.jsx)(c.xv,{inline:!0,size:"100",weight:"bold",children:w})]}),size:l})}if(y.isVideo){var P=t.videos,O=(P&&P.video_list&&P.video_list[Object.keys(P.video_list)[0]]||{}).duration,S=void 0===O?0:O;return h({identifier:(0,i.Z)(S),size:l})}if(y.isProduct){var x=t.rich_summary&&t.rich_summary.products&&t.rich_summary.products[0]&&t.rich_summary.products[0].offer_summary;if(d){var j=x&&(x.price||x.max_price);return j?h({identifier:j,size:l}):null}if(p){var E=function(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}(t)[0];return E?h({identifier:E,backgroundColor:p,size:l}):null}return null}if(u){var A=t.product_pin_data&&t.product_pin_data.items&&t.product_pin_data.items[0],T=A&&(0,o.Z)(t.images,A.additional_images,t.carousel_data&&t.carousel_data.index)||{},I=T.carousel_slots,k=void 0===I?[]:I,R=T.index;return h({identifier:"".concat((void 0===R?0:R)+1,"/").concat(k.length),size:l})}if(y.isCarousel){var C=t.carousel_data||{},D=C.carousel_slots,N=void 0===D?[]:D,L=C.index;return h({identifier:"".concat((void 0===L?0:L)+1,"/").concat(N.length),size:l})}return null}},55275:function(e,t,n){"use strict";n.d(t,{P:function(){return a},t:function(){return c}});var r=n(214494),o=function(){};var i={complaint:function(e,t){r.Z.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},followBoard:function(e,t){r.Z.create("BoardFollowResource",e).callCreate().then((function(){return t()}))},followPinner:function(e,t){r.Z.create("UserFollowResource",e).callCreate().then((function(){return t()}))},followTopic:function(e,t){r.Z.create("InterestFollowResource",e).callCreate().then((function(){return t()}))},newsHubPinHide:function(e,t){r.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((function(){return t()}))},promotedComplaint:function(e,t){r.Z.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},relatedPinHide:function(e,t){r.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((function(){return t()}))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){r.Z.create("BoardFollowResource",e).callDelete().then((function(){return t()}))},unfollowPinner:function(e,t){r.Z.create("UserFollowResource",e).callDelete().then((function(){return t()}))},unfollowTopic:function(e,t){r.Z.create("InterestFollowResource",e).callDelete().then((function(){return t()}))},unrelatedSearchPin:function(e,t){r.Z.create("SearchPinFeedbackResource",e).callUpdate().then((function(){return t()}))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=e?i[e]:null;return r?r(t,n):n()}},680046:function(e,t,n){"use strict";n.d(t,{EF:function(){return _},Iv:function(){return f},Ud:function(){return p},XZ:function(){return v},fJ:function(){return d},hP:function(){return u},nb:function(){return m},oK:function(){return h},yl:function(){return y}});var r=n(55275),o=n(760372),i=n(349700);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};function u(e){var t=e.boardFollowedByMe,n=e.feedbackType,r=e.viewParameter,o=e.promotion,i=e.recommendationReason,a=e.pinnerFollowedByMe;if(o&&!o.isDownstreamPromotion)return"promoted";if(n)return n;if(i){if("FOLLOWED_INTEREST"===i.reason)return"topic";if("FOLLOWING_FEED"!==i.reason&&"RECENT_FOLLOWED_BOARD"!==i.reason)return i.hasBoard?"pfyBoard":"pfy"}if(t||a)return"followed";switch(r){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";case 92:default:return"default"}}function d(e){var t=e.feedbackData,n=e.feedbackType,r=e.pinId,o=e.recommendationReasonId,i=e.pinFeedbackType,a=e.complaintReason,s=e.throughId,l=e.throughProperties,u=e.clientTrackingParams;switch(n){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==t?void 0:t.query,pin_id:r}};case"related":return{action:"relatedPinHide",actionOptions:{pin:r}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:r,newsId:null==t?void 0:t.newsId}};default:var d="promoted"===n;return{action:d?"promotedComplaint":"complaint",actionOptions:c(c(c(c({complaint_reason:a||0,pin_id:r},o?{recommendation_reason_id:o}:{}),{},{feedback_type:i||1,promoted:d},s?{through_id:s}:{}),l?{through_properties:l}:{}),u?{client_tracking_params:u}:{})}}}function p(e){var t,n,r,o,a,c,s,u,d=e.feedback,p=e.i18n,f=e.makeNavigateLink;switch(d.type){case"pfy":return p._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":var h=d.recommendationReasonBoard;return h?(0,i.nk)(p._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:f("navigation",h.url,h.name)}):null;case"topic":var y=d.sourceInterest;return y?(0,i.nk)(p._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:f("topicUrl","/topics/".concat(y.url_name),y.name)}):null;case"followed":var v=d.followed;return"pinner"===v.type?(0,i.nk)(p._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f("pinnerUrl","/".concat(null!==(t=null===(n=v.pinner)||void 0===n?void 0:n.username)&&void 0!==t?t:""),l(null!==(r=null===(o=v.pinner)||void 0===o?void 0:o.full_name)&&void 0!==r?r:""))}):(0,i.nk)(p._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:f("boardUrl",null!==(a=null===(c=v.board)||void 0===c?void 0:c.url)&&void 0!==a?a:"",l(null!==(s=null===(u=v.board)||void 0===u?void 0:u.name)&&void 0!==s?s:""))});case"promoted":if(d.promoter){var m=d.promoter,_=m.full_name,b=m.username,g=f("promotedLink",b?"/"+b+"/":"/",_);return(0,i.nk)(p._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:g})}return p._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:return null}}function f(e){var t,n,r=e.sourceInterest,a=e.i18n,c=e.makeNavigateLink;return{action:"unfollowTopic",actionOptions:{interest_id:r.id,interest_list:o.X},title:"",subTitle:(0,i.nk)(a._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:c("topicUrl","/topics/".concat(null!==(t=r.url_name)&&void 0!==t?t:""),null!==(n=r.name)&&void 0!==n?n:"",!0)})}}function h(e){var t,n,r,o,a=e.boardId,c=e.display,s=e.i18n,l=e.makeNavigateLink;return{action:"unfollowBoard",actionOptions:{board_id:a},title:"",subTitle:"pinner"===c.type?(0,i.nk)(s._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:l("pinnerUrl","/".concat(null!==(t=c.data.username)&&void 0!==t?t:""),null!==(n=c.data.full_name)&&void 0!==n?n:"",!0)}):(0,i.nk)(s._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:l("boardUrl",null!==(r=c.data.url)&&void 0!==r?r:"",null!==(o=c.data.name)&&void 0!==o?o:"",!0)})}}function y(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function v(e){return null==e?void 0:e.through_properties}function m(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function _(e,t,n,o,i,a,s){return function(){var l=c(c({},e),{},{undo:!0}),u=t;"unfollowPinner"===t?u="followPinner":"unfollowBoard"===t?u="followBoard":"unfollowTopic"===t&&(u="followTopic"),(0,r.t)(u,l),a(n),s({event_type:101,component:0,element:11181,view_type:o,view_parameter:i})}}},205202:function(e,t,n){"use strict";function r(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:function(){return r}})},752802:function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=["564x","736x","orig","474x","236x"];t.Z=function(e){var t,r=e.images,i=void 0===r?{}:r,a=e.resolutionPreferences,c=n(void 0===a?o:a);try{for(c.s();!(t=c.n()).done;){var s=t.value;if(i[s]&&i[s].url)return i[s]}}catch(l){c.e(l)}finally{c.f()}return null}},248975:function(e,t,n){"use strict";function r(e){var t=e.embedSrc,n=e.embedType,r=e.images,o=e.preferredResolution;if(!t&&!n&&!r)return"";if("gif"===n)return t||"";var i=r;if(!i)return"";if(o){var a="474x"===o&&i["474x"]||"236x"===o&&i["236x"]||i["736x"];if(a&&a.url)return a.url}var c=Object.keys(i).map((function(e){try{var t=e.split("x")[0];return Number.isNaN(Number(t))?(i[t]=i[e],t):e}catch(n){return""}}));c.sort();var s=c.pop();return i[s]&&i[s].url||""}n.d(t,{Z:function(){return r}})},605028:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(687551),o=n(623568);function i(e){var t=e.access,n=e.attribution,i=e.embed,a=e.is_eligible_for_web_closeup,c=e.promoted_is_lead_ad,s=e.rich_summary,l=e.sponsorship,u=e.story_pin_data_id,d=e.videos,p={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};c&&(p.isLeadPin=!0),(0,r.Z)(e)&&(p.isCarousel=!0),a&&(p.isOneTap=!0),(0,o.iR)(d)&&(p.isVideo=!0);var f=i||n&&n.embed||null;return f&&"gif"===f.type&&(p.isGif=!0),s&&"product"===s.type_name&&(p.isProduct=!0),s&&"recipe"===s.type_name&&(p.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(p.isPromoted=!0),(t||[]).includes("write")&&(p.isOwnPin=!0),u&&(p.isStoryPin=!0),l&&(p.isSponsored=!0),p}},307061:function(e,t){"use strict";t.Z=function(e){return function(t){return null!=t?e(t):null}}},674915:function(e,t,n){"use strict";var r=n(307061),o=n(736688);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,r.Z)((function(e){var t=e.pin.videos||{},n=t.id,r=t.video_list,i=void 0===r?{}:r,c=i.V_720P,s=i.V_HLSV4,l=i.V_HLSV3_MOBILE,u=(0,o.V3)(s),d=(0,o.V3)(l),p=(0,o.V3)(c),f=p||u||d;return n&&f?a(a({},e),{},{video:{id:n,hasVideo:f,mp4:p||void 0,hls:u||void 0,hlsv3:d||void 0}}):null}));t.Z=s},976071:function(e,t,n){"use strict";function r(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:function(){return r}})},623568:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Js:function(){return s},NK:function(){return g},Nc:function(){return w},VX:function(){return l},ZE:function(){return m},Zt:function(){return _},_J:function(){return p},_S:function(){return P},cL:function(){return y},dZ:function(){return x},hb:function(){return b},hy:function(){return d},iR:function(){return c},jL:function(){return u},o:function(){return O},oN:function(){return i},pU:function(){return S},rM:function(){return v},sV:function(){return f},sY:function(){return h}});var i=5e3,a=["Uploaded by user"],c=function(e){return!!e&&!!e.video_list},s=function(e,t){var n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=function(e,t){return t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1},u=function(e,t){return!!t&&!e},d=function(e){return!!e},p=function(e){return!!e.video_status&&5!==e.video_status},f=function(e){return["email","messages","deep_linking"].includes(e)},h=function(e){return!!e&&"gif"===e},y=function(e){var t=e.embedSrc,n=e.embedSubtype,r=e.embedType;return!!t&&!h(r)&&!function(e){return"pinstory"===e}(n)},v=function(e){var t=e.link,n=e.mobileLink,r=e.trackedLink;return!n&&!r&&!t},m=function(e){return/pin.it/gim.test(e||"")},_=function(e){var t=e.link,n=e.mobileLink,r=e.origImageUrl,o=e.trackedLink;return n||o||t||r||""},b=function(e){var t=e.isStoryPin,n=e.isVideoPin;return t?"storyPin":n?"video":"image"},g=function(e,t){return{deeplinkUri:{android:"pin/".concat(e,"/repin"),iOS:"repin/".concat(e)},mwebUri:{pathname:"/pin/".concat(e,"/repin/"),state:{trackingParams:t.state?t.state.trackingParams:""}}}};function w(e,t,n){var r;return!c(n)&&!d(t)&&0!==Object.keys((null==e||null===(r=e.creator_analytics)||void 0===r?void 0:r["30d_realtime"])||{}).length}function P(e){var t,n=r(a);try{for(n.s();!(t=n.n()).done;){if(e===t.value)return!1}}catch(o){n.e(o)}finally{n.f()}return!0}function O(e){return 0!==Object.keys((null==e?void 0:e["30d_realtime"])||{}).length}function S(e){return 0!==Object.keys((null==e?void 0:e.all_time_realtime)||{}).length}function x(e){var t;return!(null==e||null===(t=e["30d_realtime"])||void 0===t||!t.is_realtime)}},18857:function(e,t,n){"use strict";n.d(t,{G7:function(){return l},WE:function(){return s},l6:function(){return u},rh:function(){return c}});var r=n(27255),o=n(605028),i=n(66699),a=n(623568);function c(e,t,n,i){var c,s,l;if(!t.isAuth)return!1;var u=e.aggregated_pin_data,d=e.creator_analytics,p=e.public_creator_analytics,f=e.story_pin_data_id,h=e.videos,y=(0,a.Nc)(u,f,h)||(0,a.o)(d),v=(null===(c=e.board)||void 0===c?void 0:c.privacy)===r.Z.BoardPrivacy.PUBLIC,m=((null===(s=e.board)||void 0===s?void 0:s.privacy)===r.Z.BoardPrivacy.PROTECTED||v)&&!e.is_repin&&[t.id,i].includes(null===(l=e.pinner)||void 0===l?void 0:l.id),_=(0,o.Z)(e).isStoryPin;return y||t.isPartner&&m||function(e){return e.checkExperiment("web_ps4p").anyEnabled}(n)&&_&&m||(0,a.pU)(p)}function s(e,t,n,r,o,i){return e.isAuth&&t&&(n||r)&&!(null==o||!o.isLoaded)&&!i}function l(e,t){return(0,i.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function u(e,t){return(0,i.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}},802933:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){return e.pin&&e.pin.id?o(o({},e),{},{id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}):null}));t.Z=a},692627:function(e,t,n){"use strict";function r(e){var t=e.hasPin,n=e.hasPinRichMetadata,r=e.hasPinRichMetadataProducts,o=e.hasPinRichMetadataArticle,i=e.hasPinRichMetadataRecipe,a=e.hasPinStoryPinData;if(t){if(n)return r?144:o?141:i?145:139;if(a)return 157}return 140}n.d(t,{Z:function(){return r}})},336882:function(e,t){"use strict";t.Z={STARTED:1,FINISHED:2}},432300:function(e,t){"use strict";t.Z={DEFAULT:1,LIMITED:2}},177471:function(e,t,n){"use strict";n.d(t,{k:function(){return D}});var r=n(76911),o=n(506979),i=n(214494),a=n(19121),c=n(414327),s=n(780280),l=["etsy","microsoft","twitter","google","instagram","youtube","dropbox"];function u(e){var t=e.network,n=e.data,r=e.requestContext;if(l.includes(t))return i.Z.create("UserSocialNetworkResource",{network:t,data:n}).callCreate();var o="/v3/connect/".concat(t,"/"),a=function(e,t,n){var r;switch(e){case"facebook":var o=n.facebookToken;r=t?{facebook_id:t.id,facebook_token:o}:Object.freeze({});break;case"gplus":r=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":r=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:r=Object.freeze({})}return r}(t,n,r);return i.Z.create("ApiResource",{url:o,data:a}).callUpdate()}var d=n(553171),p=n(124237),f=n(402201),h=n(572752),y=n(966113),v=n(83969),m=n(867820);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function O(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function S(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,c,"next",e)}function c(e){S(i,r,o,a,c,"throw",e)}a(void 0)}))}}var j="https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile";function E(){return(E=x(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Px)();case 2:(o=null===(n=window.google)||void 0===n||null===(r=n.accounts)||void 0===r?void 0:r.oauth2)&&o.initCodeClient({client_id:y.v3,scope:j,ux_mode:"popup",callback:t}).requestCode();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=Object.freeze({}),T=function(e){var t=e.network;if(A[t]){var n=A,r=n[t],o=r.error,i=r.success,a=r.complete,c=P(n,[t].map(O));A=g({},c),"error"===e.type?null==o||o(Object.freeze({})):i("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==a||a()}},I=function(e){var t=e.i18n,n=e.network,r=e.callbacks,o=e.requestContext;if(r=g({error:function(){},complete:function(){}},r),(0,m.My)("auth_web.social_connect.".concat(n,".").concat((0,h.Z)(o))),"gplus"===n||"google"===n)(0,m.My)("auth_web.social_connect.google.migration"),function(e){E.apply(this,arguments)}((function(e){r.success({one_time_code:e.code,redirect_uri:"postmessage"})}));else if("line"===n){var i=o.locale;(0,d.Z)(i,r)}else{var a=window.open("/connect/"+n+"/","",function(e){switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,f.Z)({width:580,height:580});case"etsy":return(0,f.Z)({width:580,height:775});case"youtube":return(0,f.Z)({width:605,height:640});default:return(0,f.Z)()}}(n));if(!a)return p.Z.showError(t._('You must enable popups!', ' - ', ' -- ')),void(r.error&&r.error(Object.freeze({})));var c=setInterval((function(){a.closed&&(clearInterval(c),T({network:n,type:"error"}))}),1e3);A=g(g({},A),{},w({},n,r))}};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.addEventListener("message",(function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin===t){var n=e.data;if(n&&"social-connect-complete"===n.type){var r=e.data;r.network&&T(r)}}}));var C=function(){function e(t){var n=t.invalidateResource,r=t.requestContext,o=t.viewer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getUserId=function(){return o.isAuth?o.id:""},this.getUsername=function(){return o.isAuth?o.username:""},this.isLimitedLogin=function(){return o.isLimitedLogin},this.invalidateResource=n,this.requestContext=r}var t,n,r;return t=e,(n=[{key:"handleConnect",value:function(e,t,n,r){var o=this,a=function(t){("connect"===t.type?u({network:e,data:t.data,requestContext:o.requestContext}):i.Z.create("ApiResource",{url:"/v3/connect/".concat(e,"/")}).callDelete()).then((function(e){var t,r={user_id:o.getUserId(),username:o.getUsername(),field_set_key:"social_connect"};o.invalidateResource("UserResource",r),i.Z.create("UserResource",r).callGet(),null===(t=n.success)||void 0===t||t.call(n,e)}),(function(e){var t;e&&"object"===k(e)&&(null===(t=n.error)||void 0===t||t.call(n,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((function(){var e;null===(e=n.complete)||void 0===e||e.call(n)}))};t?this.isLimitedLogin()?a({type:"connect"}):I({network:e,callbacks:{success:function(e){return a({type:"connect",data:e})},error:n.error,complete:n.complete},i18n:r,requestContext:this.requestContext}):a({type:"disconnect"})}}])&&R(t.prototype,n),r&&R(t,r),e}();function D(){var e=(0,o.useDispatch)(),t=(0,s.B)(),n=(0,a.Z)();return(0,r.useMemo)((function(){return new C({invalidateResource:function(t,n){return e((0,c.jB)(t,n))},requestContext:t,viewer:n})}),[e,t,n])}},584595:function(e,t,n){"use strict";n.d(t,{$j:function(){return R},Cx:function(){return z},D4:function(){return T},E:function(){return l},E6:function(){return j},H9:function(){return B},Jt:function(){return N},Jw:function(){return a},LJ:function(){return M},NF:function(){return s},OW:function(){return d},Pv:function(){return C},RL:function(){return P},ZP:function(){return V},Zn:function(){return S},_K:function(){return y},aG:function(){return h},an:function(){return E},at:function(){return D},bd:function(){return u},cZ:function(){return p},dO:function(){return f},hE:function(){return Z},hU:function(){return m},iK:function(){return g},iZ:function(){return k},ik:function(){return U},ky:function(){return L},lg:function(){return v},nY:function(){return b},nf:function(){return w},oP:function(){return _},pH:function(){return o},qF:function(){return F},rM:function(){return I},rm:function(){return A},tL:function(){return c},tz:function(){return i},xN:function(){return x},yV:function(){return O}});var r=n(817656),o=101,i=93,a=117,c=116,s=111,l=118,u=9,d=8,p=16,f=12,h=3,y=18,v=105,m=79,_=78,b=77,g=76,w=1402,P=85,O=88,S=1201,x=30,j=84,E=83,A=2901,T=2904,I=2905,k=95,R=19,C=113,D=91,N=2501,L=2915,M=2986,B=3050,Z=2,z=[d,u],U=[d,u,r.Ej],F=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[v,"FACEBOOK_ACCOUNT_NOT_LINKED"],[f,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[p,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[b,"INVALID_PASSWORD_FB_USER"],[_,"INVALID_PASSWORD_ERROR_CODE"],[m,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[E,"LOGIN_POLICY_VIOLATION_USER"],[P,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[i,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[c,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[d,"API_LIMIT_EXCEEDED_ERROR"],[u,"API_EVENT_BLOCKED_ERROR"],[R,"USER_IN_SAFE_MODE"],[j,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[P,"LOGIN_BAD_PASSWORD_ASK_RESET"],[S,"LOGIN_MFA_REQUIRED"],[x,"LOGIN_USER_NOT_FOUND"],[O,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[A,"SAR_DOWNLOAD_LIMIT"],[T,"SAR_EMAIL_UNVERIFIED"],[I,"SAR_EMAIL_MISSING"]]),V=[d,u,R,E,P,O]},553171:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(231486);var o=n(643913),i=n(226198),a=n(966113),c=n(696157),s=n(826067),l=n(844974);function u(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}var d="undefined"!=typeof window,p=d?"".concat(window.location.origin,"/oauth/line/redirect"):"",f=function(e){var t=e.origin,n=e.data;return n&&t===window.location.origin?String(n):null},h=function(e){var t=e.url,n=e.key;if(!t.startsWith(window.location.origin)||n!==c.MM)return null;var r=(0,l.qn)(c.MM);return(0,l.L_)(c.MM),r};function y(e,t){if(d){var n,c=function(){var e="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:5).fill("").map((function(){return e[Math.floor(Math.random()*e.length)]})).join("")}(10),l=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var u,d,y,v,m,_,b,g,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(u=a instanceof MessageEvent?f(a):h(a),!(d=(0,s.mB)(u)).state||!d.code||d.state!==c){e.next=26;break}return n&&!n.closed&&n.close(),e.prev=6,e.next=9,fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":"".concat(String(r.U2(i.fS)))},method:"POST",body:(0,o.Z)({code:d.code,redirect_uri:p})});case 9:return y=e.sent,e.next=12,y.json();case 12:v=e.sent,m=v.id_token,_=v.access_token,m&&_?t.success({line_id_token:m,line_access_token:_}):null===(b=t.error)||void 0===b||b.call(t,{message:"No tokens returned"}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),null===(g=t.error)||void 0===g||g.call(t,e.t0);case 20:return e.prev=20,n&&!n.closed&&n.close(),window.removeEventListener("message",l),window.removeEventListener("storage",l),null===(w=t.complete)||void 0===w||w.call(t),e.finish(20);case 26:case"end":return e.stop()}}),e,null,[[6,17,20,26]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return a.apply(this,arguments)}}();window.addEventListener("message",l),window.addEventListener("storage",l),n=window.open("https://access.line.me/oauth2/v2.1/authorize?response_type=code"+"&client_id=".concat(a.z)+"&redirect_uri=".concat(encodeURIComponent(p))+"&state=".concat(c)+"&ui_locales=".concat(e)+"&scope=profile%20openid%20email","_blank")}else{var y;null===(y=t.error)||void 0===y||y.call(t,{message:"Window is undefined"})}}},107193:function(e,t,n){"use strict";n.r(t);var r=n(336882),o=n(935879),i=n(713930),a=n(214494),c=n(966113),s=n(867820),l=!1,u=function(e){return e.isAuth&&!!e.facebookId&&!e.isLimitedLogin};t.default=function e(t,n){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",p=arguments.length>3?arguments[3]:void 0;p&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,i.Z)((0,o.Z)(d),"FACEBOOK").then((function(){p&&(0,s.dy)({event:"load_script_success",provider:"facebook"});var o=window.FB;o?(l||(p&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),o.init({appId:c.GH,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(function(){u(n)&&e((function(e){if(e.getUserID()){var t=e.getAccessToken();t&&a.Z.create("ApiResource",{url:"/v3/connect/facebook/",data:{facebook_token:t}}).callCreate({showError:!1})}}),n)})),l=!0,window.fb_init=r.Z.FINISHED),t(o)):p&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=r.Z.STARTED}},935879:function(e,t){"use strict";t.Z=function(e){return"//connect.facebook.net/".concat(function(e){var t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}}(e),"/sdk.js")}},83969:function(e,t,n){"use strict";n.d(t,{Fm:function(){return a},OY:function(){return s},PL:function(){return u},Px:function(){return c},mK:function(){return d},ru:function(){return l}});var r=n(713930),o=n(966113),i=n(867820),a=function(){var e,t,n;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.id},c=function(e){return(0,r.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI")},s=function(e,t){var n,r=e.autoSelect,i=e.itpSupport;null===(n=a())||void 0===n||n.initialize({auto_select:null!=r&&r,client_id:o.v3,callback:t,cancel_on_tap_outside:!1,context:"use",itp_support:i})},l=function(e){var t=e.buttonRef,n=e.isDesktop,r=a();if(r&&t.current){var o=t.current.offsetWidth;r.renderButton(t.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:o+"px"})}else(0,i.My)((n?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},u=function(e){return"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT"},d=function(e){switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},760372:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r="favorited"},773285:function(e,t,n){"use strict";n.d(t,{F:function(){return i},a:function(){return o}});var r=(0,n(425288).Z)("ExperimentContext"),o=r.Provider,i=r.useHook},869503:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(939106),o=n(898781),i=n(349700),a=n(908390),c=n(515198);function s(){var e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function l(e){var t=e.freeShippingPrice,n=(0,o.ZP)();return(0,i.nk)(n._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:t}).join("")}function u(e){var t=e.customStyles,n=e.showPrevDot,o=e.freeShippingPrice,i=e.freeShippingValue,u=n?[""]:[],d=t||{},p=d.color,f=void 0===p?"subtle":p,h=d.size,y=void 0===h?"200":h;return Number.isFinite(i)?(0===i?u.push((0,c.jsx)(s,{})):o&&u.push((0,c.jsx)(l,{freeShippingPrice:o})),0===u.length?null:(0,c.jsx)(a.xv,{color:f,size:y,children:(0,c.jsx)(r.Z,{color:f,items:u})})):null}},30287:function(e,t,n){"use strict";n.d(t,{AJ:function(){return g},FB:function(){return y},FP:function(){return h},Kj:function(){return m},Rx:function(){return f},So:function(){return v},kM:function(){return _}});var r=n(231486),o=n(567831),i=n(794230),a=n(957161),c=n(826067),s=n(226198),l="android-app://com.pinterest.twa",u="pwa_hostname",d="pwa_redirected",p="homescreen_icon",f=function(e){return["twa","cct","browser","webview"].includes(e)},h=function(e){var t,n;return!!e&&((r.U2(s.tg)||"").startsWith(l)||(e.document&&e.document.referrer||"").startsWith(l)||!(!(n=null===(t=e.location)||void 0===t?void 0:t.search)||!f((0,c.mB)(n).twa_type)))},y=function(e){var t,n;if(!e)return null;if(e.Windows)return"windows";if(function(e){return!!e&&(e.document&&e.document.referrer||"").startsWith("app-info://platform/microsoft-store")}(e))return"msft-store";if(h(e))return"android-twa";if(e.matchMedia&&(null!==(t=e.matchMedia("(display-mode: standalone)"))&&void 0!==t&&t.matches||null!==(n=e.matchMedia("(display-mode: minimal-ui)"))&&void 0!==n&&n.matches)&&e.navigator&&e.navigator.userAgent){var r=e.navigator.userAgent;if(r.includes("Chrome"))return"chrome";if(r.includes("Safari"))return"safari"}return"unknown"},v=function(e){var t=y(e);return!(!t||"unknown"===t)},m=function(e,t){if("unknown"!==t)switch(t){case"twa":return 3354;case"cct":return 3355;case"browser":return 3356;default:return null}else switch(e){case"chrome":return 3351;case"safari":return 3352;default:return null}};function _(e,t){if(void 0===e)return"notEligible";if(!v(e)&&e.navigator&&e.navigator.userAgent){if(e.navigator.userAgent.includes("Windows NT 10.0"))return"windows";if(t&&t())return"chrome"}return"notEligible"}var b=function(e){if(e){var t,n=a.Z.getItem(u)||"";if(n!==e.location.hostname&&(t=Number(a.Z.getItem(d)),!(Date.now()-t<6e4))){var r=e.location.pathname,c=(0,i.Z)(r,{utm_source:p}),s=(0,o.Z)(c,void 0,n);a.Z.setItem(d,Date.now()),e.location.href=s}}},g=function(e){if(e)if(function(e){var t;return(0,c.mB)(null===(t=e.location)||void 0===t?void 0:t.search).utm_source===p}(e)){var t=e.location.hostname;a.Z.setItem(u,t)}else e.navigator.userAgent&&e.navigator.userAgent.includes("CrOS")&&b(e)}},813401:function(e,t,n){"use strict";n.d(t,{kf:function(){return b},l5:function(){return m},of:function(){return y},xC:function(){return _},yz:function(){return v}});var r=n(76911),o=n(172071),i=n(829407),a=n(807609),c=n(30287),s=n(425288),l=n(515198);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,s.Z)("PwaContext"),f=p.Provider,h=p.useMaybeHook,y=function(e){var t=e.children,n=e.initialContext,a=u((0,r.useState)(null),2),s=a[0],d=a[1],p=n||{pwaType:"unknown",twaType:null},h=p.pwaType;(0,i.Z)((function(){var e=(0,c.FB)(window)||"unknown";d(e),h!==e&&o.Z.increment("pwa.type_mismatch",1,{serverPwaType:h,clientPwaType:e,conflict:"unknown"!==h&&"unknown"!==e})}));var y="unknown"===h&&s?s:h,v=p.twaType,m=(0,r.useMemo)((function(){return{pwaType:y,twaType:v}}),[y,v]);return(0,l.jsx)(f,{value:m,children:t})},v=function(){var e,t=h();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},m=function(){var e,t=h();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},_=function(){return"android-twa"===v()},b=function(){var e=v(),t=(0,a.Z)();return"unknown"===e&&t?null:"windows"===e}},7789:function(e,t,n){"use strict";n.d(t,{DQ:function(){return i},eD:function(){return r},is:function(){return o}});var r=window.location.search.includes("debug_tracing"),o=window.location.search.includes("debug_lab_tracing"),i=r||o},311560:function(e,t){"use strict";t.Z=function(e){switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},681227:function(e,t,n){"use strict";function r(e){var t=Object.keys(e);return t.length>0?t.sort((function(t,n){return e[n]-e[t]})).slice(0,3):null}function o(e){var t=Object.values(e);return t.length>0?t.reduce((function(e,t){return e+t}),0):0}function i(e,t){var n=e.videos,r=e.is_downstream_promotion,o=e.is_promoted,i=e.story_pin_data_id,a=e.board;return!(o||r||(!n||!n.id)&&!i||t||null!=a&&a.is_collaborative&&a.collaborated_by_me)}n.d(t,{At:function(){return r},J6:function(){return i},Ud:function(){return o}})},561195:function(e,t,n){"use strict";n.d(t,{A:function(){return s},Z:function(){return l}});var r=n(76911),o=n(908390),i=n(515198);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=e.fill,n=(e.width,e.color,"half"===t?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(o.xu,{position:"absolute",children:(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"full"===t?"default":"subtle",icon:"star",size:12}));return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":"rating-star-".concat(t),children:n})};function l(e){var t=e.max_rating,n=e.rating,o=e.width,c=e.color,l=[],u=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(t)||5,parseFloat(n)||0);if(Number.isNaN(u))return null;var d=Math.floor(u),p=u-d;return a(Array(d).keys()).forEach((function(e){return l.push((0,i.jsx)(s,{color:c,fill:"full",width:o},e))})),p>=.75?l.push((0,i.jsx)(s,{color:c,fill:"full",width:o},l.length)):p>=.25&&l.push((0,i.jsx)(s,{color:c,fill:"half",width:o},l.length)),a(Array(5-l.length).keys()).forEach((function(){return l.push((0,i.jsx)(s,{color:c,fill:"empty",width:o},l.length))})),(0,i.jsx)(r.Fragment,{children:l})}},886858:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{k:function(){return s}});var a=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),c=function(e){return!a.has(e)&&!e.startsWith("__track__")};function s(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((function(e,t){var n=r(t.split("="),2),o=n[0],i=n[1];return e[o]=JSON.parse(i),e}),{})}t.Z=function(e){return e?Object.keys("object"===i(e)&&e||{}).filter((function(e){return"string"==typeof e})).filter(c).sort().map((function(t){return"".concat(t,"=").concat(JSON.stringify(null==e[t]?null:e[t]))})).join(","):""}},932995:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){var o=r(e),i=o.splice(t,1)[0];return o.splice(n,0,i),o}n.d(t,{Z:function(){return i}})},780280:function(e,t,n){"use strict";n.d(t,{B:function(){return v},LC:function(){return h},P2:function(){return f},fH:function(){return y},gf:function(){return m}});var r=n(76911),o=n(608832),i=n(620707),a=n(515198);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,r.createContext)();function f(e){var t=e.children,n=e.value,c=u((0,r.useState)(n),2),l=c[0],d=c[1],f=(0,r.useMemo)((function(){return{requestContext:l,updateRequestContext:function(e){var t=s(s({},l),e);(0,i.Ak)(l,e)||d(t),(0,o.J)(t)}}}),[l]);return(0,a.jsx)(p.Provider,{value:f,children:t})}var h=function(e){var t=e.children,n=(0,r.useContext)(p);if(!n)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContext)},y=function(e){var t=e.children,n=(0,r.useContext)(p);if(!n)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContext)};function v(){var e=(0,r.useContext)(p);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function m(){var e=(0,r.useContext)(p);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:function(e,t,n){"use strict";var r;function o(e){r=e}function i(){return r}n.d(t,{J:function(){return o},l:function(){return i}})},505920:function(e,t,n){"use strict";n.d(t,{UZ:function(){return b},Z8:function(){return g},my:function(){return w}});var r=n(76911),o=(n(506979),n(214494)),i=n(425288),a=n(515198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){var r,o=[].concat(d(null!==(r=t[e][n.payload.name])&&void 0!==r?r:[]),[n.payload.handler]),i=l({},t);return i[e]=l(l({},t[e]),{},u({},n.payload.name,o)),i}function y(e,t,n){if(!t[e][n.payload.name])return t;var r=t[e][n.payload.name].filter((function(e){return e!==n.payload.handler})),o=l({},t);return o[e]=l(l({},t[e]),{},u({},n.payload.name,r)),o}var v=(0,i.Z)("ResourceContext"),m=v.Provider,_=v.useHook;function b(e){var t=e.children,n=c((0,r.useReducer)((function(e,t){switch(t.type){case"addListener":return h("listeners",e,t);case"addMoreListener":return h("moreListeners",e,t);case"removeListener":return y("listeners",e,t);case"removeMoreListener":return y("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}}),2),i=n[0],s=i.listeners,l=i.moreListeners,u=n[1];o.Z.fetchCompleteCallback=function(e){var t=e.resource,n=e.options,r=e.response,o=e.normalizedResponse,i=e.refresh,a=e.resourceSchema;s[t]&&s[t].forEach((function(e){return e({isRefresh:i,normalizedResponse:o,options:n,schema:a,resource:t,response:r})}))},o.Z.fetchMoreCompleteCallback=function(e){var t=e.resource,n=e.options,r=e.response,o=e.normalizedResponse,i=e.refresh,a=e.resourceSchema;l[t]&&l[t].forEach((function(e){return e({isRefresh:i,normalizedResponse:o,options:n,schema:a,resource:t,response:r})}))};var d=(0,r.useMemo)((function(){return{listenerDispatch:u}}),[]);return(0,a.jsx)(m,{value:d,children:t})}function g(e,t){var n=_().listenerDispatch;(0,r.useEffect)((function(){return n({type:"addListener",payload:{name:e,handler:t}}),function(){n({type:"removeListener",payload:{name:e,handler:t}})}}))}function w(e,t){var n=_().listenerDispatch;(0,r.useEffect)((function(){return n({type:"addMoreListener",payload:{name:e,handler:t}}),function(){n({type:"removeMoreListener",payload:{name:e,handler:t}})}}))}},813171:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)})(e)}function l(e,t,n){return(l=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return h}});var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(y,e);var t,n,r,s,l,h=(t=y,n=u(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return a(this,e)});function y(){var e;o(this,y);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(c(e=h.call.apply(h,[this].concat(n))),"name","ServerResourceError"),e}return r=y,l=[{key:"fromPlainObject",value:function(e,t){var n=new y;return e.message&&(n.message=e.message),e.message_detail&&(n.message_detail=e.message_detail),e.original_message&&(n.original_message=e.original_message),e.code&&(n.code=e.code),e.http_status&&(n.http_status=e.http_status),e.api_error_code&&(n.api_error_code=e.api_error_code),e.stack_trace&&(n.stack_trace=e.stack_trace),e.extra_data&&(n.extra_data=e.extra_data),e.request_identifier&&(n.request_identifier=e.request_identifier),t&&(n.data=t),n}}],(s=[{key:"toString",value:function(){return"["+this.name+"] "+JSON.stringify({name:this.name,code:this.code,http_status:this.http_status,api_error_code:this.api_error_code,stack_trace:this.stack_trace,extra_data:this.extra_data,request_identifier:this.request_identifier})}}])&&i(r.prototype,s),l&&i(r,l),y}(s(Error))},248327:function(e,t,n){"use strict";n.d(t,{U:function(){return v},b:function(){return m}});var r=n(886858),o=n(214494),i=n(414327),a=n(718368),c=n(483025),s=n(833314);function l(e){var t=e.data,n=e.opts,r=n.bookmark,o=n.options,i=n.schema,a=function(e,t){var n=t.bookmark,r=t.options,o=t.schema||c.Z[e];return"function"==typeof o?o({resource:e,options:r,bookmark:n}):o}(e.resource,{bookmark:r,options:o,schema:i});return{normalizedResponse:a&&t?(0,s.Fv)(t,a):null,resourceSchema:a}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=e.fetchOptions,n=e.resource,c=e.retry;return function(e,s){var d,p,h,v=t.bookmark,m=t.headers,_=t.options,b=t.refresh,g=t.schema,w=(0,r.Z)(_);if(null!==(d=s().resources)&&void 0!==d&&null!==(p=d[n])&&void 0!==p&&null!==(h=p[w])&&void 0!==h&&h.fetching&&!c)return Promise.resolve();var P=c?c.bookmark:v,O=P?f(f({},_),{},{bookmarks:[P]}):_;return e((0,i.LQ)(n,_,!0)),o.Z.create(n,O).callGet(void 0,m).then((function(r){var s,d=null===(s=r.resource_response)||void 0===s?void 0:s.data,p=u(r.bookmarks||[],1)[0];if(Array.isArray(d)&&0===d.length&&p&&p!==a.q){var f=c?c.count:0;if(!(f>=a.s))return e(y({resource:n,fetchOptions:t,retry:{count:f+1,bookmark:p}}))}!function(e,t){"VisualSearchFlashlightUnifiedResource"===e&&(t=t.results)}(n,d);var h=l({data:d,opts:{bookmark:v,options:_,schema:g},resource:n})||{normalizedResponse:null,resourceSchema:void 0},m=h.normalizedResponse,w=h.resourceSchema;return v?(e((0,i.Dm)(n,_,r,m,w)),o.Z.fetchMoreCompleteCallback&&o.Z.fetchMoreCompleteCallback({resource:n,options:_,response:r,normalizedResponse:m,refresh:b,resourceSchema:w})):(e((0,i.Sr)(n,_,r,m,b,w)),o.Z.fetchCompleteCallback&&o.Z.fetchCompleteCallback({resource:n,options:_,response:r,normalizedResponse:m,refresh:b,resourceSchema:w})),Promise.resolve()}),(function(t){e((0,i.Tl)(n,_,t))}))}}var v=function(e,t){return y({resource:e,fetchOptions:{bookmark:t.bookmark,headers:t.headers,options:t.options,refresh:!1,schema:t.schema}})},m=function(e,t){return y({resource:e,fetchOptions:{headers:t.headers,options:t.options,refresh:!0,schema:t.schema}})}},387246:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=["bookmark","code","data","endpoint_name","error","http_status","message","status"];function o(e){var t={};return Object.keys(e).filter((function(e){return!r.includes(e)})).forEach((function(n){t[n]=e[n]})),t}},718368:function(e,t,n){"use strict";n.d(t,{q:function(){return r},s:function(){return o}});var r="-end-",o=10},204088:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(704115),o=n(826067),i=n(314880);function a(e){var t=e.experimentHash,n=e.windowIsInFocus;try{var a={"X-Pinterest-AppState":n?"active":"background"};t&&(a["X-Pinterest-ExperimentHash"]=t);var c=(0,r.Z)();c.force_country&&(a["X-Force-Country"]=c.force_country);var s=(0,o.JJ)();if(s&&(a["X-Pinterest-Source-Url"]=s),"undefined"!=typeof window){var l=(0,i.H)();l&&(a["X-Pinterest-PWS-Handler"]=l)}return a}catch(u){return{}}}},338739:function(e,t,n){"use strict";n.d(t,{AF:function(){return r},KK:function(){return o},aW:function(){return c},cR:function(){return i},se:function(){return s},zP:function(){return a}});var r="CREATE_COMPLETE",o="FETCHING",i="FETCH_ERROR",a="FETCH_COMPLETE",c="FETCH_MORE_COMPLETE",s="RESOURCE_INVALIDATE"},414327:function(e,t,n){"use strict";n.d(t,{Dm:function(){return s},LQ:function(){return i},Sr:function(){return c},Tl:function(){return a},XM:function(){return o},jB:function(){return l}});var r=n(338739);function o(e,t,n,o){return{type:r.AF,payload:{resource:e,options:t,response:n,normalizedResponse:o}}}function i(e,t,n){return{type:r.KK,payload:{resource:e,options:t,isFetching:n}}}var a=function(e,t,n){return{type:r.cR,payload:{resource:e,options:t,error:n}}};function c(e,t,n,o,i,a){return{type:r.zP,payload:{isRefresh:i,normalizedResponse:o,options:t,resource:e,response:n,schema:a}}}function s(e,t,n,o,i){return{type:r.aW,payload:{resource:e,options:t,response:n,normalizedResponse:o,schema:i}}}function l(e,t){return{type:r.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),o=n(506979),i=n(886858),a=n(718368),c=n(609500),s=n(780280),l=n(248327);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={};function f(e){var t=null!=e?e:{name:"DisabledResource",options:null},n=t.enabledRouteRefresh,d=t.__unstableEnableSuspenseSupport,f=t.headers,h=t.name,y=t.noCache,v=t.options,m=t.schema,_=!e,b=(0,o.useDispatch)(),g=(0,i.Z)(v),w=(0,r.useRef)(null),P=(0,r.useRef)(),O=(0,c.useHistory)(),S=O&&"POP"!==O.action,x=function(e){return(e[h]||p)[g]||p},j=(0,o.useSelector)((function(e){var t=e.resources;return x(t).nextBookmark})),E=(0,o.useSelector)((function(e){var t=e.resources;return x(t).data})),A=(0,o.useSelector)((function(e){var t=e.resources;return x(t).auxData})),T=(0,o.useSelector)((function(e){var t=e.resources;return x(t).error})),I=(0,o.useSelector)((function(e){var t=e.resources;return Boolean(x(t).fetching)})),k=Boolean(T)||void 0!==E,R=k&&!I&&j===a.q,C=Boolean(k&&n&&S&&!_),D=u((0,r.useState)(C),2),N=D[0],L=D[1],M=(0,r.useCallback)((function(e){w.current=b((0,l.U)(h,{options:v,schema:m,bookmark:e,headers:f}))}),[b,h,g,m,f]),B=function(){w.current=b((0,l.b)(h,{options:v,schema:m,headers:f}))},Z=(0,s.B)().isBot,z=function(){if(!_&&P.current!==g){var e=void 0===P.current;P.current=g,!k&&!I||e&&T&&(!(t=T.httpStatus)||t>=500)?M():(!Z&&y||C)&&B()}var t};(0,r.useEffect)((function(){d||z()})),d&&z();var U=(0,r.useCallback)((function(){_||(B(),L(!0))}),[_,l.b,h,g,f,L]),F=(0,r.useCallback)((function(){!j||R||I||_||M(j)}),[_,M,j,R,I]);if(w.current)if(k&&!I)w.current=null;else if(d)throw w.current;var V=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:F,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:U}),G={auxData:A,data:E,error:T,fetchMore:F,isAtEnd:R,isFetching:I,isLoaded:k,isRefreshing:N,nextBookmark:j,refresh:U};return(0,o.shallowEqual)(G,V.current)||(!N||!V.current.data&&C||(0,o.shallowEqual)(G.data,V.current.data)||(G.isRefreshing=!1,L(!1)),V.current=G),V.current}},817656:function(e,t,n){"use strict";n.d(t,{AB:function(){return r},Ej:function(){return o},Sf:function(){return i}});var r=412,o=429,i=500},736688:function(e,t,n){"use strict";n.d(t,{QO:function(){return s},V3:function(){return a},cO:function(){return d},dn:function(){return l},fP:function(){return u},j1:function(){return p},v_:function(){return c}});var r=n(841726),o=n(867820),i=n(623568),a=function(e){var t=e||{},n=t.thumbnail,r=t.url,o=t.width,i=t.height,a=t.duration;return n&&r&&o&&i&&{thumbnail:n,url:r,width:o,height:i,duration:a}||void 0};function c(e,t){if(t&&t.products&&t.products[0]){var n=t.products[0],r=!(!n.name&&!e),i=!(!t.aggregate_rating||0===t.aggregate_rating.rating_count&&0===t.aggregate_rating.review_count||Number.isNaN(parseFloat(t.aggregate_rating.rating_value))),a=!(!n.offer_summary||!n.offer_summary.min_price&&!n.offer_summary.price),c=r&&(i||a);return function(e){var t=e.isEligible,n=e.hasName,r=e.hasAggregateRating,i=e.hasOffers;(0,o.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:t,hasName:n,hasAggregateRating:r,hasOffers:i})}({isEligible:c,hasName:r,hasAggregateRating:i,hasOffers:a}),c}return!1}var s=function(e,t){var n=t.userName||"";return{"@type":"Person",name:t.fullName||n,url:e+"/"+n}};function l(e,t,n,o,i,a){n=n.trim();var c=(t=t.trim())||a||n||o,s=function(){return t||i};if(!e||!e.metatags)return{title:c,description:n||s()};var l,u=e.metatags.description;return{title:c,description:(l=void 0===u?"":u,(0,r.o)(l||"").trim())||s()}}var u=function(e,t,n){var r=t;return n?{fallbackTitle:r="recipe"===e?n._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?n._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?n._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?n._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):n._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:r}:{fallbackTitle:r,fallbackDescription:r}},d=function(e){if(e){var t=e.rating_count,n=e.review_count;if((!!t||!!n)&&!Number.isNaN(parseFloat(e.rating_value))){var r=t||n;return{"@type":"AggregateRating",ratingValue:e.rating_value,ratingCount:r,bestRating:5,worstRating:1}}}},p=function(e){var t,n,r,o,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=!!(0,i.iR)(e.videos),s=a&&!!(0,i.cL)({embedSrc:null===(t=e.embed)||void 0===t?void 0:t.src,embedSubtype:null===(n=e.embed)||void 0===n?void 0:n.subtype,embedType:null===(r=e.embed)||void 0===r?void 0:r.type}),l=!(null===(o=e.story_pin_data)||void 0===o||!o.total_video_duration);return c||s||l}},995228:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76911),o=n(966476),i=n(464228),a=n(515198);function c(e){var t=e.children,n=e.fallback,c=e.dangerouslyServerRenderForGraphQL,s=void 0!==c&&c,l=n||null,u=(0,o.Z)(),d=(0,i.P)();return d&&"legacy"!==d?s||u?(0,a.jsx)(r.Suspense,{fallback:l,children:t}):l:(0,a.jsx)(r.Suspense,{fallback:l,children:t})}},947599:function(e,t,n){"use strict";var r=n(995228);t.Z=r.Z},909499:function(e,t,n){"use strict";n.d(t,{Hd:function(){return s},_R:function(){return a},gi:function(){return o},lw:function(){return r},wF:function(){return c},zh:function(){return i}});var r={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=function(e){switch(e){case r.PINS:return 0;case r.PINS_MINE:return null;case r.PINS_BUYABLE:return 1;case r.PINS_VIDEO:return 2;case r.BOARDS:return 3;case r.USERS:return 4;default:return null}},i=function(e){switch(e){case 0:return r.PINS;case 1:return r.PINS_BUYABLE;case 2:return r.PINS_VIDEO;case 3:return r.BOARDS;case 4:return r.USERS;default:return null}},a=function(e){switch(e){case r.PINS:return 43;case r.PINS_MINE:return 107;case r.PINS_BUYABLE:return 254;case r.PINS_VIDEO:return 3306;case r.BOARDS:return 44;case r.USERS:return 45;default:return null}},c=function(e){switch(e){case r.PINS:return 60;case r.PINS_MINE:return 63;case r.PINS_BUYABLE:return 3800;case r.PINS_VIDEO:return 64;case r.BOARDS:return 61;case r.USERS:return 62;default:return null}},s=function(e){switch(e){case r.USERS:return 1000392;case r.PINS_BUYABLE:return 1000391;case r.PINS:default:return 29}}},862628:function(e,t,n){"use strict";function r(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:function(){return r}})},648284:function(e,t,n){"use strict";function r(e){var t=e.appliedProductFilters,n=e.autoCorrectionDisabled,r=e.filters,o=e.query,i=e.scope,a=e.selectedPinImgSig,c=[i,r,t,e.user,a,o].map((function(e){return null!=e?e:""})).join(":");return n?"auto-correction-disabled:"+c:c}function o(e){var t=e.autoCorrectionDisabled,n=e.appliedProductFilters,r=e.appliedFilters,o=e.filters,i=e.selectedPinImgSig;return{name:"BaseSearchResource",options:function(e){var t=e.autoCorrectionDisabled,n=void 0!==t&&t,r=e.appliedFilters,o=void 0===r?null:r,i=e.appliedProductFilters,a=void 0===i?null:i,c=e.bubbleId,s=void 0===c?null:c,l=e.filters,u=void 0===l?null:l,d=e.query,p=void 0===d?null:d,f=e.rs,h=void 0===f?"direct_navigation":f,y=e.scope,v=void 0===y?"pins":y,m=e.selectedPinImgSig,_=void 0===m?null:m,b=e.sourceId;return{article:s,applied_filters:o,appliedProductFilters:a,auto_correction_disabled:n,corpus:_?"personalize":null,customized_rerank_type:_?"manas_graph_sage_only_wand_rewrite":null,filters:u,query:p,query_pin_sigs:_,redux_normalize_feed:!0,rs:h,scope:v,source_id:void 0===b?null:b,user:e.user}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:r,filters:o,query:e.query,rs:e.rs,scope:e.scope,selectedPinImgSig:i,bubbleId:e.bubbleId,user:e.user})}}n.d(t,{Ht:function(){return o},Tb:function(){return r}})},762752:function(e,t,n){"use strict";n.d(t,{D:function(){return h},N:function(){return p}});var r=n(172071);function o(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,s,"next",e)}function s(e){o(a,r,i,c,s,"throw",e)}c(void 0)}))}}var a="/sw-shell.html",c=.1;function s(e){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=navigator.serviceWorker,r.Z.increment("web_service_worker.clear_app_shell",c,{source:t||"unknown"}),!n||!window.caches){e.next=17;break}return e.next=5,window.caches.keys();case 5:if(o=e.sent,!(i=o.find((function(e){return e.startsWith("workbox-precaching")})))){e.next=16;break}return r.Z.increment("web_service_worker.clear_app_shell.precache.exist",c,{source:t||"unknown"}),e.next=11,window.caches.open(i);case 11:e.sent.delete(a),r.Z.increment("web_service_worker.clear_app_shell.delete",c,{source:t||"unknown"}),e.next=17;break;case 16:r.Z.increment("web_service_worker.clear_app_shell.precache.not_exist",c,{source:t});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=navigator.serviceWorker,r.Z.increment("web_service_worker.install",c),!t||!t.register){e.next=15;break}return e.prev=3,e.next=6,t.register("/sw.js");case 6:return n=e.sent,r.Z.increment("web_service_worker.install.success",c),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(3),r.Z.increment("web_service_worker.install.error",c),e.t0;case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=navigator.serviceWorker,r.Z.increment("web_service_worker.update",c),!t||!t.getRegistration){e.next=25;break}return e.next=5,t.getRegistration();case 5:if(!(n=e.sent)){e.next=21;break}return r.Z.increment("web_service_worker.update.registration.exist",c),e.prev=8,e.next=11,n.update();case 11:return r.Z.increment("web_service_worker.update.success",c),e.abrupt("return",n);case 15:throw e.prev=15,e.t0=e.catch(8),r.Z.increment("web_service_worker.update.fail",c),e.t0;case 19:e.next=25;break;case 21:return r.Z.increment("web_service_worker.update.registration.not_exist",c),e.next=24,u();case 24:return e.abrupt("return",e.sent);case 25:return e.abrupt("return",void 0);case 26:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function h(e){return y.apply(this,arguments)}function y(){return(y=i(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=navigator.serviceWorker,r.Z.increment("web_service_worker.unregister",c,{source:t||"unknown"}),!n||!n.getRegistration){e.next=21;break}return e.prev=3,e.next=6,n.getRegistration();case 6:if(!(o=e.sent)){e.next=15;break}return r.Z.increment("web_service_worker.unregister.registration.exist",c,{source:t||"unknown"}),e.next=11,o.unregister();case 11:r.Z.increment("web_service_worker.unregister.success",c,{source:t||"unknown"}),s(t),e.next=16;break;case 15:r.Z.increment("web_service_worker.unregister.registration.not_exist",c,{source:t||"unknown"});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),r.Z.increment("web_service_worker.unregister.fail",c,{source:t||"unknown"});case 21:return e.abrupt("return",void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}},735422:function(e,t,n){"use strict";n.d(t,{$J:function(){return E},AP:function(){return M},Dm:function(){return A},Fv:function(){return x},H$:function(){return D},In:function(){return L},Ng:function(){return j},Wj:function(){return N},_P:function(){return T},go:function(){return S}});var r=n(126098),o=n(214494),i=n(550858),a=n(30287),c=n(53987),s=n(867820),l=n(844974);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,f="home",h="closeup",y="news_hub",v="board",m="profile",_="topic",b="today",g="business",w="search",P="_push",O=function(e){e.onupdatefound=function(){(0,s.My)("mweb_service_worker.update_found")}},S=function(){return Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller)},x=function(){return new Promise((function(e,t){if(p){var n=navigator.serviceWorker,r=p.getState().session,o=r.pwaType,i=r.twaType,c=new URLSearchParams({source_url:window.location.pathname});o&&i&&(0,a.Rx)(i)&&(c.append("pwa_type",o),c.append("twa_type",i)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&c.append("referrer",document.referrer),n&&n.register?((0,s.My)("mweb_service_worker.install_attempt"),n.register("/sw.js?".concat(c.toString())).then((function(t){(0,s.My)("mweb_service_worker.install_success"),O(t),e(t)})).catch((function(e){(0,s.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()}else e()}))},j=function(){return new Promise((function(e,t){var n=navigator.serviceWorker;n&&n.getRegistration?((0,s.My)("mweb_service_worker.update_attempt"),n.getRegistration().then((function(n){n?n.update().then((function(){(0,s.My)("mweb_service_worker.update_success"),O(n),e(n)})).catch((function(e){(0,s.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):x().then(e)}))):e()}))},E=function(){var e,t=null===(e=p)||void 0===e?void 0:e.getState().session.isAuthenticated;(0,s.My)("mweb.".concat(t?"auth":"unauth",".register_service_worker")),x()},A=function(){var e=navigator.serviceWorker;return e&&e.getRegistration?((0,s.My)("mweb_service_worker.unregister_attempt"),(0,i.Qi)(),e.getRegistration().then((function(e){if(e)return e.unregister().then((function(){return(0,s.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((function(e){var t=e.find((function(e){return e.startsWith("workbox-precaching")}));return t?window.caches.delete(t):null})).then((function(){return(0,s.My)("mweb_service_worker.clear_app_shell")})):Promise.resolve()})).catch((function(e){(0,s.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},T=function(){return!(!S()||!("SyncManager"in window))},I=function(e){return(0,c.C$)(e)?f:(0,c.L6)(e)?h:(0,c.l4)(e)?y:(0,c.am)(e)?v:(0,c.cD)(e)?m:(0,c.En)(e)?w:(0,c.$V)(e)?_:(0,c.Zz)(e)?b:(0,c.Ni)(e)?g:"undefined"},k=function(e){switch(I(e)){case f:return{viewType:1,viewParameter:92};case h:return{viewType:3,viewParameter:void 0};case y:return{viewType:107,viewParameter:3081};case v:return{viewType:5,viewParameter:void 0};case w:return{viewType:2,viewParameter:43};case _:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case g:return{viewType:409,viewParameter:3397};case b:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},R=function(e,t){var n,r;return(0,s.tj)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({browser:null===(n=p)||void 0===n?void 0:n.getState().session.browser,version:Math.floor(parseInt(null===(r=p)||void 0===r?void 0:r.getState().session.browserVersion,10))},t))},C=(0,r.Z)(),D="default"===C||"granted"===C,N=function(e,t,n,r){var i=navigator.serviceWorker,a=Boolean((0,l.qn)(P)),c={experimentName:n||"noExperiment",experimentGroup:r||"noGroup"};return i&&i.ready&&D&&!a?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:n,experiment_group:r}}),R("mweb.notifications_upsell.".concat(I(e),".viewed"),c),i.ready.then((function(e){return e.pushManager.subscribe({userVisibleOnly:!0})})).then((function(n){return function(e,t,n,r){o.Z.create("WebPushDeviceResource",{}).callGet().then((function(t){var n=function(e){var t,n=e.subscriptionId,r=e.endpoint;return n||(t=r.split("/"))[t.length-1]}(e);if(!t.resource_response.data[n]){var r={registration_id:n,subscription_endpoint:e.endpoint};o.Z.create("WebPushDeviceResource",r).callCreate()}})),(0,l.Nh)(P,"subscribed"),R("mweb.notifications_upsell.".concat(I(t),".subscribed"),n);var i=k(t);r({component:13125,element:10357,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})}(n,e,c,t)}),(function(){return function(e,t,n){(0,l.Nh)(P,"denied"),R("mweb.notifications_upsell.".concat(I(e),".denied"),t);var r=k(e);n({component:13125,element:10358,event_type:102,view_type:r.viewType,view_parameter:r.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})}(e,c,t)}))):Promise.resolve()},L=function(e){p=e},M=function(e){var t=e.isAuthenticated,n=e.isAppShell,r=!1,o=function(e){if(!r){r=!0;var o="".concat(n?"warm":"cold",".").concat(t?"auth":"unauth");(0,s.My)("mweb_service_worker.appshell_status.".concat(o,".").concat(e))}},i=navigator.serviceWorker,a=null==i?void 0:i.controller;i&&a?setTimeout((function(){return o("timeout")}),1e3):o("no_worker")}},835209:function(e,t,n){"use strict";function r(e){var t=e.richPinData,n=void 0===t?{}:t;return((null==n?void 0:n.products)||[])[0]}n.d(t,{Z:function(){return r}})},53325:function(e,t,n){"use strict";n.d(t,{$O:function(){return c},GZ:function(){return l},OE:function(){return u},Xv:function(){return s},Z0:function(){return r},_z:function(){return i},fM:function(){return a},qA:function(){return o},zX:function(){return d}});var r=40,o=4,i=106,a=133,c=.1,s=10,l=246,u=197,d=236},31149:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,r.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,r.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,r.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,r.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,r.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,r.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,r.jsx)("stop",{stopColor:"#09F"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,r.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},464240:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,r.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},867060:function(e,t,n){"use strict";var r,o,i,a;function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{LO:function(){return u},Pu:function(){return d},cc:function(){return s},dB:function(){return l},yF:function(){return p}});var s=(c(r={},10,13098),c(r,11,13099),c(r,6,13100),c(r,5,13101),c(r,14,13102),c(r,12,13103),c(r,15,13104),c(r,8,13105),c(r,4,13106),c(r,1,13107),c(r,3,13107),c(r,18,13108),c(r,19,13109),c(r,20,13110),c(r,21,13111),c(r,22,13112),c(r,23,13113),c(r,26,13114),c(r,27,13115),c(r,29,13116),c(r,9,13286),r),l=(c(o={},10,13415),c(o,11,13416),c(o,6,13417),c(o,5,13418),c(o,14,13419),c(o,12,13420),c(o,15,13421),c(o,8,13422),c(o,4,13423),c(o,1,13424),c(o,3,13424),c(o,18,13425),c(o,19,13426),c(o,20,13427),c(o,21,13428),c(o,22,13429),c(o,23,13430),c(o,26,13431),c(o,27,13432),c(o,29,13433),c(o,9,13434),o),u=(c(i={},10,13436),c(i,11,13437),c(i,6,13438),c(i,5,13439),c(i,14,13440),c(i,12,13441),c(i,15,13442),c(i,8,13443),c(i,4,13444),c(i,1,13445),c(i,3,13445),c(i,18,13446),c(i,19,13447),c(i,20,13448),c(i,21,13449),c(i,22,13450),c(i,23,13451),c(i,26,13452),c(i,27,13453),c(i,29,13454),c(i,9,13455),i),d=(c(a={},10,13457),c(a,11,13458),c(a,6,13459),c(a,5,13460),c(a,14,13461),c(a,12,13462),c(a,15,13463),c(a,8,13464),c(a,4,13465),c(a,1,13466),c(a,3,13466),c(a,18,13467),c(a,19,13468),c(a,20,13469),c(a,21,13470),c(a,22,13471),c(a,23,13472),c(a,26,13473),c(a,27,13474),c(a,29,13475),c(a,9,13476),a),p={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},223815:function(e,t,n){"use strict";n.d(t,{U:function(){return a},Z:function(){return c}});var r=n(755742),o=n(515198),i=function(){},a=function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function c(e){var t=e.allowClickAndDrag,n=e.allowEsc,c=e.allowMediaPlay,s=e.allowScroll,l=e.children,u=function(e){return function(e,t){t&&e.keyCode===r.Z.ESCAPE||a(e)}(e,n)};return(0,o.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:i,onCanPlay:c?i:a,onCanPlayThrough:a,onChange:a,onClick:t?i:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:i,onInput:a,onInvalid:a,onKeyDown:u,onKeyPress:u,onKeyUp:u,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:t?i:a,onMouseOut:a,onMouseOver:a,onMouseUp:t?i:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?i:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:t?i:a,onTouchMove:t?i:a,onTouchStart:t?i:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:l})}},238381:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(231486),o=n(172071),i=n(700380);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)}))}}var f={get:[],set:[],remove:[]},h={get:new Set,set:new Set,remove:new Set};function y(){return(y=p(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.get.length||f.set.length||f.remove.length){e.next=2;break}return e.abrupt("return");case 2:return t=l({},f),f={get:[],set:[],remove:[]},e.prev=4,e.next=7,fetch("https://".concat(window.location.hostname,"/_/_/storage_report/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({"storage-report":t})});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),f=l({},t),o.Z.increment("webapp.storage_report.fetch_error",.01);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}var v=(0,i.Z)((function(){return y.apply(this,arguments)}),3e4);function m(){return(m=p(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h[t].has(n)){e.next=2;break}return e.abrupt("return");case 2:return h[t].add(n),f=l(l({},f),{},u({},t,[].concat(a(f[t]),[n]))),e.next=6,v();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e,t){return m.apply(this,arguments)},b=n(226198);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}var O=function(){function e(t){g(this,e),this._cookie=t}return P(e,[{key:"length",value:function(){var e=r.U2(this._cookie),t=e?JSON.parse(e):{};return Object.keys(t).length}},{key:"getItem",value:function(e){var t=r.U2(this._cookie);return(t?JSON.parse(t):{})[e]}},{key:"setItem",value:function(e,t){var n=r.U2(this._cookie),o=n?JSON.parse(n):{};o[e]=t,r.t8(this._cookie,JSON.stringify(o))}},{key:"removeItem",value:function(e){var t=r.U2(this._cookie),n=t?JSON.parse(t):{};delete n[e],r.t8(this._cookie,JSON.stringify(n))}},{key:"prependItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=this.getItem(e),o=Array.isArray(r)?r:[];o.unshift(t),o.length>n&&o.pop(),this.setItem(e,o)}},{key:"clear",value:function(){r.zN(this._cookie.name)}}]),e}(),S=function(){function e(){g(this,e)}return P(e,[{key:"length",value:function(){return window.sessionStorage.length}},{key:"getItem",value:function(e){var t=window.sessionStorage.getItem(e);return null!==t?JSON.parse(t):null}},{key:"setItem",value:function(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))}},{key:"removeItem",value:function(e){window.sessionStorage.removeItem(e)}},{key:"prependItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=window.sessionStorage.getItem(e),o=r?JSON.parse(r):[];o.unshift(t),o.length>n&&o.pop(),window.sessionStorage.setItem(e,JSON.stringify(o))}},{key:"clear",value:function(){window.sessionStorage.clear()}}]),e}(),x=function(){function e(){g(this,e)}return P(e,[{key:"length",value:function(){return window.localStorage.length}},{key:"getItem",value:function(e){var t=window.localStorage.getItem(e);return _("get",e),null!==t?JSON.parse(t):t}},{key:"setItem",value:function(e,t){window.localStorage.setItem(e,JSON.stringify(t)),_("set",e)}},{key:"removeItem",value:function(e){window.localStorage.removeItem(e),_("remove",e)}},{key:"prependItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=window.localStorage.getItem(e),o=r?JSON.parse(r):[];o.unshift(t),o.length>n&&o.pop(),window.localStorage.setItem(e,JSON.stringify(o)),_("set",e)}},{key:"clear",value:function(){window.localStorage.clear()}}]),e}(),j=function(e){var t,n=e.type;try{t="session"===n?window.sessionStorage:window.localStorage}catch(a){t=null}var r="session"===n?b.Gl:b.sy,o=!1,i=t;if(i)try{i.setItem("testing","test"),i.removeItem("testing")}catch(a){if(a.code!==window.DOMException.QUOTA_EXCEEDED_ERR||0!==i.length)throw a;o=!0}else o=!0;return o?new O(r):"session"===n?new S:new x}},957161:function(e,t,n){"use strict";var r=(0,n(238381).Z)({type:"local"});t.Z=r},696157:function(e,t,n){"use strict";n.d(t,{E9:function(){return s},F6:function(){return f},MM:function(){return O},MS:function(){return r},On:function(){return p},SI:function(){return w},TJ:function(){return l},TO:function(){return d},W3:function(){return c},WM:function(){return g},XC:function(){return _},XS:function(){return S},Y9:function(){return v},Yp:function(){return h},_b:function(){return o},_l:function(){return m},bY:function(){return u},co:function(){return j},e9:function(){return i},iu:function(){return b},kl:function(){return P},om:function(){return a},ou:function(){return x},qo:function(){return y}});var r="visitedPagesBeforeLogin",o="_lastVisitedPages",i="visitedPinLandingPagesBeforeLogin",a="visitedBoardLandingPagesBeforeLogin",c="lastVisitedPage",s="unauthTopicsFollowed",l="unauthPins",u="unauthHybridLoginModalView",d="unauthHybridClickthroughCount",p="unauthHybridClickthroughTS",f="signupTime",h="signupInterestsPickerScrollDown",y="signupTriedSkipInputName",v="signupTriedSkipGender",m="signupInterestsPickerStartTime",_="signupUserLocale",b="signupUserCountry",g="uoiou",w="unauthRevisitation",P="urh",O="lineOAuthOneTimeCode",S="unlinkNetwork",x="mfapc",j="logoutPending"},844974:function(e,t,n){"use strict";n.d(t,{L_:function(){return o},Nh:function(){return i},qn:function(){return r}});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},o=function(e){try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},i=function(e,t){try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},339363:function(e,t,n){"use strict";n.d(t,{L_:function(){return o},Nh:function(){return i},qn:function(){return r}});var r=function(e,t){if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(n){return window.console.error("Cannot access sessionStorage."),t}},o=function(e){if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},i=function(e,t){if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(n){window.console.error("Cannot access sessionStorage.")}}},124364:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(898781),o=n(908390),i=n(515198);function a(e){var t=e.height,n=e.isDenseView,a=e.rounding,c=e.width,s=(0,r.ZP)();return(0,i.jsx)(o.xu,{color:"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:a,overflow:"hidden",width:c,height:t,"data-test-id":"unavailable-pin",children:(0,i.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,i.jsx)(o.xu,{paddingY:n?2:4,children:(0,i.jsx)(o.JO,{accessibilityLabel:s._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,i.jsx)(o.xv,{weight:"bold",children:s._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!n&&(0,i.jsx)(o.xu,{paddingY:1,children:(0,i.jsx)(o.xv,{children:s._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},858416:function(e,t,n){"use strict";n.d(t,{Wr:function(){return h},Hx:function(){return v},RC:function(){return y}});var r=n(76911),o=n(311541),i=n(425288),a=n(924687),c=n(515198);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){return Promise.resolve().then(n.bind(n,924687))},d=(0,i.Z)("IdeaPinVideoPlayer"),p=d.Provider,f=d.useHook;function h(e){var t=e.children,n=s((0,o.Z)(u,a.initialState),2),i=n[0],l=n[1],d=(0,r.useMemo)((function(){return{dispatch:l,ideaPinVideoPlayerControls:i}}),[l,i]);return(0,c.jsx)(p,{value:d,children:t})}function y(){var e=f().dispatch;return(0,r.useMemo)((function(){return{updateSeekTime:function(t,n){e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:function(t){e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:function(t){e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:function(t){e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:function(t){e({type:"UPDATE_DURATION",payload:{duration:t}})}}}),[e])}function v(){return f().ideaPinVideoPlayerControls}},924687:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:function(){return c},initialState:function(){return a}});var a={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEEK_TIME":return o(o({},e),{},{seekTimes:o(o({},e.seekTimes),{},i({},t.payload.pinId,t.payload.seekTime)),seekTime:t.payload.seekTime});case"CLEAR_SEEK_TIME":return o(o({},e),{},{seekTimes:{},seekTime:void 0});case"UPDATE_SEEKING_IDEA_PIN":return o(o({},e),{},{isSeekingIdeaPin:t.payload.isSeekingIdeaPin});case"UPDATE_CURRENT_TIME":return o(o({},e),{},{currentProgressInfo:o(o({},e.currentProgressInfo),{},{currentTime:t.payload.currentTime})});case"UPDATE_DURATION":return o(o({},e),{},{currentProgressInfo:o(o({},e.currentProgressInfo),{},{duration:t.payload.duration})});default:return e}}},936776:function(e,t){"use strict";var n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.Z=function(e){return n.test(e)}},927104:function(e,t){"use strict";t.Z=function(e,t){return e.length>t?e.substr(0,t-3).trim()+"":e}},883561:function(e,t,n){"use strict";n.d(t,{ZP:function(){return r}});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||o)t=e.substring(0,n);else{var i=e.lastIndexOf(" ",n);t=e.substring(0,i)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},841726:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});function r(e,t){var n=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,t){return n.indexOf("<"+t.toLowerCase()+">")>-1?e:""}))}t.Z=function(e){return e.replace(/(<([^>]+)>)/gi,"")}},70061:function(e,t,n){"use strict";function r(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))}n.d(t,{Z:function(){return r}})},966113:function(e,t,n){"use strict";n.d(t,{$B:function(){return w},$h:function(){return $},AH:function(){return nt},Ay:function(){return a},Bd:function(){return J},C5:function(){return xe},Cm:function(){return Se},Et:function(){return A},F2:function(){return g},FH:function(){return re},GE:function(){return U},GH:function(){return C},Gx:function(){return rt},HH:function(){return $e},Hk:function(){return Re},Hl:function(){return Ae},Hm:function(){return P},Hv:function(){return x},IA:function(){return We},JR:function(){return F},Jb:function(){return X},Jq:function(){return ae},Js:function(){return B},KD:function(){return l},KU:function(){return N},K_:function(){return z},LU:function(){return p},Lq:function(){return u},Ml:function(){return Me},Mo:function(){return Y},Ms:function(){return me},Mv:function(){return Te},N1:function(){return at},NW:function(){return k},PR:function(){return be},Pe:function(){return Je},QL:function(){return tt},R_:function(){return m},Rf:function(){return H},SN:function(){return Ve},Sr:function(){return I},T1:function(){return Xe},TA:function(){return i},TM:function(){return ze},To:function(){return Ee},U5:function(){return ve},UF:function(){return he},UX:function(){return Le},Uc:function(){return _e},Um:function(){return Ce},V$:function(){return ue},VO:function(){return De},Vg:function(){return ie},W3:function(){return Be},W_:function(){return He},Wg:function(){return T},X1:function(){return d},X9:function(){return o},XV:function(){return Ye},ZB:function(){return Q},ZE:function(){return K},_I:function(){return q},_O:function(){return te},_P:function(){return O},au:function(){return L},c9:function(){return M},cC:function(){return Ke},cD:function(){return we},cP:function(){return Pe},cv:function(){return se},dF:function(){return ot},eD:function(){return Oe},fP:function(){return Ie},gO:function(){return G},hX:function(){return pe},hw:function(){return _},iC:function(){return E},iY:function(){return fe},lf:function(){return v},lq:function(){return ne},lw:function(){return de},m7:function(){return ye},mB:function(){return qe},mI:function(){return Qe},mx:function(){return h},nB:function(){return ge},o1:function(){return Ze},oi:function(){return s},q4:function(){return je},qe:function(){return b},rO:function(){return et},rT:function(){return y},ru:function(){return Fe},sX:function(){return R},sr:function(){return ce},tS:function(){return ke},t_:function(){return le},tq:function(){return j},v0:function(){return it},v3:function(){return V},vB:function(){return f},vK:function(){return Ue},w0:function(){return Ne},wU:function(){return Z},wq:function(){return Ge},x$:function(){return c},yF:function(){return ee},z:function(){return D},zX:function(){return S},zw:function(){return W},zz:function(){return oe}});var r=n(401060),o="".concat((0,r.Z)({site:"sterling",path:"/conversions/tag"})),i="".concat((0,r.Z)({site:"sterling",path:"/?redirect=PINTEREST_TAG"})),a="https://business.pinterest.com/verified-merchant-program",c="https://apps.shopify.com/pinterest-1",s="https://woocommerce.com/products/pinterest-for-woocommerce/",l="/business/convert/",u="/_/_/help/",d="https://help.pinterest.com/business/article/report-offline-conversion-events",p="https://help.pinterest.com/business/article/modeled-conversions",f="https://help.pinterest.com/article/merchant-details",h="https://www.pinterest.com/_/_/help/business/article/third-party-and-dynamic-tracking",y="/settings/account-settings/",v="/password/reset/",m="https://www.pinterest.com/_/_/policy/privacy-policy/",_="https://www.pinterest.com/_/_/policy/copyright/",b="https://www.pinterestcareers.com/",g="https://www.pinterest.com/_/_/policy/terms-of-service/",w="https://policy.pinterest.com/de/impressum/",P="/business/create/",O="https://www.pinterest.com/_/_/help/articles/claim-your-website",S="https://www.pinterest.com/settings/claim",x="https://www.pinterest.com/_/_/help/business/article/bulk-upload-video-pins",j="https://www.pinterest.com/_/_/help/business/article/conversion-insights",E="https://www.pinterest.com/_/_/help/business/article/pinterest-tag-implementation-overview",A="https://www.pinterest.com/_/_/help/business/article/enhanced-match",T="https://www.pinterest.com/_/_/help/business/article/automatic-enhanced-match",I="https://www.pinterest.com/_/_/help/business/article/share-and-manage-access-to-your-ad-accounts",k="https://www.pinterest.com/_/_/business/",R="https://www.pinterest.com/_/_/help/articles/pinterest-analytics",C="274266067164",D="1655662257",N="ads.pinterest.com",L="".concat((0,r.Z)({site:"sterling"})),M="https://pinterest.onelink.me/TVSr/dwebios",B="https://pinterest.onelink.me/TVSr/dwebandroid",Z="/_/_/about/",z="https://www.pinterest.com/_/_/help/articles/block-or-unblock-someone",U="/about/copyright/dmca-pin/",F="https://tagmanager.google.com",V="694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",G="https://www.pinterest.com/_/_/help/",H="https://business.pinterest.com",W="https://www.pinterest.com/pin/12345/",q="https://www.pinterest.com/_/_/policy/cookies/",Y="https://www.pinterest.com/_/_/business/content/creative-best-practices",K="/login/",X="https://help.pinterest.com/contact",$="https://developers.pinterest.com/docs/conversions/conversion-management/",J="https://developers.pinterest.com/docs/api/v5/",Q="https://policy.pinterest.com/merchant-guidelines",ee="".concat((0,r.Z)({site:"sterling",path:"/promoted_pin_v2/campaign/"})),te="".concat((0,r.Z)({site:"analytics"})),ne="".concat((0,r.Z)({site:"analytics",path:"/audience-insights/"})),re="".concat((0,r.Z)({site:"analytics",path:"/overview/"})),oe="https://trends.pinterest.com",ie="https://trends-internal.pinadmin.com",ae="".concat((0,r.Z)({site:"www"}),"/advertiser/quick-promote"),ce="https://www.pinterest.com/business/verified-merchant/status",se="https://policy.pinterest.com/notice-at-collection",le="https://careers.pinterest.com/",ue="https://www.pinterest.com/_/_/business/business-terms-of-service/",de="https://www.pinterest.com/_/_/help/",pe="https://help.pinterest.com/?context=business",fe="https://developers.pinterest.com",he="https://www.pinterest.com/_/_/help/articles/promoted-pins",ye="https://help.pinterest.com/article/promoted-pins",ve="/_/_/policy/terms-of-service/",me="https://policy.pinterest.com/community-guidelines",_e="https://business.pinterest.com/business-terms-of-service",be=["CA"],ge=["CA"],we="https://accounts.pinterest.com",Pe="https://www.pinterest.com/_/_/help/contact",Oe="https://business.pinterest.com/pinterest-advertising-services-agreement",Se="https://www.pinterest.com/_/_/business/Pinterest-product-specs",xe="https://www.pinterest.com/_/_/help/business/article/pinterest-product-specs",je="https://www.pinterest.com/_/_/help/business/article/story-pins",Ee="https://help.pinterest.com/business/article/audience-targeting",Ae="https://pinterest.com/_/_/help/article/your-privacy-and-data-settings",Te="https://pinterest.com/_/_/help/article/update-your-search-privacy",Ie="https://pinterest.com/_/_/help/article/personalization-and-data#info-ad",ke="https://www.pinterest.com/_/_/help/article/third-party-analytics-or-advertising-providers-pinterest-uses-or-allows",Re="https://help.pinterest.com/business/article/about-catalogs",Ce="https://help.pinterest.com/business/article/data-source-setup",De="https://help.pinterest.com/business/article/data-source-ingestion",Ne="https://help.pinterest.com/business/article/create-product-groups",Le="https://help.pinterest.com/en/business/article/before-you-get-started-with-catalogs#section-9441",Me="https://help.pinterest.com/en/business/article/promote-your-product-groups",Be="https://pinterest.com/_/_/help/landing/request-a-feature",Ze="https://www.pinterest.com/_/_/help/business/article/video-pins",ze="ms-windows-store://pdp/?productid=9PFHDSF91B9R",Ue="https://www.pinterest.com/_/_/newsroom/",Fe="https://www.pinterest.com/_/_/policy/",Ve="https://help.pinterest.com/business/article/ad-only-profiles",Ge="https://www.pinterest.com/_/_/help/business/article/set-up-the-pinterest-tag",He="https://www.pinterest.com/_/_/help/business/article/install-the-pinterest-tag",We="https://www.pinterest.com/_/_/help/business/article/google-tag-manager-and-pinterest-tag",qe="https://www.pinterest.com/_/_/help/business/article/squarespace-and-pinterest-tag",Ye="https://www.pinterest.com/_/_/help/business/article/bigcommerce-and-pinterest-tag",Ke="https://help.pinterest.com/business/article/before-you-get-started-with-catalogs",Xe="https://help.pinterest.com/business/article/verified-merchant-program",$e="".concat((0,r.Z)({site:"sterling",path:"/conversions/tag-health"})),Je="".concat((0,r.Z)({site:"analytics",path:"/conversion-insights/"})),Qe="https://pinterest.com/_/_/help/article/manage-your-linked-business-account",et="/add-account",tt="/settings/account-settings/",nt="/settings/personal-information",rt="/settings/privacy",ot="".concat((0,r.Z)({site:"sterling",path:"/recommendations"})),it="/business/hub",at="https://pinterest.com/_/_/help/article/protect-your-account"},700380:function(e,t,n){"use strict";function r(e,t){var n,r=function(){n||(e.apply(void 0,arguments),n=setTimeout((function(){return n=null}),t))};return r.cancel=function(){void 0!==n&&clearTimeout(n)},r}n.d(t,{Z:function(){return r}})},784641:function(e,t,n){"use strict";n.d(t,{E5:function(){return l},T7:function(){return i},Y_:function(){return u},bl:function(){return c},d9:function(){return p},nx:function(){return d},xt:function(){return s}});var r=n(19121),o=n(780280);n(908390);function i(e,t,n,r){var o=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),i=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(n);return"/today/".concat(o,"/").concat(encodeURIComponent(i),"/").concat(r,"/")}var a={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function c(){var e,t=(0,o.B)(),n=(0,r.Z)(),i=n.isAuth?n.country:t.country,c=t.locale.substring(0,2);return null===(e=a[c])||void 0===e?void 0:e.includes(i)}var s=function(e,t,n){return e||(t||n||"")},l=function(e,t){return e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},u=function(e){return"todayarticle"===e.type},d=function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"story"===e.type}))},p=function(e){var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)}},482981:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(784641);function o(e){var t=e.article_creator_user,n=e.display_type,o=e.feed_source,i=e.header_pin_id,a=e.id,c=e.is_product_pin_feed,s=e.title,l=e.video_pin;switch(n){case 0:case 1:return s?(0,r.T7)(o,null!=c&&c,s,a):"";case 8:return null!=t&&t.username?"/".concat(encodeURIComponent(t.username),"/"):"";case 3:case 6:return i?"/pin/".concat(i,"/"):"";case 2:return null!=l&&l.id?"/pin/".concat(l.id,"/"):"";default:return""}}},867820:function(e,t,n){"use strict";n.d(t,{yl:function(){return h},qJ:function(){return v},Nc:function(){return w},dy:function(){return P},NC:function(){return g},My:function(){return _},tj:function(){return m}});var r=n(214494);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="unauthHistories",a="authHistories",c="trackHistoryClickInternalUrl";var s=n(339363);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,f=[];function h(e){f.length&&(r.Z.create("UserRegisterTrackActionResource",{actions:f}).callUpdate({showError:!1,async:!e}),f=[],p=null)}function y(e,t){var n=(0,s.qn)(c);if((0,s.L_)(c),!n){var r=(0,s.qn)(e);if((r=r?r.split(","):[]).length){var o="".concat(t,".").concat(r.reduce((function(e,t){return e+"-"+t})));f.push({name:o,aux_data:{}})}(0,s.L_)(e)}}var v=function(e){y(i,e),y(a,"".concat(e,"_auth")),f.length&&h(!0)};function m(e,t){var n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==n.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),f.push({name:n,aux_data:t}),p||(p=setTimeout((function(){return h()}),5e3)),function(e,t){if("undefined"!=typeof window)try{var n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){var r=window.PINTEREST_DEV_REGEX||"";r&&!(e||"").match(r)||(t&&"object"===o(t)&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(i){}}(e,t)}function _(e,t){m(e,{tags:t?u({},t):Object.freeze({})})}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("undefined"!=typeof window){var r=(0,s.qn)(e);(r=r?r.split(","):[]).push(t),(0,s.Nh)(e,r.join()),e!==a&&_("lex.".concat(t)),n&&(0,s.Nh)(c,!0)}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b(i,e,t)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b(a,e,t)}var P=function(e){var t=e.event,n=e.provider;_("pinner_conversion.autologin.".concat(n,".").concat(t))}},52022:function(e,t,n){"use strict";n.d(t,{S:function(){return c},Z:function(){return s}});var r=n(76911),o=n(867820),i=n(53987),a=n(609500),c=function(e){return(0,i.L6)(e)?"pin":(0,i.am)(e)?"board":(0,i.Xn)(e)?"login":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.dr)(e)?"ideas":(0,i.gT)(e)?"ideas-root":(0,i.tZ)(e)?"videos":(0,i.$Y)(e)?"article":(0,i.E0)(e)?"shopping-spotlight":(0,i.Zz)(e)?"today":(0,i.j8)(e)?"unauth-profile":(0,i.f1)(e)?"shopping-root":(0,i.OX)(e)?"shopping-category":"other"};function s(){var e=(0,a.useLocation)();return(0,r.useCallback)((function(t){var n=t.action,r=t.item,i=t.within,a=c(e);(0,o.My)("logged_out_product.interaction.".concat(a,".").concat(n),{item:r||"none",within:i||"none"})}),[e])}},207112:function(e,t,n){"use strict";var r=n(76911),o=n(908390),i=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,a,c,p=d(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),y(f(t=p.call(this,e)),"state",{manualTruncate:!1}),t.ref=(0,r.createRef)(),t}return t=h,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.maxHeightPx,r=e.shaveOptions,o=void 0===r?{}:r,i=this.ref&&this.ref.current;if(i){var a=void 0===i.textContent?"innerText":"textContent",c=i[a];("boolean"!=typeof o.spaces||o.spaces?c.split(" "):c).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,472281)).then((function(e){(0,e.default)(i,t,o)}))}}},{key:"render",value:function(){var e=this.props,t=e.maxWidthPx,n=e.maxHeightPx,r=e.inline,a=void 0!==r&&r,c=this.state.manualTruncate,l={maxWidth:t,maxHeight:n},u=s(a?{display:"inline"}:{},l);return c?(0,i.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:u},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,i.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:u},"data-test-id":"truncater",children:this.props.children})}}])&&l(t.prototype,a),c&&l(t,c),h}(r.Component);t.Z=v},939106:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),o=n(948618),i=n(908390),a=n(515198);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return null!=e}function u(e){var t=e.additionalPadding,n=e.color,s=void 0===n?"darkGray":n,u=e.inline,d=e.items,p=t?(0,a.jsx)("span",{style:{padding:"0 ".concat(4*t,"px")},children:(0,a.jsx)(o.Z,{color:s})}):(0,a.jsx)(o.Z,{color:s}),f=d.filter(l).reduce((function(e,t,n){return[].concat(c(e),[0!==n?p:null,t])}),[]).filter(l).map((function(e,t){return(0,a.jsx)(r.Fragment,{children:e},t)}));return 0===f.length?null:u?(0,a.jsx)(i.xu,{children:f}):(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:f})}},343341:function(e,t,n){"use strict";n.d(t,{F9:function(){return a},Zo:function(){return o},nE:function(){return i}});var r=(0,n(425288).Z)("toastManagerContext"),o=r.Provider,i=r.Consumer,a=r.useHook},579164:function(e,t){"use strict";var n=Object.freeze({SAME_ORIGIN:1,TRUSTED_DIFFERENT_ORIGIN:2,UNTRUSTED:3,INVALID:4});t.Z=n},567831:function(e,t){"use strict";t.Z=function(e,t,n){return e.match(/^https{0,1}:\/\//)?e:(void 0===t&&(t=window.location.protocol),void 0===n&&(n=window.location.hostname,window.location.port&&(n+=":"+window.location.port)),""!==n&&"/"!==e.charAt(0)&&(e="/"+e),t+"//"+n+e)}},794230:function(e,t,n){"use strict";var r=n(643913),o=n(704115),i=n(251819);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e,t){if(!(0,i.Z)(t)){var n=e.split("?"),a=n[0],s=n[1],l=c(c({},s?(0,o.Z)(s):{}),t);return a+"?"+(0,r.Z)(l)}return e}},170168:function(e,t,n){"use strict";n.d(t,{Ag:function(){return i},C0:function(){return s},Vi:function(){return a},YD:function(){return d},kS:function(){return o},oo:function(){return c},p3:function(){return p},vC:function(){return l},vI:function(){return u}});var r=n(401060),o="https://www.pinterest.com/business/hub/",i="https://www.pinterest.com/homefeed/",a="www.pinterest.com",c="https://help.pinterest.com",s="https://www.pinterest.com",l=(0,r.Z)({site:"developers"}),u="".concat((0,r.Z)({site:"sterling"})),d="".concat((0,r.Z)({site:"analytics"})),p="".concat((0,r.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="}))},29538:function(e,t,n){"use strict";n.d(t,{X:function(){return o},c:function(){return r}});var r="pinterest.com",o="pinterdev.com"},323716:function(e,t){"use strict";t.Z=function(){return window.location.pathname+("?"===window.location.search?"":window.location.search)}},250059:function(e,t){"use strict";t.Z=function(e){return e?"string"==typeof e?e:e.pathname?e.pathname:"":""}},643913:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=n,a=e[n];if(void 0!==a){var c=void 0;c=Array.isArray(a)?encodeURIComponent(i)+"=["+a.map((function(e){return encodeURIComponent(e)})).join(",")+"]":"object"===r(a)?o(a):encodeURIComponent(i)+"="+encodeURIComponent(a),t.push(c)}}return t.join("&")}n.d(t,{Z:function(){return o}})},704115:function(e,t,n){"use strict";function r(e){null==e&&"undefined"!=typeof window&&(e=window.location.search);var t={};if(e){"?"===e[0]&&(e=e.substring(1));for(var n=/\+/g,r=/([^&=]+)=?([^&]*)/g,o=function(e){var t=e.replace(n," ");try{t=decodeURIComponent(t)}catch(r){t=unescape(t)}return t},i=r.exec(e);i;){t[o(i[1])]=o(i[2]),i=r.exec(e)}}return t}n.d(t,{Z:function(){return r}})},547239:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},o=n(89254),i=n(579164),a=n(966113),c=n(29538),s=function(e){if("undefined"==typeof window)return i.Z.INVALID;var t=(0,o.Z)(e),n="",s="";try{n=window.location.origin,s=window.location.hostname}catch(p){}if(t.origin===n)return i.Z.SAME_ORIGIN;if(t.hostname===s)return i.Z.TRUSTED_DIFFERENT_ORIGIN;if(t.hostname)for(var l=0,u=[c.c,c.X];l<u.length;l++){var d=u[l];if(t.hostname===d||r(t.hostname||"","."+d))return i.Z.TRUSTED_DIFFERENT_ORIGIN}return t.origin&&"https://www.pinterest.com"===t.origin?i.Z.TRUSTED_DIFFERENT_ORIGIN:"https"!==t.protocol||"pinterest.onelink.me"!==t.host||e!==a.c9&&e!==a.Js?t.origin?i.Z.UNTRUSTED:i.Z.INVALID:i.Z.TRUSTED_DIFFERENT_ORIGIN}},401060:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});new RegExp(/\bdev\b.*/);function r(e){var t=e.site,n=e.path,r=void 0===n?"":n,o="sterling"===t?"ads":t;if(r&&!r.startsWith("/"))throw new Error("".concat(r," needs to start with '/' -- hostForSite() does not append a trailing slash to the host, so all paths should start with '/'"));return"https://".concat(o).concat(".").concat("pinterest.com").concat(r)}},826067:function(e,t,n){"use strict";n.d(t,{Gw:function(){return m},JJ:function(){return h},Jx:function(){return f},OM:function(){return o.Z},Qc:function(){return a.Z},Qg:function(){return c.Z},XP:function(){return v},mB:function(){return y},ru:function(){return r.Z},sD:function(){return _},tV:function(){return g},vx:function(){return i.Z}});var r=n(794230),o=n(547239),i=n(579164),a=n(89254),c=n(954931);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){if(!e)return"";try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return""}},h=function(){var e=window.location,t=e.pathname,n=e.search;return t+("?"===n?"":n)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldDecode:!0};return e?("?"===e[0]&&(e=e.substr(1)),e.split("&").reduce((function(e,n){var r=d(n.split(/=(.+)/),2),o=r[0],i=r[1];return null!=t&&t.shouldDecode?e[f(o)]=f(i):e[o]=i,e}),{})):{}},v=function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")},m=function(e,t){if(0===t.length)return e;var n=d(e.split("?"),2),o=n[0],i=n[1],a=Object.entries(y(i)).filter((function(e){var n=d(e,2),r=n[0];n[1];return!t.includes(r)})).reduce((function(e,t){var n=d(t,2),r=n[0],o=n[1];return l(l({},e),{},u({},r,o))}),{});return(0,r.Z)(o,a)},_=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)};function b(e){return encodeURIComponent(e).replace(/~/g,"%7E").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/!/g,"%21").replace(/\\/g,"%5C").replace(/'/g,"%27")}function g(e){for(var t=e[0],n=0;n<(arguments.length<=1?0:arguments.length-1);n+=1)t+=b(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])+e[n+1];return t}},149230:function(e,t,n){"use strict";var r=n(954931);t.Z=function(e){var t=e.url;return!(!t||!t.match(/^https{0,1}:\/\//)||(0,r.Z)(t))}},954931:function(e,t,n){"use strict";var r=n(547239),o=n(579164);t.Z=function(e){return[o.Z.SAME_ORIGIN,o.Z.TRUSTED_DIFFERENT_ORIGIN].includes((0,r.Z)(e))}},508847:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(567831),o=function(e,t){return 0===e.lastIndexOf(t,0)},i=function(e){var t=e.url,n=(0,r.Z)("/");return o(t,n)?t.substr(n.length-1):t}},188682:function(e){function t(e){for(var n=t.options,r=n.parser[n.strictMode?"strict":"loose"].exec(e),o={},i=14;i--;)o[n.key[i]]=r[i]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(o[n.q.name][t]=r)})),o}t.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:(?<!\\)@]*)(?::([^:@]*))?)?@)?([^:\/?#\\]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.options.strictMode=!0,e.exports=t},89254:function(e,t,n){"use strict";var r=n(188682),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e,t){var n,r,i=o()(e);switch(i.protocol){case"http":case"https":i.userInfo&&(i.userInfo.endsWith("%23")||i.userInfo.endsWith("#"))?(n=i.protocol+"://"+i.userInfo,r=""):i.userInfo?(n=i.protocol+"://"+i.host,r=i.host):(n=i.protocol+"://"+i.authority,r=i.host);break;case"":if(0===i.source.indexOf("//")){if(t)n=null;else try{n=window.location.protocol+"//"+i.authority}catch(c){n=null}r=i.host}else if(t)n=null,r=null;else try{n=window.location.protocol+"//"+window.location.hostname,r=window.location.hostname}catch(c){n=null,r=null}break;default:n=null,r=i.host}return a(a({},i),{},{origin:n,hostname:r})}},327476:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(773285);function o(){var e=(0,r.F)().checkExperiment;return function(t){return e("web_transform_promoted_text").anyEnabled?t.replace(" ","  "):t}}},50286:function(e,t,n){"use strict";n.d(t,{HG:function(){return d},Kf:function(){return a},Mq:function(){return o},Wb:function(){return u},dA:function(){return c},ds:function(){return s},ml:function(){return l}});var r=n(780280);function o(e){var t=e.userAgent,n=t.isMobile;return t.isTablet?"tablet":n?"phone":"desktop"}var i=function(){return o((0,r.B)())},a=function(e){return"phone"===e},c=function(e){return"tablet"===e},s=function(e){return"desktop"===e},l=function(){return a(i())},u=function(){return c(i())},d=function(){return s(i())};t.ZP=i},311541:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76911);function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=(0,r.useRef)([]),a=i((0,r.useState)(),2),c=a[0],s=a[1],l=i((0,r.useReducer)(null!=c?c:function(){return t},t),2),u=l[0],d=l[1],p=(0,r.useCallback)((function(t){c?d(t):(n.current.length||e().then((function(e){s((function(){return e.default}))})),n.current=[].concat(o(n.current),[t]))}),[e,c]);return(0,r.useEffect)((function(){c&&(n.current.forEach(d),n.current=[])}),[c]),[u,p]}},829407:function(e,t,n){"use strict";var r=n(76911);t.Z=function(e){(0,r.useEffect)(e,[])}},215292:function(e,t,n){"use strict";n.d(t,{q:function(){return c}});var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1],i=o((0,r.useState)(!1),2),a=i[0],c=i[1],s=o((0,r.useState)(!1),2),l=s[0],u=s[1];return{active:t,focused:a,hovered:l,onBlur:function(){c(!1),n(!1)},onFocus:function(){return c(!0)},onMouseDown:function(){return n(!0)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){u(!1),n(!1)},onMouseUp:function(){return n(!1)}}};function c(e){return(0,e.children)(a())}t.Z=a},807609:function(e,t,n){"use strict";var r=n(411465),o=n(966476);t.Z=function(){var e=(0,r.Z)(),t=(0,o.Z)();return e&&!t}},411465:function(e,t,n){"use strict";n.d(t,{G:function(){return l},Z:function(){return u}});var r=n(76911),o=n(609500),i=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,r.createContext)(!0);function l(e){var t=e.children,n=(0,o.useLocation)(),c=a((0,r.useState)(!0),2),l=c[0],u=c[1],d=(0,r.useRef)(n);return(0,r.useEffect)((function(){d.current!==n&&(d.current=n,u(!1))}),[n]),(0,i.jsx)(s.Provider,{value:l,children:t})}function u(){return(0,r.useContext)(s)}},19121:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=(0,n(425288).Z)("viewer"),o=r.Provider,i=r.useHook;t.Z=i},357787:function(e,t,n){"use strict";var r=n(76911),o=n(945790),i=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=new Map,m=null,_=function(e){e.forEach((function(e){var t=v.get(e.target);t&&t(e)}))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r=[0,.5,1],o={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:r};m=m||new window.IntersectionObserver(_,o),v.set(e,n),m.observe(e)},g=function(e){return v.has(e)};t.Z=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,t);var n,r,a,p=d(h);function h(){var e;s(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(f(e=p.call.apply(p,[this].concat(n))),"seen",!1),y(f(e),"enter",(function(t){var n=t.intersectionRatio>0||t.isIntersecting;e.seen=n,e.seen&&e.props.onVisibilityChanged(!0)})),y(f(e),"leave",(function(){var t=e._node;t&&g(t)&&e.seen&&(e.props.onVisibilityChanged(!1),e.seen=!1)})),y(f(e),"observe",(function(t){try{e._node=o.findDOMNode(f(e))}catch(i){return}if(e._node){var n=e.props.inAdsDesktopVideoExperiment,r=e._node;b(r,t,(function(t){if(v.has(r)){var o=n?t.intersectionRatio>=.5:t.intersectionRatio>0||t.isIntersecting,i=e.props.trackFullVisible?t.intersectionRatio>=1:o,a=e.props.trackFullVisible?0===t.intersectionRatio:!i;!e.seen&&i?e.enter(t):e.seen&&a&&e.leave()}}))}})),e}return n=h,(r=[{key:"componentDidMount",value:function(){var e=this.props.rootMargin;this.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),function(e){m.unobserve(e),v.delete(e)}(e))}},{key:"render",value:function(){return(0,i.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props))}}])&&l(n.prototype,r),a&&l(n,a),h}(r.Component);return y(t,"displayName","DeprecatedWithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},46584:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76911),o=new Map,i=null,a=function(e){e.forEach((function(e){var t=o.get(e.target);t&&t(e)}))};function c(e){var t=e.onVisibilityChanged,n=e.inAdsDesktopVideoExperiment,c=e.trackFullVisible,s=e.rootMargin,l=(0,r.useRef)(null),u=!1,d=function(){var e;l.current instanceof HTMLElement&&(e=l.current,o.has(e))&&(u&&(t(!1),u=!1))},p=(0,r.useCallback)((function(e){l.current instanceof HTMLElement&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r=[0,.5,1],c={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:r};i=i||new window.IntersectionObserver(a,c),o.set(e,n),i.observe(e)}(l.current,e,(function(e){if(o.has(l.current)){var r=n?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,i=c?e.intersectionRatio>=1:r,a=c?0===e.intersectionRatio:!i;!u&&i?function(e){var n=e.intersectionRatio>0||e.isIntersecting;(u=n)&&t(!0)}(e):u&&a&&d()}}))}),[l.current]);return(0,r.useEffect)((function(){return p(s),function(){var e;l.current instanceof HTMLElement&&(d(),e=l.current,i.unobserve(e),o.delete(e))}}),[p]),l}},562559:function(e,t,n){"use strict";var r=n(76911),o=n(571827),i=n.n(o),a=n(112690),c=n(19121),s=n(965900),l=n(773285),u=n(780280),d=n(908390),p=n(969315),f=n(179888),h=n(858416),y=n(515198),v=["clientTrackingParams","component","durationNs","element","objectId","pairId","viewData","view","viewParameter"];function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e,t){if(t){var n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",n)}return e},I=function(e,t){return"string"==typeof e?T(e,t):Array.isArray(e)?function(e,t){return e[0].src&&t?[j(j({},e[0]),{},{src:T(e[0].src,t)})]:e}(e,t):e},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,o=w(a);function a(){var e;_(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(O(e=o.call.apply(o,[this].concat(n))),"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:f.Cy.DEFAULT,videoStartTime:e.props.seekTime||0}),E(O(e),"errorRetryCount",1),E(O(e),"firstFragBuffered",!1),E(O(e),"hasPlaybackStarted",!1),E(O(e),"hasVideoSessionStarted",!1),E(O(e),"hasVideoSessionEnded",!1),E(O(e),"hls",null),E(O(e),"fragStartupTime",{}),E(O(e),"lastLevelSwitchKbps",null),E(O(e),"lastStallTime",null),E(O(e),"lastPauseTime",null),E(O(e),"logSessionStartOnNextPlay",!1),E(O(e),"playerId",""),E(O(e),"videoSessionId",""),E(O(e),"videoVisibleTime",null),E(O(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof e.props.src?T(e.props.src,e.props.quicExpGroup):T(e.props.src[0].src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),E(O(e),"initializeHls",(function(){e.destroyHls();var t=e.props,n=t.src,r=t.hlsConfig,o=t.quicExpGroup,a=new(i())(r),c=I(n,o);a.loadSource(c),e.videoPlayerRef&&a.attachMedia(e.videoPlayerRef.video),a.on(i().Events.FRAG_BUFFERED,e.handleHlsFragBuffered),a.on(i().Events.FRAG_CHANGED,e.handleHlsFragChanged),a.on(i().Events.FRAG_LOADING,e.handleHlsFragLoading),a.on(i().Events.FRAG_LOADED,e.handleHlsFragLoaded),a.on(i().Events.MANIFEST_PARSED,(function(){e.setState({isManifestParsed:!0})})),a.on(i().Events.LEVEL_SWITCHED,e.handleHlsLevelSwitched),a.on(i().Events.ERROR,e.handleHlsError),e.hls=a})),E(O(e),"destroyHls",(function(){var t=O(e).hls;t&&t.destroy()})),E(O(e),"addSegment",(function(t){var n=e.playbackPerformance.segments,r=n&&n[n.length-1];if(e.hls&&n.length&&r&&r.uri!==t.url){e.updateWatchDurationForCurrentSegment();var o=e.videoPlayerRef&&e.videoPlayerRef.video,i=e.hls&&e.hls.levels||{},a="number"==typeof t.level?i[t.level]:{},c=e.fragStartupTime[t.url],s=-1;c&&c.startLoadTime&&c.endLoadTime&&(s=c.endLoadTime-c.startLoadTime);var l={indicatedKbps:a.bitrate/f.bR,duration:t.duration,level:t.level,lastStartPlayTime:e.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:e.hls&&e.hls.bandwidthEstimate/f.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:t.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:s,switchBitrateKbps:e.lastLevelSwitchKbps||-1,uri:t.url,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};n.push(l)}})),E(O(e),"initializeSegments",(function(t){var n=e.props.contextLogData,r=(void 0===n?{}:n).is_closeup_video,o=void 0!==r&&r,i=e.playbackPerformance.segments;if(!i.length)if(e.hls&&e.videoPlayerRef&&e.videoPlayerRef.video&&t){if(!i.length&&"number"==typeof t.level){var a=e.videoPlayerRef&&e.videoPlayerRef.video,c=e.hls.levels,s="number"==typeof t.level?c[t.level]:{},l=e.fragStartupTime[t.url],u=-1;l&&l.startLoadTime&&l.endLoadTime&&(u=l.endLoadTime-l.startLoadTime),e.lastLevelSwitchKbps=e.hls.bandwidthEstimate/f.bR;var d={indicatedKbps:s.bitrate/f.bR,duration:t.duration,level:t.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:e.hls.bandwidthEstimate/f.bR||-1,playbackStartDate:null,serverAddress:"",sn:t.sn,sourceWidth:s.width,sourceHeight:s.height,startupTimeMs:u,switchBitrateKbps:e.lastLevelSwitchKbps||-1,uri:t.url,viewportWidth:a.clientWidth,viewportHeight:a.clientHeight,watchedDurationMs:0};i.push(d)}}else(0,p.tE)("initializeSegmentsFailed",!0,o)})),E(O(e),"getCurrentVideoTime",(function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*f.gJ:null})),E(O(e),"handleCanPlayVideo",(function(t){var n=e.props,r=n.contextLogData,o=void 0===r?{}:r,i=n.onReady,a=n.playing,c=o.is_closeup_video,s=void 0!==c&&c,l=e.state.canPlayVideo;(0,p.tE)("handleCanPlayVideo",!0,s,{firstCanPlayEvent:!l,playing:a}),e.playbackPerformance.hasFatalError=!1,l||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)})),E(O(e),"handleEnded",(function(t){var n=e.props,r=n.loop,o=n.onEnded,i=e.playbackPerformance.segments,a=i&&i[i.length-1];r&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.fragStartupTime={}):r||e.logPlaybackPerformance(f.$f,{initiator:"videoEnded",loop:r}),e.setState({playbackState:f.Cy.ENDED}),o&&o(t)})),E(O(e),"handleHlsError",(function(t,n){var r,o=e.props.contextLogData,a=(void 0===o?{}:o).is_closeup_video,c=void 0!==a&&a;if(e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat(n.details),n.fatal){var s,l,u,d;e.playbackPerformance.hasFatalError=!0,e.playbackPerformance.errorName=n.type,e.playbackPerformance.errorReason=n.details,e.playbackPerformance.errorCode=n.response&&n.response.code?n.response.code:0;var h={errorName:n.type,errorReason:n.details,errorRetryCount:e.errorRetryCount,errorMessage:(null===(s=n.err)||void 0===s||null===(l=s.message)||void 0===l?void 0:l.slice(0,50))||"unknown",errorResponse:(null===(u=n.response)||void 0===u||null===(d=u.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:e.state.playbackState};if((0,p.tE)("fatalError",!0,c,h),e.errorRetryCount>0)switch(e.errorRetryCount-=1,n.type){case i().ErrorTypes.NETWORK_ERROR:if(n.details===i().ErrorDetails.MANIFEST_LOAD_ERROR||n.details===i().ErrorDetails.MANIFEST_LOAD_TIMEOUT||n.details===i().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var y,v=e.props,m=v.src,_=v.quicExpGroup,b=I(m,_);null===(y=e.hls)||void 0===y||y.loadSource(b)}else{var g;null===(g=e.hls)||void 0===g||g.startLoad()}break;case i().ErrorTypes.MEDIA_ERROR:null===(r=e.hls)||void 0===r||r.recoverMediaError()}}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:f.Cy.FAILED})})),E(O(e),"handleHlsFragBuffered",(function(t,n){e.firstFragBuffered||(e.initializeSegments(n.frag),e.firstFragBuffered=!0)})),E(O(e),"handleHlsFragChanged",(function(t,n){e.addSegment(n.frag)})),E(O(e),"handleHlsFragLoading",(function(t,n){var r,o=null===(r=n.frag)||void 0===r?void 0:r.url;o&&!e.fragStartupTime[o]&&(e.fragStartupTime[o]={startLoadTime:new Date})})),E(O(e),"handleHlsFragLoaded",(function(t,n){var r;n.frag&&n.frag.loaded&&(e.playbackPerformance.downloadedKiloBytes+=n.frag.loaded/f.Fm);var o=null===(r=n.frag)||void 0===r?void 0:r.url;o&&e.fragStartupTime[o]&&e.fragStartupTime[o].startLoadTime&&(e.fragStartupTime[o].endLoadTime=new Date)})),E(O(e),"handleHlsLevelSwitched",(function(){e.hls&&e.hls.bandwidthEstimate&&(e.lastLevelSwitchKbps=e.hls.bandwidthEstimate/f.bR)})),E(O(e),"handleLoadedMetadata",(function(){e.setState({playbackState:f.Cy.LOADED_METADATA})})),E(O(e),"handleLoadStart",(function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:f.Cy.LOAD_START})})),E(O(e),"handleLoadedData",(function(){e.setState({playbackState:f.Cy.LOADED_DATA})})),E(O(e),"handlePlaying",(function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:f.Cy.PLAYING}),e.props.clearSeekTime()})),E(O(e),"handleUserPause",(function(t){var n=e.props.onControlsPause;e.lastPauseTime=new Date,n&&n(t)})),E(O(e),"handleVideoPause",(function(){e.state.playbackState!==f.Cy.STALLING&&e.state.playbackState!==f.Cy.SEEKING&&(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:f.Cy.PAUSED})})),E(O(e),"handleSeeking",(function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&(n.lastStartPlayTime=null),e.state.playbackState!==f.Cy.ENDED&&e.setState({playbackState:f.Cy.SEEKING})})),E(O(e),"handleStalled",(function(){null===e.lastStallTime&&e.state.playbackState!==f.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1),e.setState({playbackState:f.Cy.STALLING})})),E(O(e),"handleTimeUpdate",(function(t){var n=e.props.onTimeChange;n&&n(t),e.state.playbackState===f.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())})),E(O(e),"resetPlaybackMetrics",(function(){e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastLevelSwitchKbps=null,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=j(j({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.downloadedKiloBytes=0,e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]})),E(O(e),"setLastSegmentStartPlayTime",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.lastStartPlayTime&&(n.lastStartPlayTime=e.getCurrentVideoTime())})),E(O(e),"setLastSegmentPlaybackStartDate",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.playbackStartDate&&(n.playbackStartDate=Date.now())})),E(O(e),"setPlaybackStartTime",(function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)})),E(O(e),"setVideoPlayerRef",(function(t){var n=e.props.setVideoRef;if(t&&(n&&n(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var r=e.videoPlayerRef.video;r.addEventListener("loadedmetadata",e.handleLoadedMetadata),r.addEventListener("loadeddata",e.handleLoadedData),r.addEventListener("pause",e.handleVideoPause),r.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}})),E(O(e),"updateStallDuration",(function(){null!==e.lastStallTime&&(e.playbackPerformance.totalStallDurationMs+=new Date-e.lastStallTime,e.lastStallTime=null)})),E(O(e),"updatePauseDuration",(function(){if(null!==e.lastPauseTime){var t=e.lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}})),E(O(e),"updateWatchDurationForCurrentSegment",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1],r=n?n.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(n&&null!==r&&"number"==typeof o&&"number"==typeof r){var i=o-r;i>0&&(n.watchedDurationMs+=i,n.lastStartPlayTime=null)}})),E(O(e),"logPlaybackPerformance",(function(t,n){var r=e.props,o=r.contextLogData,i=void 0===o?{}:o,a=r.userId,c=r.isAutoPlay,s=r.logContextEvent,l=i.is_closeup_video,u=void 0!==l&&l,d=e.playbackPerformance,h=d.canPlayTime,y=d.detailedErrors,_=d.downloadedKiloBytes,b=d.errorCode,g=d.errorName,w=d.errorReason,P=d.hasFatalError,O=d.playbackStartTimestamp,S=d.totalPauseDurationMs,x=d.totalStallDurationMs,E=d.segments,A=d.srcString,T=d.loadStartTime,I=d.numberOfStalls,k=d.numberOfSeeks,R=e.videoPlayerRef&&e.videoPlayerRef.video,C=t===f.DR,D=C&&!e.hasVideoSessionStarted,N=!C&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(e.hls&&R&&(D||N)){var L,M=-1;h&&T&&(M=h>T?h-T:0);var B=-1;h&&e.videoVisibleTime&&(B=h>e.videoVisibleTime?h-e.videoVisibleTime:0),C&&(e.videoSessionId=(0,f.Y7)(a),e.playerId=e.playerId||(0,f.EB)());var Z={autoplaying:c,averageVideoKbps:-1,detailedErrors:y,downloadedKiloBytes:_,isCellular:!1,errorCode:b,errorName:g,errorReason:w,fatalError:P,nativeVideoDurationMs:R.duration*f.gJ||-1,numberOfStalls:I,numberOfSeeks:k,overallPausedDurationMs:S,overallBufferDurationMs:x,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:O||-1,segments:[],sessionMark:t,screenPixelScale:null!==(L=window)&&void 0!==L&&L.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:R.clientWidth,startupPlayerHeight:R.clientHeight,startupTimeMs:M,startupLatencyMs:B,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:R.videoWidth,startupVariantHeight:R.videoHeight,videoUrl:A};if(!C&&E.length){var z=e.hls.levels,U=E[0];e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var F=E.reduce((function(e,t){return t&&"number"==typeof t.level&&z&&z.length>0?e+(z[t.level]||{}).bitrate*(t.watchedDurationMs||0)/f.gJ:e}),0),V=E.reduce((function(e,t){return e+(t.watchedDurationMs||0)}),0),G=null,H=0,W=0;do{H+=E[W].watchedDurationMs,G=G||E[W].level,W+=1}while(W<E.length&&E[W].level===G);Z.startupVariantKbps=U.indicatedKbps,Z.startupVariantWatchedDurationMs=H,Z.startupVariantWidth=U.sourceWidth,Z.startupVariantHeight=U.sourceHeight,Z.startupPlayerWidth=U.viewportWidth,Z.startupPlayerHeight=U.viewportHeight,Z.overallWatchedDurationMs=V,V>0?(Z.averageVideoKbps=F/(V/f.gJ),Z.rebufferRate=e.playbackPerformance.totalStallDurationMs/V):0===V&&(Z.averageVideoKbps=-1,Z.rebufferRate=-1,Z.errorName="invalid_watch_duration"),Z.segments=E}else Z.errorName="invalid_watch_duration";(0,p.ZP)(Z,!0,u,j({playbackState:e.state.playbackState},n));var q=i.clientTrackingParams,Y=i.component,K=i.durationNs,X=i.element,$=i.objectId,J=i.pairId,Q=i.viewData,ee=i.view,te=i.viewParameter;s({aux_data:j(j({},m(i,v)),{},{is_closeup_video:u,playback_session_id:e.videoSessionId}),clientTrackingParams:q,component:Y,duration_ns:K,element:X,event_data:{videoPerformanceData:Z},event_type:3606,object_id_str:$,pair_id:J,view_data:Q,view_parameter:te,view_type:ee}),C?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,p.tE)(C?"sessionStart":"sessionEnd",!0,u,j({playbackState:e.state.playbackState},n))}})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.contextLogData,n=void 0===t?{}:t,r=e.playing,o=n.is_closeup_video,i=void 0!==o&&o;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,i),r&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(f.DR,{initiator:"mount"}))}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props,o=r.loop,i=r.playing,a=r.src,c=r.visible,s=r.appInFocus,l=r.seekTime;l&&l!==e.seekTime&&this.setState({videoStartTime:l}),t=e.src,n=a,(A(t)!==A(n)||(Array.isArray(n)?t.length!==n.length||n.some((function(e,n){return!Array.isArray(t)||e.type!==t[n].type||e.src!==t[n].src})):n!==t))&&this.initializeHls(),e.appInFocus&&!s&&(this.logPlaybackPerformance(f.$f,{initiator:"update",loop:o}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===c&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(f.$f,{initiator:"update",loop:o})),!1===e.visible&&!0===c&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(f.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&s&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(f.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}},{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(f.$f,{initiator:"unmount",loop:e}),this.destroyHls()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,c=e.accessibilityUnmuteLabel,s=e.aspectRatio,l=e.backgroundColor,u=e.captions,p=e.controls,f=e.loop,h=e.loopOverride,v=e.onDurationChange,m=e.onFullscreenChange,_=e.onLoadedChange,b=e.onControlsPlay,g=e.onPlayheadDown,w=e.onPlayheadUp,P=e.onSeek,O=e.onVolumeChange,S=e.playbackRate,x=e.playing,j=e.playsInline,E=e.poster,A=e.preload,T=e.quicExpGroup,k=e.src,R=e.volume,C=this.state,D=C.canPlayVideo,N=C.isManifestParsed,L=C.videoStartTime,M=I(k,T);return(0,y.jsx)(d.nk,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:c,aspectRatio:s,backgroundColor:l,captions:u,controls:p,loop:void 0===h?f:h,onDurationChange:v,onEnded:this.handleEnded,onFullscreenChange:m,onLoadStart:this.handleLoadStart,onLoadedChange:_,onControlsPause:this.handleUserPause,onControlsPlay:b,onPlaying:this.handlePlaying,onPlayheadDown:g,onPlayheadUp:w,onReady:this.handleCanPlayVideo,onSeek:P,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:O,onWaiting:this.handleStalled,playbackRate:S,onPlay:function(){},onPlayError:function(){},playing:N&&D&&x,playsInline:j,poster:E,preload:A,ref:this.setVideoPlayerRef,src:M,startTime:L,volume:R})}}])&&b(t.prototype,n),r&&b(t,r),a}(r.PureComponent);t.Z=(0,r.memo)((function(e){var t=(0,u.B)(),n=t.country,r=t.isAuthenticated,o=t.isBot,i=t.isSocialBot,d=t.unauthId,f=t.userAgent,v=(0,a.Z)(),m=(0,c.Z)(),_=f.browserName,b=f.browserVersion,g=f.isMobile,w=e.contextLogData,P=void 0===w?{}:w,O=P.is_closeup_video,S=void 0!==O&&O,x=P.view,E=P.viewParameter,A=(0,l.F)().checkExperiment,T=(0,h.Hx)().seekTime,I=(0,h.RC)().clearSeekTime,R=null;r&&(R=A("web_video_quic").group.length?A("web_video_quic").group:null);var C=(0,s.I)().appUI,D=A("web_video_fail_to_start_fix").anyEnabled?C.appInFocus:e.appInFocus,N={browserName:_,browserVersion:b,country:n,isAuthenticated:r,isBot:o,is_closeup_video:S,isMobile:g,isSocialBot:i,view:x,viewParameter:E};return(0,p.r$)(N),(0,y.jsx)(k,j(j({},e),{},{userId:m.id||d,appInFocus:D,quicExpGroup:R,logContextEvent:v,seekTime:T,clearSeekTime:I}))}))},964082:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);for(var a in i){var c=i[a].paused;if(a!==e&&!c)return!1}return!0}n.d(t,{Z:function(){return a}})},36971:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return i[e]&&i[e].currentTime}n.d(t,{Z:function(){return a}})},428258:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},t:function(){return o}});var r=function(){var e,t,n,r,o="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0,i=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";return o?"4g"===o?n="40-80":(i="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:i}};function o(e){var t=r(),n=t.downloadSpeedGroup,o=t.screenDimension,i={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:i,"0-1":i,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[n][o]||e.V_720P||void 0}function i(e){var t=e.video_list,n=void 0===t?{}:t,r=o(n),i=n.V_HLSV3_MOBILE||void 0;return r?{hlsv3:i,mp4:r}:{hlsv3:i}}},868565:function(e,t,n){"use strict";function r(e){var t=e.videos&&e.videos.video_list;return t&&Object.keys(t).length?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:function(){return r}})},463045:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return!!i[e]&&!i[e].paused}n.d(t,{Z:function(){return a}})},969315:function(e,t,n){"use strict";n.d(t,{ZP:function(){return m},r$:function(){return y},tE:function(){return v}});var r=n(311560),o=n(172071),i=n(179888);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=["isCellular","videoUrl","sessionMark"],p={},f="",h=function(e){return e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200"},y=function(e){var t=e.browserName,n=e.browserVersion,o=e.country,i=e.isAuthenticated,a=e.isBot,c=e.isMobile,s=e.isSocialBot,l=e.view,u=void 0===l?"unknown":l,d=e.viewParameter,h=void 0===d?"unknown":d;f=(s?"socialBot":a&&"bot")||"nonbot";var y=(0,r.Z)(o);p={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:i,isMobile:c,region:y,view:u,viewParameter:h}};function v(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n?"closeup":"nonCloseup",a=t?"hls":"nonHls",c=l(l({},r),p),s="web.video.".concat(a,".").concat(f,".").concat(i,".").concat(e);o.Z.increment(s,1,c)}function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=n?"closeup":"nonCloseup",s=t?"hls":"nonHls",u=e.sessionMark===i.DR?"sessionStart":"sessionEnd",y=l(l({},r),p);if(Object.entries(e).forEach((function(t){var n=a(t,2),r=n[0],i=n[1],p="web.video.".concat(s,".").concat(f,".").concat(c,".").concat(u,".").concat(r),v=parseInt(i,10),m="number"==typeof v?v:-1;if(!d.includes(r))if(r.includes("fatalError")&&!0===i){var _=e.errorCode,b=e.errorName,g=e.errorReason;o.Z.increment(p,1,l({errorCode:_,errorName:b,errorReason:g},y))}else if(r.includes("Width")||r.includes("Height")){var w=h(m);o.Z.increment(p,1,l({dimensionBucket:w},y))}else if("numberOfStalls"===r){var P=i;m>1e3?P="over1000":m>10?P="over10":m<0&&(P="negative"),o.Z.increment(p,1,l({numberOfStalls:P},y))}else"screenPixelScale"===r?o.Z.increment(p,1,l({screenPixelScale:i||-1},y)):m>=0?(0===m&&o.Z.increment("".concat(p,".zero"),1,y),o.Z.timing(p,m,1),o.Z.timing("".concat(p,"_with_tags"),m,1,y)):m<0&&o.Z.increment("".concat(p,".negative"),1,y)})),e.sessionMark!==i.DR){var v=e.rebufferRate,m=e.screenPixelScale,_=e.startupLatencyMs,b=e.startupVariantWidth,g=e.startupPlayerWidth,w="web.video.".concat(s,".").concat(f,".").concat(c,".").concat(u);if("number"==typeof b&&"number"==typeof g&&"number"==typeof m){var P=1.5*b>m*g;o.Z.increment("".concat(w,".upscaled.").concat(P?"good":"bad"),1,y)}"number"==typeof _&&o.Z.increment("".concat(w,".startupLatency.").concat(_<500?"good":"bad"),1,y),"number"==typeof v&&o.Z.increment("".concat(w,".rebufferRate.").concat(v<.01?"good":"bad"),1,y)}}},179888:function(e,t,n){"use strict";n.d(t,{$f:function(){return i},Cy:function(){return l},DR:function(){return o},EB:function(){return p},Fm:function(){return s},Y7:function(){return d},bR:function(){return c},gJ:function(){return a},lG:function(){return u}});var r=n(353356),o=1,i=2,a=1e3,c=1e3,s=1e3,l=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function d(e){return e+"-"+(0,r.Z)()}function p(){return(0,r.Z)()}},121630:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},e:function(){return o}});var r=n(81226),o=function(e){if("undefined"==typeof window)return"";var t=0,n=document.querySelector('[data-test-id="header"]');null!==n&&(t+=n.getBoundingClientRect().height);switch(e){case"AuthHomefeed":var r=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==r)t+=r.getBoundingClientRect().height;break;case"SearchItem":var o=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==o)t+=o.getBoundingClientRect().height;var i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i)t+=i.getBoundingClientRect().height}return"".concat(-1*t,"px 0px 0px 0px")},i=function(e){var t,n,o,i,a;return(0,r.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(o=n.video_list)||void 0===o||null===(i=o.V_HLSV4)||void 0===i?void 0:i.duration)||(null===(a=e.story_pin_data)||void 0===a?void 0:a.total_video_duration)||0)}},905723:function(e,t){"use strict";t.Z={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},229428:function(e,t,n){"use strict";function r(e){return e.filter((function(e){return e.is_stela}))}function o(e){return e.filter((function(e){return!!e.label}))}n.d(t,{k:function(){return r},m:function(){return o}})},43760:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(768559),o=n(102500),i=n(48714);function a(e){var t,n,a=e.url,c=e.pinId,s=e.pin,l=e.location,u=e.auxData,d={check_only:!0,client_tracking_params:s?(0,r.Z)({boardUrl:null===(t=s.board)||void 0===t?void 0:t.url,callToCreateSourcePinId:s.call_to_create_source_pin_id,location:l,pinId:s.id,pinnerUserName:null===(n=s.pinner)||void 0===n?void 0:n.username,storyPinDataId:s.story_pin_data_id,trackingParams:s.tracking_params,trackingParamsMap:s.tracking_params_map}):void 0,pin_id:s?s.id:c,url:a,aux_data:JSON.stringify(u)};(0,o.Z)(d).callGet().then((function(e){if(e&&e.resource_response&&!e.resource_response.error){var t=e.resource_response.data,n=t.redirect_status,o=t.url;if(!["blocked","suspicious","porn"].includes(n)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){var d=new window.Windows.Foundation.Uri(o);window.Windows.System.Launcher.launchUriAsync(d)}return}}if(s){var p,f,h=(0,r.Z)({boardUrl:null===(p=s.board)||void 0===p?void 0:p.url,callToCreateSourcePinId:s.call_to_create_source_pin_id,location:l,pinId:s.id,pinnerUserName:null===(f=s.pinner)||void 0===f?void 0:f.username,storyPinDataId:s.story_pin_data_id,trackingParams:s.tracking_params,trackingParamsMap:s.tracking_params_map});(0,i.Gj)({url:a,pinId:c,csrId:null,clientTrackingParams:h,auxData:u})}else(0,i.Gj)({url:a,pinId:c})}))}},869899:function(e,t,n){"use strict";n.r(t),n.d(t,{RoleBasedAccessControlProvider:function(){return k},useRoleBasedAccessControlContext:function(){return I}});var r=n(76911),o=n(389643),i=n(784590),a=n(19121),c=n(773285),s=n(425288),l=n(70061);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==y(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,l.Z)(r)]=t[r]:n[(0,l.Z)(r)]=e(t[r]));return n},m=function(e,t){var n=[];for(var r in e)r!==t&&n.push(f({id:r},v(e[r])));var o,i=n.sort((function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)})),a=new Map,c=u(i);try{for(c.s();!(o=c.n()).done;){var s=o.value;a.set(s.id,s)}}catch(l){c.e(l)}finally{c.f()}return a},_=n(339363);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},x=function(e,t){switch(t.type){case"LOAD_PROFILES":return P(P({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return P(P({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return P(P({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return P(P({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return P(P({},e),{},{disableProfileChanger:t.payload});default:return e}},j=function(e){var t=b((0,r.useReducer)(x,S),2),n=t[0],o=t[1],i=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,c=o.headerVisible;return{changeProfile:(0,r.useCallback)((function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[n,t]),toggleORBACVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})}),[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})}),[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!c})}),[n,t,c])}}({dispatch:o,isEnabled:e,state:n}),a=n.activeProfile,c=n.orbacVisibility;return(0,r.useEffect)((function(){var e=(0,_.qn)("orbacActiveProfile",!1);e&&o({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,r.useEffect)((function(){var e=(0,_.qn)("orbacVisibilty",!1);e&&o({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,r.useEffect)((function(){(0,_.Nh)("orbacVisibility",c)}),[c]),(0,r.useEffect)((function(){(0,_.Nh)("orbacActiveProfile",a)}),[a]),{state:n,actions:i,receiveProfiles:(0,r.useCallback)((function(e,t){o({type:"LOAD_PROFILES",payload:m(e,t)})}),[o])}},E=n(515198),A=(0,s.Z)("RoleBasedAccessControlContext"),T=A.Provider,I=A.useMaybeHook,k=function(e){var t=e.children,n=(0,c.F)().checkExperiment,s=(0,a.Z)(),l=Boolean(s.isAuth&&s.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled),u=j(l),d=u.state,p=u.actions,f=u.receiveProfiles,h=d.activeProfile,y=d.headerVisible,v=d.profiles,m=void 0===v?[]:v,_=m?Array.from(m.values()):[],b=(0,o.Z)(_),g=!!(s.isAuth&&_.length>0)&&b,w=s.isAuth?s.id:"",P=s.isAuth?s.username:"",O=p.changeProfile,S=p.toggleORBACVisibility,x=p.toggleDisableProfileChanger,A=p.toggleHeaderVisibility;(0,r.useEffect)((function(){l&&("string"!=typeof b?h||O(w):O(b))}),[b,w,l,O,h]),(0,r.useEffect)((function(){l&&(g&&!y&&A(!0),!g&&y&&A(!1))}),[A,g,l,y,m]);var I,k=(0,i.Z)(l?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,R=null==k?void 0:k.profiles;s&&s.isAuth&&d.activeProfile===s.id?I={id:s.id,permissions:["OWNER"],user:{username:P,businessName:s.fullName,imgUrl:s.imageSmallUrl}}:h&&d.profiles&&(I=d.profiles.get(h)),(0,r.useEffect)((function(){R&&f(R,w)}),[f,R,w]);var C=d.profiles?Array.from(d.profiles.values()):[];return(0,E.jsx)(T,{value:{profiles:C,headerVisible:d.headerVisible,activeProfile:I,changeProfile:O,toggleORBACVisibility:S,toggleDisableProfileChanger:x,toggleHeaderVisibility:A},children:t})}},717615:function(e,t,n){"use strict";var r=n(389643),o=n(773285),i=n(869899);t.Z=function(){var e=(0,o.F)().checkExperiment,t=(0,i.useRoleBasedAccessControlContext)(),n=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,c=(0,r.Z)((null==t?void 0:t.profiles)||[]),s=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a?s&&!c?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},389643:function(e,t,n){"use strict";var r=n(506979),o=n(19121),i=n(773285),a=n(53987),c=n(609500);t.Z=function(e){var t,n=(0,c.useLocation)(),s=(0,o.Z)(),l=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,u=(0,c.useRouteMatch)("/:username"),d=null==u||null===(t=u.params)||void 0===t?void 0:t.username,p=(0,c.useRouteMatch)("/pin/:id"),f=(0,r.useSelector)((function(e){var t,n,r,o;return!(null==p||null===(t=p.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(r=n[p.params.id])||void 0===r||null===(o=r.pinner)||void 0===o?void 0:o.id)}));if((0,a.ej)(n))return!1;if((0,a.RU)(n))return!0;if((0,a.mY)(n))return l;var h=e.concat(s.isAuth?{user:{username:s.username},id:s.id}:{}).find((function(e){var t=e||{},n=t.user,r=void 0===n?{}:n,o=t.id,i=r.username;return!!(i&&d||f&&o)&&(i===d||f===o)}));return!!h&&h.id}},231947:function(e,t,n){"use strict";n.d(t,{D3:function(){return l},DX:function(){return c},KY:function(){return u},Ms:function(){return r},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return s}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=function(e,t){return Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(r=e.advertiser)||void 0===r?void 0:r.merchant_id},c=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},s=function(e,t,n){var r=e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t;return!!r},l=function(e,t,n){var r=s(e,t,n)||e&&e.isAuth&&t===e.id;return!!r},u=function(e,t,n){var r=t&&t.owner&&t.owner.id||"";return l(e,r,n)};function d(e,t,n){var r=t?t.id:"";return l(e,r,n)}},965900:function(e,t,n){"use strict";n.d(t,{g:function(){return b},I:function(){return _}});var r=n(76911),o=n(567450),i=n(678881),a=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return s(s({},e),{},{showTypeaheadOverlay:t.payload});if("SET_CURRENT_VIDEO"===t.type){var n=t.payload,r=n.pinId,o=n.isPromoted,i=n.currentTime,c=n.inVideoGridAutoplayExp,l=e.videosAutoplaying,d=l.currentlyPlayingOrganicVideoId,p=l.promotedVideosAutoplaying,f=l.organicVideosAutoplaying,h=a()(p),y=a()(f);return!o&&d&&c?e:(o?h[r]={pinId:r,currentTime:i,paused:!1}:y[r]={pinId:r,currentTime:i,paused:!1},s(s({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:o?d:r,promotedVideosAutoplaying:h,organicVideosAutoplaying:y}}))}if("SET_IS_AUTOPLAY"===t.type)return s(s({},e),{},{isAutoplay:t.payload});if("PAUSE_CURRENT_VIDEO"===t.type){var v=t.payload,m=v.pinId,_=v.isPromoted,b=v.currentTime,g=e.videosAutoplaying,w=g.promotedVideosAutoplaying,P=g.organicVideosAutoplaying,O=a()(w),S=a()(P);return _?O[m]=s(s({},O[m]),{},{paused:!0,currentTime:b}):S[m]=s(s({},S[m]),{},{paused:!0,currentTime:b}),s(s({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:O,organicVideosAutoplaying:S}})}return"SET_APP_FOCUS_STATE"===t.type?s(s({},e),{},{appInFocus:t.payload}):"SET_VIEWPORT_SIZE"===t.type?s(s({},e),{},{viewportSize:t.payload}):"SET_FOOTER_VISIBILITY_STATE"===t.type?s(s({},e),{},{footerPlusButtonVisible:t.payload}):e},p=n(425288),f=n(515198);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,p.Z)("AppUI"),m=v.Provider,_=v.useHook;function b(e){var t=e.children,n=h((0,r.useReducer)(d,u),2),i=n[0],a=n[1],c=(0,r.useCallback)((function(e){return a({type:"PAUSE_CURRENT_VIDEO",payload:e})}),[]),s=(0,r.useCallback)((function(e){return a({type:"SET_APP_FOCUS_STATE",payload:e})}),[]),l=(0,r.useCallback)((function(e){return a({type:"SET_CURRENT_VIDEO",payload:e})}),[]),p=(0,r.useCallback)((function(e){return a({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})}),[]),y=(0,r.useCallback)((function(e){return a({type:"SET_IS_AUTOPLAY",payload:e})}),[]),v=(0,r.useCallback)((function(e){return a({type:"SET_VIEWPORT_SIZE",payload:e})}),[]),_=(0,r.useCallback)((function(e){return a({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})}),[]),b=(0,r.useMemo)((function(){return{pauseAutoplay:c,setCurrentVideo:l,setFooterPlusButtonVisible:p,setIsAutoplay:y,setViewportSize:v,toggleTypeaheadOverlay:_,setAppFocusState:s,appUI:i}}),[c,l,p,y,v,_,s,i]);return(0,r.useEffect)((function(){o.Z.onSessionResume((function(){s(!0)})).onSessionPause((function(){s(!1)}))}),[s]),(0,f.jsx)(m,{value:b,children:t})}},40706:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(62700),o=n(908390),i=n(515198),a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function c(e){var t=e.pin,n=e.enableCloseupLink,c=(t.aggregated_pin_data||{}).pin_tags_chips,s=c&&c.length>=3?c.slice(0,3):[];return(0,i.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:s.map((function(e){var c,s,l,u,d=(null===(c=e.images)||void 0===c?void 0:c["750x"])||{},p=(0,i.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(s=d.height)&&void 0!==s?s:1,naturalWidth:null!==(l=d.width)&&void 0!==l?l:1,role:"presentation",src:null!==(u=d.url)&&void 0!==u?u:""});return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,i.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,i.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:n?(0,i.jsx)(r.Z,{sizing:"fullSize",collageChipId:e.id,pin:t,children:p}):p})})})},e.id)}))})}},199387:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),o=n(407043),i=n(576440),a=["aux_data","view_type","view_parameter","component","clientTrackingParams"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){var n=(0,o.v)().logContextEvent,c=(0,i.E)(),l=c.componentType,d=c.contextLogData,p=c.viewParameter,f=c.viewType,h=null!=t?t:{},y=h.aux_data,v=h.view_type,m=h.view_parameter,_=h.component,b=h.clientTrackingParams,g=u(h,a);return(0,r.useCallback)((function(){n(s(s({event_type:e,view_type:v||f,view_parameter:m||p,component:_||l,clientTrackingParams:b},g),{},{aux_data:s(s({},y),d)}))}),[n,y,b,g,m,v,_,l,d,e,p,f])}},225692:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return c}});var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=120;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=(0,r.useState)(e?"active":"inactive"),c=o(i,2),s=c[0],l=c[1];return(0,r.useEffect)((function(){if(!e){var r=setTimeout((function(){return l("inactive")}),n);return function(){clearTimeout(r)}}if(t){var o=setTimeout((function(){return l("active")}),t);return function(){clearTimeout(o)}}l("active")}),[e]),s}},350445:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(898781),o=n(908390),i=n(515198),a={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},c={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},s={overlay:{__style:{backgroundColor:"#000"}}};function l(e){var t=e.backgroundImage,n=e.naturalHeight,l=e.naturalWidth,u=e.onRestartVideo,d=e.pinTitle,p=e.pin,f=(0,r.ZP)(),h=p.id;return(0,i.jsxs)(o.Ee,{alt:d||f._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:n,naturalWidth:l,src:t,children:[(0,i.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:s.overlay}),(0,i.jsxs)(o.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-".concat(h),children:[(0,i.jsx)(o.iP,{rounding:2,children:(0,i.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,i.jsx)(o.JO,{accessibilityLabel:f._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:c,size:25}),(0,i.jsx)(o.xu,{margin:1}),(0,i.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:f._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,i.jsx)(o.xu,{margin:3}),(0,i.jsx)(o.iP,{onTap:u,rounding:2,children:(0,i.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,i.jsx)(o.JO,{accessibilityLabel:f._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:a,size:25}),(0,i.jsx)(o.xu,{margin:1}),(0,i.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:f._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}},697247:function(e,t,n){"use strict";n.d(t,{$:function(){return i},B:function(){return o}});var r=(0,n(425288).Z)("SurfaceContext",{surface:"Unknown"}),o=r.Provider,i=r.useHook},576440:function(e,t,n){"use strict";n.d(t,{B:function(){return o},E:function(){return i}});var r=(0,n(425288).Z)("trackingParametersContext"),o=r.Provider,i=r.useHook},238771:function(e,t,n){"use strict";n.d(t,{ZP:function(){return T},we:function(){return A},nn:function(){return E},zn:function(){return j}});var r=n(76911),o=n(941646),i=n(908390),a=n(515198);function c(e){var t=e.iconAccessibilityLabel,n=e.icon,r=e.linkAccessibilityLabel,c=e.showNavigationIcon,s=e.text;return(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.Z,{id:"ad-reason-icon",children:(0,a.jsx)(i.Sj,{accessibilityLabel:t,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),(0,a.jsx)(i.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,a.jsx)(i.xv,{children:s})}),c&&r&&(0,a.jsx)(i.kC,{direction:"column",justifyContent:"center",children:(0,a.jsx)(i.JO,{accessibilityLabel:r,color:"default",icon:"arrow-forward"})})]})}var s=n(898781),l=n(966113),u=n(170168),d=n(349700),p=n(407043);function f(e){var t=e.brandName,n=e.country,r=e.language,f=e.isAgeMatched,h=e.isBehaviorTargetingMatched,y=e.isCustomerListMatched,v=e.isGeoPostalCodeMatched,m=e.isGeoRegionMatched,_=e.isShoppingTargetingRematched,b=(0,p.v)().logContextEvent,g=(0,s.ZP)();return(0,a.jsx)(o.Z,{id:"ad-reasons",children:(0,a.jsxs)(i.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(v||m)&&(0,a.jsx)(i.iP,{role:"link",href:"".concat(u.C0).concat(l.QL),onTap:function(){b({event_type:101,component:13756,element:12059})},target:"blank",children:(0,a.jsx)(c,{iconAccessibilityLabel:g._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",linkAccessibilityLabel:g._('Navigate to account settings', 'app.common.react.components.PinRep.components.AdReasonRow.icon', 'An icon for navigating to account settings'),showNavigationIcon:!0,text:(0,d.nk)(g._('Your primary location is in {{countryName}} and your primary language is {{language}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location'),{countryName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-language")})})}),f&&(0,a.jsx)(c,{iconAccessibilityLabel:g._('Icon for ad targeting age', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age'),icon:"person",text:(0,d.nk)(g._('{{ brandName }} is trying to reach people in your age range', 'app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting', 'Ad explanation for targeting age range'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),h&&(0,a.jsx)(c,{iconAccessibilityLabel:g._('Icon for ad targeting search history', 'app.common.react.components.PinRep.components.AdReasons.searchIcon', 'Icon for ad targeting search history'),icon:"search",text:g._('Your Pinterest browsing history and search behavior', 'app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting', 'Ad explanation for targeting the search history of the user')}),_&&(0,a.jsx)(c,{iconAccessibilityLabel:g._('Icon for ad targeting customers who interacted with this brand previously', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon', 'Ad explanation for targeting users who have interacted with an advertiser brand'),icon:"clock",text:(0,d.nk)(g._('You\'ve interacted with {{brandName}} before', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText', 'Text explaining the ad reason for targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),y&&(0,a.jsx)(c,{iconAccessibilityLabel:g._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"menu",text:(0,d.nk)(g._('You\'re on an audience list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})})]})})}var h=n(19121),y=n(698330);function v(e){var t,n=e.brandName,r=e.language,l=e.geoRegion,u=e.geoPostalCode,p=e.ageBucketMatch,f=e.localeMatch,v=e.interestMatch,m=e.genderMatch,_=e.deviceMatch,b=e.isCustomerListMatched,g=e.isShoppingTargetingRematched,w=e.isActAlikeMatched,P=e.isEngagementMatched,O=e.isExpandTargetingMatched,S=e.isFromGPSLocation,x=e.isVisitorMatched,j=e.gender,E=e.device,A=(0,s.ZP)(),T=(0,h.Z)().id,I=(0,y.mN)()(null!=T?T:""),k=null!==(t=null==I?void 0:I.gender)&&void 0!==t?t:"";return(0,a.jsx)(o.Z,{id:"ad-reasons",children:(0,a.jsxs)(i.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==p&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,d.nk)(A._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:p},"ad-reasons-age-bucket")})}),""!==m&&"unspecified"!==k&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,d.nk)(A._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:j},"ad-reasons-gender")})}),""!==l&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location, v2'),icon:"location",text:(0,d.nk)(A._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargetingV2', 'Ad explanation for targeting location v2, geoRegion: location user is based in'),{geoRegion:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:l},"ad-reasons-country-name")})}),""!==u&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location, v2'),icon:"location",text:(0,d.nk)(A._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargetingV2', 'Ad explanation for targeting location v2, geoPostalCode: location user is based in'),{geoPostalCode:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:u},"ad-reasons-country-name")})}),""!==f&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,d.nk)(A._('Primary language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-locale")})}),""!==_&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"desktop",text:(0,d.nk)(A._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:E},"ad-reasons-device")})}),""!==v&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,d.nk)(A._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:v},"ad-reasons-interest")})}),g&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,d.nk)(A._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-shopping-targeting")})}),x&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,d.nk)(A._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reason-visitor")})}),b&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,d.nk)(A._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargetingV2', 'Ad explanation for targeting customer list v2, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-customer-list")})}),P&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,d.nk)(A._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-engagement")})}),w&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,d.nk)(A._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-act-alike")})}),O&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:A._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),S&&(0,a.jsx)(c,{iconAccessibilityLabel:A._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:A._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}var m=n(121151),_=n(773285);function b(e){var t=e.onDismiss,n=e.brandName,r=e.userName,c=e.country,h=e.language,y=e.geoRegion,b=e.geoPostalCode,g=e.ageBucketMatch,w=e.localeMatch,P=e.interestMatch,O=e.genderMatch,S=e.deviceMatch,x=e.isAgeMatched,A=e.isBehaviorTargetingMatched,T=e.isCustomerListMatched,I=e.isGeoPostalCodeMatched,k=e.isGeoRegionMatched,R=e.isShoppingTargetingRematched,C=e.isActAlikeMatched,D=e.isEngagementMatched,N=e.isExpandTargetingMatched,L=e.isFromGPSLocation,M=e.isVisitorMatched,B=(0,p.v)().logContextEvent,Z=(0,s.ZP)(),z=j(O,Z),U=E(S,Z),F=function(){B({event_type:101,component:13756,element:12058})},V=I||k||x||A||R||T||D||C||N||L||M||""!==g||""!==w||""!==P||""!==z||""!==U||""!==y||""!==b,G=(0,(0,_.F)().checkExperiment)("ads_web_waista_v2").anyEnabled,H=u.C0+"/".concat(r,"/");return(0,a.jsx)(m.ZP,{accessibilityModalLabel:Z._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:t,children:(0,a.jsxs)(i.xu,{paddingX:8,paddingY:6,children:[(0,a.jsxs)(i.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,a.jsx)(i.xu,{position:"absolute",left:!0,children:(0,a.jsx)(i.hU,{accessibilityLabel:Z._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:function(){B({event_type:102,element:11925,component:13756}),t()},size:"sm"})}),G?(0,a.jsx)(i.X6,{align:"center",size:"500",children:Z._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation, v2', 'Heading for promoted pins explanation, WAISTA v2')}):(0,a.jsx)(i.X6,{align:"center",size:"500",children:Z._('Why am I seeing this ad?', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation')})]}),(0,a.jsxs)(i.xu,{children:[(0,a.jsxs)(i.kC,{direction:"column",gap:{row:0,column:4},children:[G?null:(0,a.jsx)(i.xu,{children:(0,a.jsx)(i.xv,{children:(0,d.nk)(Z._('{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation', 'text informing the user about who is the advertiser'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name"),learnMoreLink:(0,a.jsx)(o.Z,{id:"ad-reasons-learn-more-link",children:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{href:l.UF,display:"inlineBlock",onClick:function(){B({event_type:101,component:13756,element:12057})},target:"blank",underline:"hover",children:Z._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})}),V&&(0,a.jsx)(i.xu,{marginBottom:4,children:G?(0,a.jsx)(i.xv,{children:(0,d.nk)(Z._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTAv2', 'text informing the user about who is the advertiser\'s target audience, for WAISTAv2 brandName: is promoter name'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{href:H,display:"inlineBlock",onClick:function(){B({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:n})},"ad-reasons-brand-name")})}):(0,a.jsx)(i.xv,{children:(0,d.nk)(Z._('{{ brandName }} is trying to reach people who fit the following criteria:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation', 'text informing the user about who is the advertiser\'s target audience'),{brandName:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name")})})})]}),(0,a.jsx)(o.Z,{id:"ad-reasons",children:(0,a.jsxs)(i.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[!G&&(0,a.jsx)(f,{brandName:n,country:c,language:h,isAgeMatched:x,isBehaviorTargetingMatched:A,isCustomerListMatched:T,isGeoPostalCodeMatched:I,isGeoRegionMatched:k,isShoppingTargetingRematched:R}),G&&(0,a.jsx)(v,{brandName:n,language:h,geoRegion:y,geoPostalCode:b,ageBucketMatch:g,localeMatch:w,genderMatch:O,interestMatch:P,deviceMatch:S,isCustomerListMatched:T,isShoppingTargetingRematched:R,isActAlikeMatched:C,isEngagementMatched:D,isExpandTargetingMatched:N,isFromGPSLocation:L,isVisitorMatched:M,gender:z,device:U}),V&&!G&&(0,a.jsx)(i.xu,{marginBottom:1,children:(0,a.jsx)(i.xv,{children:Z._('There could also be more factors not listed here.', 'app.common.react.components.PinRep.components.AdReasonsModal.miscFactors', 'Text explaining there are more targeting factors')})}),V&&G?(0,a.jsx)(i.xu,{marginBottom:1,children:(0,a.jsx)(i.xv,{children:(0,d.nk)(Z._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inline",href:"".concat(u.C0).concat(l.AH),onClick:function(){B({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:Z._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})}):null]})}),(0,a.jsxs)(i.kC,{direction:"column",gap:{row:0,column:1},children:[(0,a.jsx)(i.xu,{marginBottom:3,marginTop:3,children:G?null:(0,a.jsx)(i.iz,{})}),(0,a.jsx)(i.xu,{marginBottom:1,marginTop:1,children:G?(0,a.jsx)(i.X6,{size:"400",children:Z._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')}):(0,a.jsx)(i.X6,{size:"400",children:Z._('I don\'t want to see this ad', 'app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading', 'Text for explaining how to hide an ad')})}),(0,a.jsx)(i.xu,{marginBottom:4,children:G?(0,a.jsx)(i.xv,{children:(0,d.nk)(Z._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inline",href:"".concat(u.C0).concat(l.Gx),onClick:function(){B({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:Z._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-ad-preferences")})}):(0,a.jsx)(i.xv,{children:(0,d.nk)(Z._('If you don\'t want to see ads from a specific advertiser you can block the advertiser\'s Pinterest profile. {{learnMoreLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText', 'Text explaining how to block an advertiser profile'),{learnMoreLink:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inlineBlock",href:l.K_,onClick:F,target:"blank",underline:"hover",children:Z._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})}),(0,a.jsx)(i.xu,{marginBottom:4,children:G&&(0,a.jsx)(i.xv,{children:(0,d.nk)(Z._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inline",href:l.R_,onClick:function(){B({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:Z._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})}),(0,a.jsx)(i.xu,{marginBottom:4,children:G&&(0,a.jsx)(i.xv,{children:(0,d.nk)(Z._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,a.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inline",href:l.K_,onClick:F,target:"blank",underline:"hover",children:Z._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})]})]})]})})}var g=n(784590),w=n(350118),P=n(780280);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return"FEMALE"===e?function(e){return e._('Female', 'waista.modal.attribute.female', 'Gender attribute for female')}(t):"MALE"===e?function(e){return e._('Male', 'waista.modal.attribute.male', 'Gender attribute for male')}(t):""}function E(e,t){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?function(e){return e._('Web', 'waista.modal.attribute.web', 'device attribute for web')}(t):"AppType_WEB_MOBILE"===e?function(e){return e._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web')}(t):""}function A(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}function T(e){var t,n,o,i,c,s=e.pinId,l=e.onDismiss,u=(0,p.v)().logContextEvent,d=(0,P.B)().locale,f=(0,h.Z)().country,y=void 0===f?"":f,v=(0,g.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),m=(0,g.Z)({name:"LocalesResource"}),_=(0,w.S6)()(s);(0,r.useEffect)((function(){u({event_type:120,component:13756})}),[u]);var O=null!=_?_:{},j=O.ad_targeting_attribution,E=O.promoter,T=null!==(t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e&&Object.keys(e).filter((function(t){return"boolean"==typeof e[t]||"string"==typeof e[t]})).slice(0,t).reduce((function(t,n){return S(S({},t),{},x({},n,e[n]))}),{})}(j))&&void 0!==t?t:{},I=T.is_age_matched,k=void 0!==I&&I,R=T.is_behavior_targeting_matched,C=void 0!==R&&R,D=T.is_customer_list_matched,N=void 0!==D&&D,L=T.is_geo_postal_code_matched,M=void 0!==L&&L,B=T.is_geo_region_matched,Z=void 0!==B&&B,z=T.is_shopping_retargeting_matched,U=void 0!==z&&z,F=T.is_actalike_matched,V=void 0!==F&&F,G=T.is_engagement_matched,H=void 0!==G&&G,W=T.is_expand_targeting_matched,q=void 0!==W&&W,Y=T.is_from_gps_location,K=void 0!==Y&&Y,X=T.is_visitor_matched,$=void 0!==X&&X,J=T.matched_age_bucket,Q=void 0===J?"":J,ee=T.matched_locale,te=void 0===ee?"":ee,ne=T.matched_interest,re=void 0===ne?"":ne,oe=T.matched_gender,ie=void 0===oe?"":oe,ae=T.matched_device,ce=void 0===ae?"":ae,se=T.geo_region,le=void 0===se?"":se,ue=T.geo_postal_code,de=void 0===ue?"":ue,pe=null!==(n=null==E?void 0:E.full_name)&&void 0!==n?n:"",fe=function(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}(null!==(o=v.data)&&void 0!==o?o:[],y),he=A(null!==(i=m.data)&&void 0!==i?i:[],d),ye=null!==(c=null==E?void 0:E.username)&&void 0!==c?c:"";return(0,a.jsx)(b,{brandName:pe,userName:ye,country:fe,language:he,ageBucketMatch:Q,localeMatch:te,interestMatch:re,genderMatch:ie,deviceMatch:ce,isAgeMatched:k,isBehaviorTargetingMatched:C,isCustomerListMatched:N,isGeoPostalCodeMatched:M,isGeoRegionMatched:Z,isShoppingTargetingRematched:U,isActAlikeMatched:V,isEngagementMatched:H,isExpandTargetingMatched:q,isFromGPSLocation:K,isVisitorMatched:$,onDismiss:l,geoRegion:le,geoPostalCode:de})}},62700:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(605028),o=n(66699),i=n(898781),a=n(287072),c=n(35495),s=n(908390),l=n(407043),u=n(243943),d=n(576440),p=n(515198);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t,n=e.sizing,f=void 0===n?"default":n,y=e.children,v=e.collageChipId,m=e.componentType,_=e.contextLogData,b=e.elementType,g=e.pin,w=e.viewParameter,P=e.viewType,O=(0,i.ZP)(),S=(0,l.v)().logContextEvent,x=(0,d.E)(),j=g.carousel_data,E=g.id,A=(0,r.Z)(g).isLeadPin,T="/pin/".concat(v||E,"/"),I=(0,u.Xx)();if(null!=I&&I.variantUrl&&(T="/pin/".concat(I.variantUrl,"/")),j){var k=j.carousel_slots,R=void 0===k?[]:k,C=j.id,D=j.index,N=void 0===D?0:D;T="/pin/".concat(E,"/"),t={carousel_slot_id:R[N]&&R[N].id,carousel_data_id:C,carousel_slot_index:N}}t=h(h({},t||{}),(0,c.Kl)(g,_)||{});var L=(0,a.Z)({href:T,externalData:{auxData:t,pin:g}});return(0,p.jsx)(s.iP,{accessibilityLabel:(0,o.Z)(O._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:g.grid_title||g.title||g.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:function(e){var t,n,r=e.event;(0,e.dangerouslyDisableOnNavigation)(),A?(S({event_type:8948,view_type:P||x.viewType,view_parameter:w||x.viewParameter,component:null,object_id_str:g.id,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(t=g.promoted_lead_form)||void 0===t?void 0:t.lead_id}}),S({event_type:12,view_type:P||x.viewType,view_parameter:w||x.viewParameter,component:null,object_id_str:g.id,aux_data:h({lead_form_id:null===(n=g.promoted_lead_form)||void 0===n?void 0:n.lead_id},(0,c.Kl)(g,{})||{})})):(S({event_type:101,component:m||x.componentType,element:b,object_id_str:E,view_type:P||x.viewType,view_parameter:w||x.viewParameter,aux_data:h(h({},_),(0,c.Kl)(g,_)||{})}),S({event_type:8948,view_type:P||x.viewType,view_parameter:w||x.viewParameter,component:m||x.componentType,element:b,object_id_str:E,aux_data:h(h({closeup_navigation_type:"click"},_),(0,c.Kl)(g,_)||{})})),L({event:r})},fullWidth:"fullSize"===f,fullHeight:"fullSize"===f,href:T,role:"link",children:y})}},841509:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(908390),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.children,n=e.additionalStyles,i=void 0===n?{}:n;return(0,o.jsx)(r.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:a({pointerEvents:"none"},i)},"data-test-id":"contentLayer",children:t})}},337986:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(76911),o=n(499128),i=n(898781),a=n(908390),c=n(515198);function s(e){var t=(0,i.ZP)(),n=e.onHide,r=(0,c.jsx)(a.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,c.jsx)(o.ZP,{onHide:n,text:r})}var l=n(214494),u=n(19121),d=n(343341);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.anchor,n=e.onDismiss,o=e.pinId,f=e.signals,h=(0,i.ZP)(),y=p((0,r.useState)(0),2),v=y[0],m=y[1],_=(0,u.Z)(),b=(0,d.F9)().showOneToast;if(!_.isEmployee)return null;var g=f.map((function(e){var t=e.signal_message;return{href:"#",text:null!=t?t:""}})),w=f[v],P=w.background_color,O=w.icon_url,S=w.signal_id,x=w.signal_message;return(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,c.jsxs)(a.xu,{padding:4,width:"100%",children:[f.length>1&&(0,c.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,c.jsx)(a.mQ,{activeTabIndex:v,onChange:function(e){var t=e.event,n=e.activeTabIndex;(0,e.dangerouslyDisableOnNavigation)(),function(e){var t=e.activeTabIndex;e.event.preventDefault(),m(t)}({activeTabIndex:n,event:t})},tabs:g})}),(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(a.X6,{size:"400",children:h._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,c.jsx)(a.xu,{paddingY:3,children:(0,c.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,c.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:O?(0,c.jsx)(a.Ee,{alt:h._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:O}):(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:P}},height:40,width:40})}),(0,c.jsx)(a.xv,{size:"200",children:x})]})}),(0,c.jsx)(a.xu,{marginBottom:3,children:(0,c.jsx)(a.xv,{size:"200",children:h._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,c.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,c.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:h._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){var e={pin_id:o,signal_id:S,user:_.id};l.Z.create("SignalReviewRequestResource",e).callCreate(),n(),b((function(e){var t=e.hideToast;return(0,c.jsx)(s,{onHide:t})}))}}),(0,c.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:h._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:n})]})]})})})},y=n(241244),v=n(319915),m=n(947599),_=n(215292);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.signals,n=e.pinId,o=t[0],i=o.background_color,s=o.icon_url,l=o.signal_message,u=b((0,r.useState)(!1),2),d=u[0],p=u[1],f=(0,r.useRef)();return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(v.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,c.jsx)(m.Z,{children:(0,c.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,c.jsx)(y.Z,{children:(0,c.jsx)(_.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,c.jsx)(a.iP,{onTap:function(){return p((function(e){return!e}))},rounding:"pill",onMouseEnter:n,onMouseLeave:r,children:(0,c.jsxs)(a.xu,{color:t?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:f,children:[(0,c.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,c.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,c.jsx)(a.Ee,{alt:"",color:i,src:null!=s?s:"",naturalHeight:1,naturalWidth:1})})}),(0,c.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:l})]})})}})})})})}),d&&f&&f.current&&(0,c.jsx)(h,{anchor:f.current,onDismiss:function(){return p(!1)},pinId:n,signals:t})]})}var P=function(e){var t,n=e.signal,r=e.anchor,o=e.setShowFlyout,i=e.setStore,s=(0,_.Z)(),l=s.hovered,u=s.onMouseEnter,d=s.onMouseLeave;return(0,c.jsx)(a.iP,{onTap:function(){return function(e){o((function(e){return!e})),i(e)}(n)},rounding:"pill",onMouseEnter:u,onMouseLeave:d,children:(0,c.jsxs)(a.xu,{color:l?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:r,children:[(0,c.jsx)(a.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,c.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,c.jsx)(a.Ee,{alt:"",color:n.background_color,src:null!==(t=n.icon_url)&&void 0!==t?t:"",naturalHeight:1,naturalWidth:1})})}),(0,c.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:n.signal_message})]})})};var O=function(e){var t=e.anchor,n=e.onDismiss,r=e.pinId,o=e.signal,p=(0,i.ZP)(),f=(0,u.Z)(),h=(0,d.F9)().showOneToast;if(!f.isEmployee)return null;var y=o.background_color,v=o.icon_url,m=o.signal_id,_=o.signal_message;return(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,c.jsxs)(a.xu,{padding:4,width:"100%",children:[(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(a.X6,{size:"400",children:p._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,c.jsx)(a.xu,{paddingY:3,children:(0,c.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,c.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:v?(0,c.jsx)(a.Ee,{alt:p._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:v}):(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y}},height:40,width:40})}),(0,c.jsx)(a.xv,{size:"200",children:_})]})}),(0,c.jsx)(a.xu,{marginBottom:3,children:(0,c.jsx)(a.xv,{size:"200",children:p._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,c.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,c.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:p._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){var e={pin_id:r,signal_id:m,user:f.id};l.Z.create("SignalReviewRequestResource",e).callCreate(),n(),h((function(e){var t=e.hideToast;return(0,c.jsx)(s,{onHide:t})}))}}),(0,c.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:p._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:n})]})]})})})};function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t=e.signals,n=e.pinId,o=S((0,r.useState)(!1),2),i=o[0],s=o[1],l=(0,r.useRef)(null),u=S((0,r.useState)(t[0]),2),d=u[0],p=u[1];return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(v.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,c.jsx)(m.Z,{children:(0,c.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,c.jsx)(y.Z,{children:(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:t.map((function(e){return(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(P,{signal:e,anchor:l,setShowFlyout:s,setStore:p})},e.signal_id)}))})})})})}),i&&(0,c.jsx)(O,{anchor:l.current,onDismiss:function(){return s(!1)},pinId:n,signal:d})]})}var E=n(609500);function A(e){var t=e.pin,n=(0,u.Z)(),o=(0,E.useLocation)().search,i=(0,r.useMemo)((function(){return new URLSearchParams(o)}),[o]);if(!n.isEmployee)return null;var a=t.id,s=t.deb_ads,l=t.deb_content_quality,d=t.deb_inclusive_product,p=t.deb_shopping,f=t.deb_trust_and_safety;if(s)return(0,c.jsx)(w,{pinId:a,signals:s});if(l)return(0,c.jsx)(w,{pinId:a,signals:l});if(d){if("skin_tone"===i.get("type")){var h=d.filter((function(e){return"visual_signals_hair_pattern_v1"!==e.signal_id}));return(0,c.jsx)(j,{pinId:a,signals:h})}var y=d.filter((function(e){return"visual_body_analyses_v2_0"!==e.signal_id}));return(0,c.jsx)(j,{pinId:a,signals:y})}return p?(0,c.jsx)(w,{pinId:a,signals:p}):f?(0,c.jsx)(w,{pinId:a,signals:f}):null}},525199:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(908390),o=n(225692),i=n(515198);function a(e,t){return{hidden:{opacity:0,transition:t?"opacity ".concat(t,"ms ease"):void 0},visible:{opacity:1,transition:e?"opacity ".concat(e,"ms ease"):void 0}}}function c(e){var t=e.children,n=e.fadeInDuration,c=void 0===n?0:n,s=e.fadeOutDuration,l=void 0===s?o.X:s,u=e.visibility;return"none"!==u&&t?(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(c,l)[u]},children:t}):null}},43671:function(e,t,n){"use strict";n.d(t,{ZP:function(){return b}});var r=n(76911),o=n(841509),i=n(898781),a=n(55275),c=n(310227),s=n(407043),l=n(908390),u=n(515198);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:c.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},m=["followed","related","search"],_=["pfy","pfyBoard"];function b(e){var t,n=e.feedbackType,d=e.pin,f=e.hideContents,y=void 0!==f&&f,b=(0,s.v)().logContextEvent,g=(0,i.ZP)(),w=h((0,r.useState)(!1),2),P=w[0],O=w[1],S=h((0,r.useState)(!1),2),x=S[0],j=S[1];(0,r.useEffect)((function(){return O(!0)}),[]);var E=function(){return j(!0)},A=d.feedbackText,T=d.images,I=d.showFeedbackOverlay,k=d.undoAction,R=T&&(null===(t=T["236x"])||void 0===t?void 0:t.url),C=null!=A?A:{},D=C.image,N=C.subTitle,L=C.title,M=C.unfollow,B=!m.includes(n),Z=_.includes(n),z=function(){b({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,u.jsxs)(l.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:c.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:c.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[R&&(0,u.jsx)(o.Z,{additionalStyles:p(p(p({},v.background.base),P?v.background.blurred:{}),{},{backgroundImage:'url("'.concat(R,'")')})}),(0,u.jsx)(o.Z,{additionalStyles:p(p({},v.backdrop.base),v.backdrop.blurred)})]}),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:p(p({},v.feedbackOverlayContainer.base),!I&&P?v.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%",children:!y&&(0,u.jsx)(l.xu,{height:"100%",children:(0,u.jsxs)(l.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.X6,{color:"light",size:"400",children:L})}),(0,u.jsxs)(l.xu,{display:"flex",marginBottom:1,children:[D&&(0,u.jsx)(l.xu,{marginEnd:3,children:(0,u.jsx)(l.zd,{width:D.width,height:D.height,rounding:2,wash:!0,children:(0,u.jsx)(l.Ee,{alt:N||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:D.url||""})})}),(0,u.jsx)(l.xv,{color:"light",overflow:"normal",children:N})]}),(0,u.jsxs)(r.Fragment,{children:[k&&(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.iP,{onTap:k,children:(0,u.jsx)(l.xv,{color:"inverse",weight:"bold",overflow:"normal",children:g._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,u.jsxs)(l.xu,{marginTop:"auto",children:[!k&&!x&&M&&!Z&&(0,u.jsx)(l.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,a.t)(M.action,M.actionOptions,E)},text:g._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),B&&(0,u.jsx)(l.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:z,text:g._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},379884:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(852964),o=n(898781),i=n(55275),a=n(908390),c=n(814197),s=n(407043),l=n(680046),u=n(515198);function d(e){var t=e.anchor,n=e.feedbackData,d=e.feedbackType,p=e.pinId,f=e.onDismiss,h=e.onHide,y=e.recommendationReason,v=e.viewParameter,m=e.viewType,_=(0,s.v)().logContextEvent,b=(0,o.ZP)(),g=function(e,t){var o=(0,r.Z)(y),a=y&&(0,l.yl)(y),c=y&&(0,l.XZ)(y),s=(0,l.fJ)({feedbackData:n,feedbackType:d,pinId:p,recommendationReasonId:o,throughId:a,throughProperties:c,complaintReason:e}),u=s.action,f=s.actionOptions;!function(e){_({event_type:101,view_type:m,view_parameter:v,element:e,component:(0,l.nb)(d)})}(t),(0,i.t)(u,f),h()},w="promoted"===d?[{text:b._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:b._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:b._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:b._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:b._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:b._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:b._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:b._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,u.jsx)(a.Lt,{anchor:t,idealDirection:"down",onDismiss:f,zIndex:c.lI,id:"pin-action-dropdown",children:(0,u.jsx)(a.Lt.Section,{label:b._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:w.map((function(e){var t=e.text,n=e.reason,r=e.elementType;return(0,u.jsx)(a.Lt.Item,{onSelect:function(){return g(n,r)},option:{value:"hide-reason-".concat(t.split(" ").join("-")),label:t},dataTestId:"hide-reason-".concat(t.split(" ").join("-"))})}))})})}},685909:function(e,t,n){"use strict";var r=n(76911),o=n(206134),i=n.n(o),a=n(391254),c=n(149230),s=n(927104),l=n(898781),u=n(908390),d=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(p,e);var t,n,o,l=_(p);function p(){var e;y(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(g(e=l.call.apply(l,[this].concat(n))),"state",{showBoardName:!1}),e}return t=p,(n=[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({showBoardName:!0})}),950)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state.showBoardName,t=this.props,n=t.isDenseView,o=t.isNewlySaved,l=t.name,p=t.shouldUseLegoStyles,f=t.type,h=t.url;if(p&&n)return null;var y,v,m="boardless"===f?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):l;if(!o||e||p){var _=p?(0,d.jsx)(u.xv,{color:"inverse",size:"300",weight:"bold",children:m.length<=20?m:(0,s.Z)(m,20)}):(0,d.jsx)(u.X6,{color:"inverse",size:"400",lineClamp:1,children:m}),b=(0,c.Z)({url:h})?"nofollow":"none";y=h?(0,d.jsx)(u.rU,{rel:b,href:h,children:_}):_}else y=(0,d.jsx)(u.xv,{color:"inverse",children:(0,d.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return o&&(v=e?"board":"saved"),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(a.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,d.jsx)("div",{"data-test-id":"savedInfo",className:!p&&i()("SavedAnimation",v),children:y})]})}}])&&v(t.prototype,n),o&&v(t,o),p}(r.Component);t.Z=function(e){var t=(0,l.ZP)();return(0,d.jsx)(O,h(h({},e),{},{i18n:t}))}},108529:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(333155);function o(e){return r.zI.includes(e)}},485308:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r=228},852964:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194};function o(e){return e&&e.reason&&r[e.reason]}},333155:function(e,t,n){"use strict";n.d(t,{UP:function(){return c},Wv:function(){return o},ZF:function(){return r},zI:function(){return i},zl:function(){return a}});var r=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],o=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],i=[].concat(o,["ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"]),a=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],c=["BaseBoardPinGrid"]},675725:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(680046);function o(e){var t,n,o=e.feedbackType,i=e.pin,a=e.viewParameter;return(0,r.hP)({boardFollowedByMe:!(null==i||null===(t=i.board)||void 0===t||!t.followed_by_me),feedbackType:o,promotion:i&&i.promoter&&{isDownstreamPromotion:!!i.is_downstream_promotion},pinnerFollowedByMe:!(null==i||null===(n=i.pinner)||void 0===n||!n.explicitly_followed_by_me),recommendationReason:(null==i?void 0:i.recommendation_reason)&&{hasBoard:!!i.recommendation_reason.board,reason:i.recommendation_reason.reason},viewParameter:a})}},784521:function(e,t){"use strict";t.Z={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},313951:function(e,t,n){"use strict";n.d(t,{i5:function(){return I},sX:function(){return C},aX:function(){return k},Z5:function(){return T},NG:function(){return R},MT:function(){return D},iu:function(){return N}});var r=n(76911),o=n(214494),i=n(16449),a=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){return e.data[t]&&e.data[t].messages||[]};function f(e,t){var n={};return e.filter((function(e){return!!e})).reduce((function(e,r){var o=t(r);return n[o]?(a()(n[o],r),e):(n[o]=r,e.concat([r]))}),[])}function h(e){return u(e).sort((function(e,t){return new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)}))}function y(e,t,n){return h(f(p(e,t).concat(n),(function(e){return e.id})))}var v={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;if("CONVERSATION_OPEN"===t.type)return s(s({},e),{},{open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:s(s({},e.ui),{},l({},t.payload.id,{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}))});if("CONVERSATION_CLOSE"===t.type)return s(s({},e),{},{open:null,objectAttachment:null,showNewMessageView:!1,ui:s(s({},e.ui),{},l({},t.payload.id,{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}))});if("CONVERSATION_CREATE"===t.type){var n=t.payload.id;return s(s({},e),{},{data:s(s({},e.data),{},l({},n,s(s({},e.data[n]||{}),t.payload)))})}if("CONVERSATION_DELETE"===t.type){var r=s(s({},e),{},{data:s({},e.data)}),o=t.payload.id;return delete r.data[o],r}if("FETCH_COMPLETE"===t.type){var i=t.payload,a=i.options,c=i.resource,d=i.response,m=d.resource_response.data;if("ConversationMessagesResource"===c){var _=m||[],b=(null==a?void 0:a.conversation_id)||"",g=y(e,b,_),w=g[g.length-1],P=s(s({},e),{},{data:s(s({},e.data),{},l({},b,s(s({},e.data[b]),{},{id:b,messages:g,unread:0,last_message:w})))});return P}if("ConversationsResource"===c){var O=m||[],S=s(s({},e),{},{data:s({},e.data)});return O.forEach((function(e){var t=e.id,n=e.created_at,r=e.name,o=e.board,i=e.emails,a=e.unread,c=e.users,l=e.last_message,u=y(S,t,[l]);S.data[t]=s(s({},S.data[t]),{},{id:t,created_at:n,name:r,board:o,emails:i||[],unread:a||0,users:c||[],last_message:l,messages:u})})),S}if("ConversationResource"===c){var x=m||{},j=x.id,E=s(s({},e),{},{data:s({},e.data)});return j&&(E.data[j]=s(s({},E.data[j]),x)),E}if("NewsHubBadgeResource"===c){if(m){var A=m.conversations_unseen_count||0;return s(s({},e),{},{unread:A})}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){var T=t.payload,I=T.id,k=T.message;return e.data[I]?s(s({},e),{},{data:s(s({},e.data),{},l({},I,s(s({},e.data[I]),{},{id:I,messages:[].concat(u(e.data[I].messages),[k])})))}):e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){var R=t.payload,C=R.id,D=R.tempMessage,N=R.newMessage;if(e.data[C]){var L=p(e,C).find((function(e){return e.id===D.id&&e.created_ms===D.created_ms}));if(L){var M=h(f(p(e,C).filter((function(e){return e.id!==D.id})).concat([N]),(function(e){return e.id})));return s(s({},e),{},{data:s(s({},e.data),{},l({},C,s(s({},e.data[C]),{},{last_message:N,messages:M})))})}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){var B=t.payload,Z=B.id,z=B.tempMessageId;if(e.data[Z]){var U=p(e,Z).filter((function(e){return e.id!==z}));return s(s({},e),{},{data:s(s({},e.data),{},l({},Z,s(s({},e.data[Z]),{},{messages:U})))})}return e}if("OPEN_NEW_MESSAGE"===t.type){var F=t.payload||null,V=F.objectAttachment;return s(s({},e),{},{showNewMessageView:!0,open:null,objectAttachment:V})}if("CLOSE_DROPDOWN"===t.type)return s(s({},e),{},{showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1});if("OPEN_DROPDOWN"===t.type)return s(s({},e),{},{showConversationsDropdown:!0});if("UPDATE_NEWSHUB_COUNT"===t.type)return s(s({},e),{},{newsHubCount:t.payload});if("UPDATE_UNREAD_COUNT"===t.type)return s(s({},e),{},{conversationsUnseenCount:t.payload});if("CLEAR_MESSAGE_BADGE"===t.type){var G=t.payload.id;return s(s({},e),{},{data:s(s({},e.data),{},l({},G,s(s({},e.data[G]),{},{unread:0})))})}if("CONVERSATION_SAVE_POSITION"===t.type){var H=t.payload,W=H.id,q=H.position;return s(s({},e),{},{data:s(s({},e.data),{},l({},W,s(s({},e.data[W]),{},{position:q})))})}if("CONVERSATION_RESET_POSITION"===t.type){var Y=t.payload.id;return s(s({},e),{},{data:s(s({},e.data),{},l({},Y,s(s({},e.data[Y]),{},{position:null})))})}if("SET_OBJECT_ATTACHMENT"===t.type){var K=t.payload.objectAttachment;return s(s({},e),{},{objectAttachment:K})}if("REMOVE_OBJECT_ATTACHMENT"===t.type)return s(s({},e),{},{objectAttachment:null})}return e}var _=n(425288),b=n(505920),g=n(515198);function w(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,c,"next",e)}function c(e){w(i,r,o,a,c,"throw",e)}a(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x,j=(x=0,function(){return x++}),E=(0,_.Z)("Conversations"),A=E.Provider,T=E.useHook;function I(e){var t=e.children,n=O((0,r.useReducer)(m,v),2),i=n[0],a=n[1],c=(0,r.useCallback)((function(e){return a({type:"FETCH_COMPLETE",payload:e})}),[]);(0,b.Z8)("ConversationMessagesResource",c),(0,b.my)("ConversationMessagesResource",c),(0,b.Z8)("ConversationsResource",c),(0,b.Z8)("ConversationResource",c),(0,b.Z8)("NewsHubBadgeResource",c);var s=(0,r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})}),[]),l=(0,r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})}),[]),u=(0,r.useCallback)((function(e){return a({type:"CONVERSATION_CREATE",payload:e})}),[]),d=(0,r.useCallback)((function(e){return a({type:"CONVERSATION_DELETE",payload:{id:e}})}),[]),p=(0,r.useCallback)((function(e,t){return a({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})}),[]),f=(0,r.useCallback)((function(e){return a({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})}),[]),h=(0,r.useCallback)((function(e,t,n){o.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((function(e){var t=e&&e.resource_response.data;a({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((function(e){var t=e.message_detail||e.message||"";n(t)}))}),[]),y=(0,r.useCallback)((function(){a({type:"CLOSE_DROPDOWN"})}),[]),_=(0,r.useCallback)((function(){a({type:"OPEN_DROPDOWN"})}),[]),w=(0,r.useCallback)((function(e){a({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),P=(0,r.useCallback)((function(e,t){return a({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})}),[]),S=(0,r.useCallback)((function(e,t,n){return a({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:n}})}),[]),x=(0,r.useCallback)((function(e,t){return a({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})}),[]),j=(0,r.useCallback)((function(e){return a({type:"UPDATE_NEWSHUB_COUNT",payload:e})}),[]),E=(0,r.useCallback)((function(e){return a({type:"UPDATE_UNREAD_COUNT",payload:e})}),[]),T=(0,r.useCallback)((function(e){return a({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})}),[]),I=(0,r.useCallback)((function(e){return a({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})}),[]),k=(0,r.useCallback)((function(){return a({type:"REMOVE_OBJECT_ATTACHMENT"})}),[]),R=(0,r.useMemo)((function(){return{clearMessageBadge:T,conversationOpen:s,conversationClose:l,conversationCreate:u,conversationDelete:d,conversationGet:h,saveConversationPosition:p,resetConversationPosition:f,dropdownClose:y,dropdownOpen:_,newMessageOpen:w,pendingMessageSend:P,pendingMessageSuccess:S,pendingMessageFailure:x,updateNewsHubCount:j,updateUnreadCount:E,conversations:i,setObjectAttachment:I,removeObjectAttachment:k}}),[T,s,l,u,d,h,p,f,y,_,w,P,S,x,j,E,i,I,k]);return(0,g.jsx)(A,{value:R,children:t})}function k(){var e=T().conversationCreate;return function(){var t=P(regeneratorRuntime.mark((function t(n){var r,i,a,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.Z.create("ConversationsResource",n),t.prev=1,t.next=4,i.callCreate();case 4:c=t.sent,(s=null===(a=c.resource_response)||void 0===a?void 0:a.data)&&(e(s),r=s),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(1),new Error(t.t0.message);case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function R(){var e=T(),t=e.conversations,n=e.conversationCreate,r=e.pendingMessageSend,i=e.pendingMessageSuccess,a=e.pendingMessageFailure;return function(){var e=P(regeneratorRuntime.mark((function e(c,s,l,u){var d,p,f,h,y,v,m,_,b,g,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(){return(m=P(regeneratorRuntime.mark((function e(){var t,n,s,v,m,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.Z.create("ConversationMessagesResource",{conversation_id:c,text:d,pin:p,board:f,user:h,user_did_it_data:y,source:l}),n="".concat(j()),s={text:d,sender:u,created_at:(new Date).toString(),created_ms:Date.now(),id:n,type:"tempMessage"},r(c,s),e.prev=4,e.next=7,t.callCreate();case 7:m=e.sent,(_=null===(v=m.resource_response)||void 0===v?void 0:v.data)&&i(c,s,_),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(4),a(c,n),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)},v=function(){return m.apply(this,arguments)},d=s.text,p=s.pinId,f=s.boardId,h=s.userId,y=s.didItId,t.data[c]){e.next=21;break}return _=o.Z.create("ConversationResource",{conversation_id:c}),e.prev=5,e.next=8,_.callGet();case 8:if(g=e.sent,!(w=null===(b=g.resource_response)||void 0===b?void 0:b.data)){e.next=14;break}return n(w),e.next=14,v();case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(5),new Error(e.t0.message);case 19:e.next=23;break;case 21:return e.next=23,v();case 23:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,n,r,o){return e.apply(this,arguments)}}()}function C(e){return T().conversations.data[e]}function D(e){return T().conversations.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function N(){var e,t,n=T().conversations.data,r=(e=n,Object.keys(e).map((function(t){return e[t]}))).filter((function(e){return e.users&&e.last_message}));return t=r,Array.from(t).sort((function(e,t){return new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)}))}},920085:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(867820);function o(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,s,"next",e)}function s(e){o(a,r,i,c,s,"throw",e)}c(void 0)}))}}function a(e,t){return c.apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t,n){var o,i,a,c,s,l,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.filename,i=t.imgSrc,a=t.imageDownloadSuccessCallback,c=t.category,s=t.isUnauth,l=t.pinId,u=t.viewParameter,d=t.viewType,"undefined"!=typeof window){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if((0,r.My)("web.".concat(s?"unauth":"auth",".download.click.").concat(c||"no_category")),n({event_type:82,object_id_str:l,view_type:d||3,view_parameter:u||139}),!i||!document){e.next=9;break}return e.abrupt("return",fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((function(e){return e.blob()})).then((function(e){var t,n,r=document.createElement("a");r.href=window.URL.createObjectURL(e),r.setAttribute("download",o&&o.replace(".","_")),r.style.display="none",null===(t=document.body)||void 0===t||t.appendChild(r),r.click(),null===(n=document.body)||void 0===n||n.removeChild(r),null==a||a()})).catch((function(){throw new Error("Download image error")})));case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},616211:function(e,t,n){"use strict";n.d(t,{W:function(){return c},Z:function(){return s}});var r=n(898781),o=n(908390),i=n(515198),a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},c={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function s(e){var t=e.isCloseupButton,n=e.isDisabled,s=e.isFavorited,l=e.onTap,u=e.size,d=(0,r.ZP)();return t?(0,i.jsx)(o.hU,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:s?c:a,disabled:n,iconColor:"darkGray",onClick:l,size:"lg"}):(0,i.jsx)(o.iP,{disabled:n,onTap:l,children:(0,i.jsx)(o.JO,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:s?c:a,size:u})})}},676464:function(e,t,n){"use strict";function r(e){var t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((function(e){return e.pin_type===t}))}n.d(t,{E:function(){return o},J:function(){return r}})},977558:function(e,t,n){"use strict";n.d(t,{L1:function(){return i},Rz:function(){return s},WZ:function(){return a},cI:function(){return o},fe:function(){return c},hu:function(){return r}});var r=64,o=80,i=22,a="HeaderContent",c=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},807532:function(e,t,n){"use strict";n.d(t,{C:function(){return d},f:function(){return u}});var r=n(76911),o=n(425288),i=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,o.Z)("MostRecentPin"),l=s.Provider,u=s.useHook;function d(e){var t=e.children,n=a((0,r.useState)(),2),o=n[0],c=n[1],s=a((0,r.useState)(),2),u=s[0],d=s[1],p=(0,r.useCallback)((function(e){var t=u?u.slice(0,10):[],n=[e].concat(t.filter((function(t){return t!==e})));d(n)}),[u]),f=(0,r.useMemo)((function(){return{id:o,plpImageSignatures:u,setMostRecentPinId:c,setMostRecentPinImage:p}}),[o,u,p]);return(0,i.jsx)(l,{value:f,children:t})}},379764:function(e,t,n){"use strict";var r=n(183007),o=new(n(908390).H3)([r.N]);t.Z=o},831539:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(474236),o=n(941646),i=n(898781),a=n(892819),c=n(349700),s=n(780280),l=n(561195),u=n(908390),d=n(515198),p=function(e){var t=e.rating,n=e.textSize;if("single"===e.type){var r=parseFloat(t);return Number.isNaN(r)?null:(0,d.jsxs)(u.kC,{alignItems:"center",children:[(0,d.jsx)(l.A,{fill:"full",width:12}),(0,d.jsx)(u.xv,{size:n,children:r.toFixed(1)})]})}return(0,d.jsx)(l.Z,{rating:t,width:12})},f=function(e){var t=e.bracket,n=e.count,r=e.countFormat,l=e.countType,p=e.marginStart,f=e.textSize,h=e.underline,y=(0,s.B)().locale,v=(0,i.ZP)(),m=(0,a.Z)();if(null==n)return null;var _=m(y,n,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===r){var b="review"===l?v.ngettext('{{ count }} review', '{{ count }} reviews', n, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):v.ngettext('{{ count }} rating', '{{ count }} ratings', n, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');_=(0,c.nk)(b,{count:n}).join("")}return t&&(_="(".concat(_,")")),(0,d.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:h?"1px solid gray":"none"}},marginStart:p,children:(0,d.jsx)(u.xv,{color:h?"subtle":"default",size:f,underline:h,children:(0,d.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:_})})})};function h(e){var t=e.bracket,n=e.count,o=e.countFormat,i=e.countType,a=e.rating,c=e.textSize,s=e.underline;return(0,r.Z)({count:n,rating:a})?(0,d.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(p,{rating:a,textSize:c,type:"multiple"}),(0,d.jsx)(f,{bracket:t,count:n,countFormat:o,countType:i,textSize:c,underline:s})]}):null}},474236:function(e,t,n){"use strict";function r(e){var t=e.count,n=e.rating;return Boolean(n&&"None"!==n&&Number.isFinite(t))}n.d(t,{Z:function(){return r}})},99137:function(e,t,n){"use strict";n.d(t,{x:function(){return u},y:function(){return d}});var r=n(76911),o=n(425288),i=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,o.Z)("ProfileViewContext"),l=s.Provider,u=s.useMaybeHook;function d(e){var t=e.children,n=a((0,r.useState)(),2),o=n[0],c=n[1],s=a((0,r.useState)(new Map),2),u=s[0],d=s[1],p=a((0,r.useState)(),2),f=p[0],h=p[1],y=a((0,r.useState)(),2),v=y[0],m=y[1],_=(0,r.useCallback)((function(e,t){d(new Map(u.set(e,t)))}),[u]),b=(0,r.useMemo)((function(){return{boardPinDensity:o,boardSortOrder:u,profileBoardView:f,profilePinDensity:v,setBoardPinDensity:c,updateBoardSortOrder:_,setProfileBoardView:h,setProfilePinDensity:m}}),[o,u,f,v,_]);return(0,i.jsx)(l,{value:b,children:t})}},130460:function(e,t,n){"use strict";n.d(t,{bn:function(){return s},fJ:function(){return u},gC:function(){return l}});var r=n(506979),o=n(425288),i=n(515198),a=(0,o.Z)("Boards"),c=a.Provider,s=a.useHook;function l(){var e=s();return function(t){return e[t]}}function u(e){var t=e.children,n=(0,r.useSelector)((function(e){return e.boards}),r.shallowEqual);return(0,i.jsx)(c,{value:n,children:t})}},350118:function(e,t,n){"use strict";n.d(t,{AF:function(){return s},H0:function(){return l},S6:function(){return u},_S:function(){return d}});var r=n(506979),o=n(425288),i=n(515198),a=(0,o.Z)("Pins"),c=a.Provider,s=a.useHook,l=a.useMaybeHook;function u(){var e=s();return function(t){return e[t]}}function d(e){var t=e.children,n=(0,r.useSelector)((function(e){return e.pins}),r.shallowEqual);return(0,i.jsx)(c,{value:n,children:t})}},698330:function(e,t,n){"use strict";n.d(t,{Tt:function(){return p},cm:function(){return d},kW:function(){return l},kY:function(){return f},mN:function(){return u}});var r=n(506979),o=n(19121),i=n(425288),a=n(515198),c=(0,i.Z)("Users"),s=c.Provider,l=c.useHook;function u(){var e=l();return function(t){return e[t]}}function d(){var e=l();return function(t){var n=Object.keys(e).find((function(n){return e[n].username===t}));return e[null!=n?n:""]}}function p(){var e=(0,o.Z)().id;return l()[null!=e?e:""]}function f(e){var t=e.children,n=(0,r.useSelector)((function(e){return e.users}),r.shallowEqual);return(0,a.jsx)(s,{value:n,children:t})}},2396:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(76911),o=n(482981),i=n(827021),a=n(121151),c=n(750869),s=n(946984),l=n(908390),u=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=new l.Ry(1),O=function(e){return(0,e.children)((0,s.Z)())},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(d,e);var t,n,r,s=m(d);function d(){var e;h(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(b(e=s.call.apply(s,[this].concat(n))),"handleDismiss",(function(){(0,e.props.onFlyoutDismiss)()})),w(b(e),"onHide",(function(){e.props.onClick(),e.handleDismiss()})),w(b(e),"flyoutProps",(function(){var t,n=e.props,r=n.gridDescription,a=n.idealDirection,s=n.imageSrc,l=n.pinId,d=n.userId,p=n.board,h=n.sendType,y=n.fullName,v=n.profileUrl,m=n.element,_=n.viewParameter,b=n.component,g=n.viewType,w=n.onExternalSend,P=n.showCaret,O=n.todayArticle,S=n.ownerId,x={description:r,id:l,imageUrl:s,name:"",type:c.d.PIN,url:"/pin/".concat(l,"/"),ownerId:S},j=c.d.PIN;switch(h){case"user":x={description:r,id:d,imageUrl:s,name:y,type:c.d.PINNER,url:v},j=c.d.USER;break;case"board":x=p&&{description:p.description,id:p.id,imageUrl:p.imageUrl,name:p.name,type:c.d.BOARD,url:p.url,ownerId:null===(t=p.owner)||void 0===t?void 0:t.id},j=c.d.BOARD;break;case"today_article":x=O&&{description:O.subtitle||"",id:O.id,imageUrl:s,name:O.title,type:c.d.TODAY_ARTICLE,url:(0,o.Z)(O)},j=c.d.TODAY_ARTICLE}var E={element:m,component:b,onHide:e.onHide,onExternalSend:w,sendType:j,sharedObject:x,viewParameter:_,viewType:g};return{anchor:e.flyoutAnchor,idealDirection:a,onDismiss:e.handleDismiss,showCaret:P,children:(0,u.jsx)(i.default,f({},E))}})),e}return t=d,(n=[{key:"toggle",value:function(){var e=this.props,t=e.isOwnProfile,n=e.onToggleFlyout,r=e.sendType,o=e.userId,i=e.logContextEvent;"user"===r&&i({event_type:101,component:13675,element:1079,object_id_str:o,view_type:4,view_parameter:t?3106:3107}),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.Subject,r=t.inModal,o=t.isFlyoutOpen,i=t.shownWithinMasonry,c=t.shownWithinProfileHeader,s=this.flyoutProps(),d=s.anchor,p=s.idealDirection,h=s.showCaret,y=s.children,v=(0,u.jsx)(l.xu,{children:(0,u.jsx)(O,{children:function(t){return(0,u.jsx)(n,f({handleSendShareFlyoutButtonClick:function(n){t?t():(null!=n&&n.stopPropagation&&n.stopPropagation(),e.toggle())}},e.props))}})}),m=o&&(i||c?(0,u.jsx)(l.mh,{zIndex:c?P:void 0,children:(0,u.jsx)(l.xu,{zIndex:r?a.b7:void 0,position:r?"absolute":void 0,top:!!r||void 0,children:(0,u.jsx)(l.J2,{anchor:d,idealDirection:p,onDismiss:function(){e.handleDismiss()},showCaret:h,size:"flexible",positionRelativeToAnchor:!1,children:y})})}):(0,u.jsx)(l.J2,{anchor:d,idealDirection:p,onDismiss:function(){e.handleDismiss()},showCaret:h,size:"flexible",children:y}));return(0,u.jsxs)(l.xu,{ref:function(t){t&&(e.flyoutAnchor=t)},dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[v," ",m]})}}])&&y(t.prototype,n),r&&y(t,r),d}(r.Component);w(S,"defaultProps",{idealDirection:"down",onClick:function(){}});var x=n(112690);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return function(t){var n=(0,x.Z)();return(0,u.jsx)(S,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Subject:e,logContextEvent:n},t))}}},17676:function(e,t,n){"use strict";n.d(t,{l:function(){return v},E:function(){return y}});var r=n(76911),o=n(425288);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SUGGESTIONS_FETCH_COMPLETE"===t.type){var n=t.payload;if("ShareSuggestionsResource"===n.resource){var r,o=t.payload.response.resource_response.data||[],i=null!==(r=n.options)&&void 0!==r?r:{},s=i.term,l=void 0===s?"":s;return a(a({},e),{},c({},l,o))}if("ShareSuggestionsTypeaheadResource"===n.resource){var u,d=t.payload.response.resource_response.data||{},p=d.items||[],f=null!==(u=n.options)&&void 0!==u?u:{},h=f.term,y=void 0===h?"":h;return a(a({},e),{},c({},y,p))}}return e}var l=n(505920),u=n(515198);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=(0,o.Z)("ShareSuggestions"),h=f.Provider,y=f.useHook;function v(e){var t=e.children,n=d((0,r.useReducer)(s,{}),2),o=n[0],i=n[1],a=function(e){i({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,l.Z8)("ShareSuggestionsResource",a),(0,l.Z8)("ShareSuggestionsTypeaheadResource",a);var c=(0,r.useMemo)((function(){return{shareSuggestions:o}}),[o]);return(0,u.jsx)(h,{value:c,children:t})}},108234:function(e,t,n){"use strict";n.d(t,{Z:function(){return w},s:function(){return g}});var r=n(76911),o=n(121151),i=n(317197),a=n(898781),c=n(349700),s=n(908390),l=n(515198),u=function(){var e,t=(0,a.ZP)(),n=(null!==(e=g())&&void 0!==e?e:{}).dismissWarning;return(0,l.jsx)(s.xu,{paddingX:3,children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:n,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},d=function(){var e=(0,a.ZP)();return(0,l.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(s.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=function(e){var t,n=e.message,r=e.sanitized_url,p=(0,a.ZP)(),f=(null!==(t=g())&&void 0!==t?t:{}).dismissWarning;return(0,l.jsx)(o.ZP,{accessibilityModalLabel:p._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:f,heading:p._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,l.jsx)(u,{}),children:(0,l.jsxs)(s.xu,{padding:6,children:[(0,l.jsx)(s.xv,{children:(0,c.nk)("{{ message }} {{ learnMore }}",{message:n,learnMore:(0,l.jsx)(d,{},"learnMoreLink")})}),(0,l.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,l.jsx)(s.xu,{marginEnd:3,children:(0,l.jsx)(s.JO,{accessibilityLabel:p._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,l.jsx)(s.xv,{inline:!0,lineClamp:1,weight:"bold",children:i.parse(r).hostname})]})]})})};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=(0,n(425288).Z)("SpammyClickthrough"),b=_.Provider,g=_.useMaybeHook;function w(e){var t=e.children,n=v((0,r.useState)(null),2),o=n[0],i=n[1],a=(0,r.useCallback)((function(){i(null)}),[i]),c=(0,r.useCallback)((function(e){i(e)}),[i]),s=(0,r.useMemo)((function(){return{dismissWarning:a,showWarning:c}}),[a,c]);return(0,l.jsxs)(b,{value:s,children:[o&&(0,l.jsx)(p,h({},o)),t]})}},202870:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},j:function(){return s}});var r=n(898781),o=n(349700),i=n(773285),a=n(908390),c=n(515198),s=[0,2,3];function l(e){var t,n=e.hasAffiliateProducts,l=e.href,u=e.isPromoted,d=e.onNavigateSponsorClick,p=e.sponsorName,f=e.sponsorUsername,h=e.sponsorshipStatus,y=e.textWeight,v=void 0===y?"bold":y,m=(0,r.ZP)(),_=(0,i.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,b=(0,i.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,g=l||(f?"/".concat(f,"/"):null),w=g&&p?(0,c.jsx)(a.rU,{href:g,onClick:d,children:(0,c.jsx)(a.xv,{weight:v,size:"200",children:p})},p):void 0;u?t=(0,o.nk)(m._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:w}):h||0===h?p&&!s.includes(h)?t=(0,o.nk)(m._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:w}):b&&2===h||(t=m._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):n&&(t=m._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));var P=_&&!u?"Ad  ":"";return(0,c.jsxs)(a.xv,{inline:!0,size:"200",lineClamp:2,children:[P,t]})}},966676:function(e,t,n){"use strict";n.d(t,{Nb:function(){return c},Of:function(){return s},YO:function(){return a},x4:function(){return u}});var r=n(76911),o=n(620707),i=n(92261),a=function(e){var t=e.showProductDetailPage,n=e.isLargerPane,r=e.showCloseupContentRight;return t&&n?r?i.Uj:i.zT:1},c=(0,o.qe)((function(e){return{paneWidth:e.paneWidth,pdpCarouselSlotToPaneRatio:e.pdpCarouselSlotToPaneRatio,showCloseupContentRight:e.showCloseupContentRight,showProductDetailPage:e.showProductDetailPage,viewportSize:e.viewportSize,maxWidth:e.maxWidth,descriptionPaneWidth:e.descriptionPaneWidth}})),s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg},l=(0,r.createContext)(s);function u(){var e=(0,r.useContext)(l);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}t.ZP=l},92261:function(e,t,n){"use strict";n.d(t,{$T:function(){return v},CI:function(){return i},Ch:function(){return c},Gb:function(){return s},Gg:function(){return r},Ie:function(){return p},KP:function(){return f},Kn:function(){return a},Uj:function(){return l},bx:function(){return h},d2:function(){return d},g9:function(){return y},iB:function(){return m},u6:function(){return o},zT:function(){return u}});var r=508,o=2*r,i=488,a=992,c=672,s=1176,l=.6,u=.84,d=40,p=72,f=740,h=912,y=32,v=24,m={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},814197:function(e,t,n){"use strict";n.d(t,{Cq:function(){return d},Dk:function(){return f},Fk:function(){return i},fS:function(){return u},km:function(){return p},lI:function(){return c},lJ:function(){return a},mS:function(){return l},qW:function(){return s},t5:function(){return h}});var r=n(908390),o=n(977558),i=new r.Ry(1),a=3,c=new r.Ry(a),s=2,l=new r.Ry(s),u=3,d=4,p=new r.Ry(5),f=new r.Ry(100),h=new r.Ry(o.fe+1)},398061:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},e:function(){return a}});var r=n(780280),o=n(908390),i=n(515198),a=new o.Ry(1);function c(e){var t=e.children,n=e.isImagePinForUnauthOnTablet,c=(0,r.B)().isAuthenticated;return(0,i.jsxs)(o.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:n?"40vw":void 0}},zIndex:c?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!n||void 0,top:!0,children:[(0,i.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),t]})}},538232:function(e,t,n){"use strict";n.d(t,{R:function(){return i},q:function(){return o}});var r=(0,n(425288).Z)("CloseupPageContext"),o=r.Provider,i=r.useHook},183007:function(e,t,n){"use strict";n.d(t,{N:function(){return x},Z:function(){return j}});var r=n(76911),o=n(223815),i=n(248041),a=n(898781),c=n(52022),s=n(867820),l=n(908390),u=n(515198);function d(e){var t=e.icon,n=(0,i.Z)().hide,r=(0,a.ZP)(),d=(0,c.Z)();return(0,u.jsx)(o.Z,{children:(0,u.jsx)(l.xu,{"data-test-id":"expandButton",children:(0,u.jsx)(l.hU,{icon:t||"maximize",size:t?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:r._('Expand Image', 'mweb.closeup.image.expand.a11y', 'Accessibility label for the expand icon'),onClick:function(e){e.event.stopPropagation(),(0,s.My)("mweb_pin_page.pin_image.enlarge_image"),(0,s.NC)("click_expand_image"),d({action:"click",item:"expand-button",within:"pin-image"}),n()}})})})}var p=n(700380),f=n(50286),h=n(792182),y=n(398061),v=n(444445),m=n(773285);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=.3,S=.75,x=new l.H3([y.e]),j=function(e){var t,n=e.children,o=e.closableDrawer,a=(0,i.Z)().hide,c=(0,r.useRef)(null),s=(0,r.useRef)(null),y=w((0,r.useState)(null),2),_=y[0],g=y[1],P=w((0,r.useState)(0),2),j=P[0],E=P[1],A=w((0,r.useState)(!1),2),T=A[0],I=A[1],k=(null===(t=(0,h.Z)())||void 0===t?void 0:t.height)||0,R=w((0,r.useState)(!1),2),C=R[0],D=R[1],N=(0,f.ZP)(),L=(0,m.F)().checkExperiment,M=null!=_?_:.75*k,B=function(){var e,t=(null===(e=c.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&k>0?t-k*O+60:0};return(0,r.useEffect)((function(){var e=function(){var e,t=(null===(e=c.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+M>t&&a()};e();var t=(0,p.Z)(e,10);return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[a,M]),(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(l.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:x,height:null===_?"".concat(25,"vh"):"calc(100vh - ".concat(_,"px)"),dangerouslySetInlineStyle:{__style:b(b({},T?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{}),{},{borderRadius:0===_&&T?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"})},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:s,onTouchStart:function(e){var t=e.touches[0].clientY;E(t),I(!1)},onTouchMove:function(e){e.preventDefault();var t,n=e.touches[0].clientY,r=null!=_?_:.75*window.innerHeight,o=n-j;if(null!==r&&o){var i=k*O,a=k*S,c=Math.floor(Math.min(a,Math.max(i,r+o)));g(c);var s=B();if(k>0&&s>0){var l=s*(t=c/k,1-(Math.max(O,Math.min(S,t))-O)/.45);window.pageYOffset<l&&window.scrollTo({top:l})}c<.525*k&&D(!0)}E(n)},onTouchEnd:function(){if(C){I(!0),g(k*O);var e=B();e&&window.scrollTo({top:e,behavior:"smooth"}),D(!1)}},children:["desktop"!==N&&(o?(0,u.jsx)(l.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:o?0:4,paddingY:1,children:(0,u.jsx)(d,{icon:"cancel"})}):!L("pcons_remove_expand_button").anyEnabled&&(0,u.jsx)(l.xu,{position:"absolute",top:!0,right:!0,children:(0,u.jsx)(l.xu,{position:"absolute",bottom:!0,right:!0,children:(0,u.jsx)(l.xu,{padding:3,children:(0,u.jsx)(d,{})})})})),(0,u.jsx)(l.xu,{paddingX:v.D6,children:n})]}),(0,u.jsx)(l.xu,{ref:c,height:"100vh"})]})}},95551:function(e,t,n){"use strict";var r=n(898781),o=n(908390),i=n(780280),a=n(515198);t.Z=function(e){var t=e.onSendButtonClick,n=e.trackShareTap,c=e.color,s=e.size,l=e.bgColor,u=(0,r.ZP)(),d="android"===(0,i.B)().userAgent.platform;return(0,a.jsx)(o.hU,{accessibilityLabel:u._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:function(e){var r=e.event;t(r),n()},size:s||"lg",bgColor:l||"transparent",iconColor:c||"darkGray",icon:d?"android-share":"share"})}},248041:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var r=n(76911),o=n(867820),i=n(609500),a=n(515198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,r.createContext)({hide:function(){},isHidden:!0,isScrolledToPins:!1,scrollToPins:function(){}});function u(e){var t=e.children,n=e.isEligible,s=c((0,r.useState)(!n),2),u=s[0],d=s[1],p=c((0,r.useState)(!1),2),f=p[0],h=p[1],y=(0,i.useLocation)().pathname;(0,r.useEffect)((function(){d(!n)}),[y,n]);var v=(0,r.useCallback)((function(){(0,o.My)("web_unification.expand_click.hide_drawer"),d(!0)}),[]),m=(0,r.useCallback)((function(e){h(!!e)}),[]),_=(0,r.useMemo)((function(){return{isHidden:u,hide:v,isScrolledToPins:f,scrollToPins:m}}),[u,v,f,m]);return(0,a.jsx)(l.Provider,{value:_,children:t})}t.Z=function(){return(0,r.useContext)(l)}},356725:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(506979),o=n(834911),i=n(447948),a=n(35495),c=n(407043),s=n(350118),l=n(966676),u=n(908390),d=n(515198);function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=e.carouselData,n=e.carouselIndex,f=e.componentType,h=e.contextLogData,v=e.handleCarouselSwipe,m=e.isCloseup,_=e.isEditMode,b=e.pinId,g=e.viewParameter,w=e.viewType,P=e.variant,O=(0,c.v)().logContextEvent,S=(0,s.S6)()(b),x=t||(0,o.Z)({carouselData:null==S?void 0:S.carousel_data,images:null==S?void 0:S.images,richMetadata:null==S?void 0:S.rich_metadata,richSummary:null==S?void 0:S.rich_summary}),j=(0,r.useDispatch)();if(!x)return null;var E=function(e,t,n){_||void 0===i.yR||(e.preventDefault(),e.stopPropagation(),j((0,i.yR)(String(b),n))),void 0!==v&&v(n),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0;if(!(arguments.length>10?arguments[10]:void 0)){var d=i.carousel_slots,p=i.id;e({event_type:108,object_id_str:n,component:l,view_type:s,view_parameter:c,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==d?void 0:d[r])&&Number(d[r].id),carouselDataId:Number(p),carouselSlotIndex:r,toCarouselSlotIndex:o}},aux_data:y(y({},u),(0,a.Kl)(t)||{})})}}(O,S,b,t,n,x,g,w,f,h,_)},A=x.carousel_slots,T=void 0===A?[]:A,I=x.index,k=void 0!==n?n:I,R="default"===P,C=R?"white":"#555",D=R?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,d.jsx)(l.ZP.Consumer,{children:function(e){return"sm"===e.viewportSize?null:(0,d.jsx)(u.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:m?"end":"center",paddingY:_?1:0,children:p(Array(T.length).keys()).map((function(e){var t;return(0,d.jsx)(u.xu,{paddingX:1,children:(0,d.jsx)(u.iP,{accessibilityLabel:null!==(t=T[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:function(t){var n=t.event;return E(n,k,e)},rounding:"circle",children:(0,d.jsx)(u.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===k?C:D}},rounding:"circle"})})},b+e)}))})}})}},876371:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(76911),o=n(564194),i=n(834911),a=n(737022),c=n(310227),s=n(350118),l=n(898781),u=n(908390),d=n(455024),p=n(444445),f=n(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,r,i=_(s);function s(){var e;y(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(g(e=i.call.apply(i,[this].concat(n))),"state",{showBadge:!0}),S(g(e),"renderBadge",(function(){var t=e.props,n=t.carouselData,r=t.isCloseup,o=t.showCarouselBadge;if(!n)return null;var i=e.state.showBadge,a=n.carousel_slots,c=n.index,s=i?.8:0;return!r&&o?(0,f.jsx)(u.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new u.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:s,transition:"opacity .3s"}},children:(0,f.jsx)(u.xv,{color:"inverse",children:"".concat((null!=c?c:0)+1,"/").concat((null!=a?a:[]).length)})}):null})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout((function(){return e.setState({showBadge:!1})}),3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,r=e.carouselData,o=this.props.carouselData;if(r&&o){var i=r.index,a=o.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout((function(){return t.setState({showBadge:!1})}),3e3)),i!==a&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCloseup,r=t.carouselIndex,i=t.closeupHeight,s=t.closeupWidth,l=void 0===s?0:s,h=t.widthRatio,y=void 0===h?1:h,v=t.cropHeight,m=t.cropWidth,_=t.carouselData,b=t.disableTransition,g=t.highResOnly,w=t.lowResOnly,P=t.onError,x=t.onLoad,j=t.pinId,E=t.isEditMode,A=t.isDenseView,T=t.pin;if(!_)return null;if(y>1||y<0)throw new Error("widthRatio should be between 0 and 1 inclusive");var I,k=_.carousel_slots,R=void 0===k?[]:k,C=_.index,D=void 0===C?0:C,N=void 0!==r?r:D,L=!n&&m,M=R[N].images;I=n?l:L||(g?474:A?p.Lo:p.yF);var B,Z,z=Math.floor(I*y),U=(null==M?void 0:M["236x"])||{},F=v||U.height||0,V=m||U.width||236,G=i||F/V*z,H=(B=R.reduce((function(e,t){var n,r=t.images,o=(null==r?void 0:r["736x"])||(null==r?void 0:r["236x"])||{},i=o.height,a=void 0===i?1:i,c=o.width,s=void 0===c?1:c,l="".concat(s,"x").concat(a),u=(null===(n=e[l])||void 0===n?void 0:n.times)||0;return O(O({},e),{},S({},l,{imageHeight:a,imageWidth:s,times:u+1}))}),{}),Z=Object.keys(B).reduce((function(e,t){return B[t].times>e.times?B[t]:e}),{times:-1,imageHeight:-1,imageWidth:-1}),Object.keys(B).length>1?{imageHeight:Z.imageHeight,imageWidth:Z.imageWidth}:null);return(0,f.jsxs)(u.xu,{height:G,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.Ml,"data-test-image-signature":null==T?void 0:T.image_signature,children:[!E&&this.renderBadge(),(0,f.jsx)(o.Z,{carouselData:_,trackCarousel:!0,impressionType:"Pin",loggingId:j,slotIndex:D,viewParameter:72,viewType:1,children:(0,f.jsx)(u.xu,{position:"absolute",height:G,width:z,overflow:"hidden"})},"carousel-impression-key-".concat(N)),(0,f.jsx)(u.xu,{width:z*R.length,dangerouslySetInlineStyle:{__style:{transition:b?"":"left .3s",left:(0,d.vF)(R.length,z,I,N)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:R.map((function(t,r){if(n){var o=r===R.length-1;return function(e,t){var n=e.pinId,r=e.slot,o=e.slotIndex,i=e.onError,c=e.onLoad,s=e.widthToUse,l=e.gap,p=(0,a.Z)(r.images)||{},h=p.url,y=p.width,v=p.height,m=r.details,_=void 0===m?"":m,b=(0,d.GH)(_,t,o);return(0,f.jsx)(u.xu,{"data-test-id":"carousel-slot-container",width:s,height:"100%",marginEnd:l,children:(0,f.jsx)(u.zd,{height:"100%",wash:!0,children:(0,f.jsx)(u.Ee,{alt:b,fit:"contain",naturalHeight:null!=v?v:1,naturalWidth:null!=y?y:1,onError:i,onLoad:c,src:null!=h?h:""})})},"carousel-slot-".concat(n,"-").concat(o))}({pinId:j,slot:t,slotIndex:r,onError:P,onLoad:x,widthToUse:z,gap:z<I&&!o?1:0},e.props.i18n)}return function(e,t,n,r,o,i,a,c,s,l,p,h,y,v,m){var _,b,g,w,P,O,S,x,j,E,A,T,I=t.images,k=t.details,R=void 0===k?"":k,C=236,D=236,N="";if(o?(C=474,D=I&&Math.min(C/.8,C/((null!==(P=null===(O=I["564x"])||void 0===O?void 0:O.width)&&void 0!==P?P:1)/(null!==(S=null===(x=I["564x"])||void 0===x?void 0:x.height)&&void 0!==S?S:1))),N=I&&(null===(j=I["564x"])||void 0===j?void 0:j.url)):I&&I["736x"]?(D=I&&I["736x"]&&I["736x"].height,C=I&&I["736x"]&&I["736x"].width,N=I&&I["736x"]&&I["736x"].url):I&&I["236x"]&&(D=I&&I["236x"]&&I["236x"].height,C=I&&I["236x"]&&I["236x"].width,N=I&&I["236x"]&&I["236x"].url),y&&v&&(D=Math.min(y*v,null!==(E=D)&&void 0!==E?E:1)),i)w="".concat(null!==(A=null==I||null===(T=I["236x"])||void 0===T?void 0:T.url)&&void 0!==A?A:""," 1x");else if(o){var L,M;w="".concat(null!==(L=null==I||null===(M=I["564x"])||void 0===M?void 0:M.url)&&void 0!==L?L:""," 1x")}else{var B,Z,z;w=[(null==I?void 0:I["474x"])&&"".concat(null!==(B=I["474x"].url)&&void 0!==B?B:""," 2x"),(null==I?void 0:I["736x"])&&"".concat(null!==(Z=I["736x"].url)&&void 0!==Z?Z:""," 3x"),(null==I?void 0:I.orig)&&"".concat(null!==(z=I.orig.url)&&void 0!==z?z:""," 4x")].filter(Boolean).join(", ")}var U=(0,d.GH)(R,e,r),F=h?void 0:D,V=h?void 0:C,G=m?{boxHeight:null==m?void 0:m.imageHeight,boxWidth:null==m?void 0:m.imageWidth}:{boxHeight:F,boxWidth:V},H=G.boxHeight,W=G.boxWidth;return(0,f.jsx)(u.xu,{"data-test-id":"carousel-slot-container",height:H,width:W,children:(0,f.jsx)(u.xu,{height:h?p:void 0,width:h||void 0,"data-test-id":"carousel-img-".concat(r),children:(0,f.jsx)(u.Ee,{alt:U,fit:h?"cover":"none",naturalHeight:null!==(_=D)&&void 0!==_?_:1,naturalWidth:null!==(b=C)&&void 0!==b?b:1,onError:a,onLoad:c,src:null!==(g=N)&&void 0!==g?g:"",srcSet:w})})},"carousel-slot-".concat(n,"-").concat(r))}(e.props.i18n,t,j,r,g,w,P,x,0,0,v,m,G,z,H)}))})]})}}])&&v(t.prototype,n),r&&v(t,r),s}(r.Component);function j(e){var t=(0,l.ZP)(),n=(0,s.S6)()(e.pinId)||e.pin,r=(0,i.Z)({carouselData:null==n?void 0:n.carousel_data,images:null==n?void 0:n.images,richMetadata:null==n?void 0:n.rich_metadata,richSummary:null==n?void 0:n.rich_summary,shouldUnifyImageSizes:!0});return(0,f.jsx)(x,O(O({},e),{},{carouselData:r,i18n:t}))}S(x,"defaultProps",{showCarouselBadge:!0})},455024:function(e,t,n){"use strict";n.d(t,{CU:function(){return i},GH:function(){return s},Iw:function(){return c},gA:function(){return l},tD:function(){return a},vF:function(){return u}});var r=function e(t){var n=t.containerWidth,r=t.contentWidth,o=t.index,i=t.slotAndGapWidth,a=o-1,c=a*i;return r-c>=n?c:e({index:a,slotAndGapWidth:i,containerWidth:n,contentWidth:r})},o=function(e){var t=e.containerWidth,n=e.contentWidth,o=e.gap,i=e.index,a=e.slidesShownPerPosition,c=e.slotAndGapWidth;return r({containerWidth:t,contentWidth:n,index:i,slotAndGapWidth:c})+function(e){var t=e.slidesShownPerPosition,n=e.slotAndGapWidth;return n-(t-parseInt(t,10))*n}({slidesShownPerPosition:a,slotAndGapWidth:c})-o},i=function(e){var t=e.containerWidth,n=e.gap,r=e.index,i=e.numberOfSlides,a=e.slotWidth+n,c=a*i;if(c<=t)return 0;var s=t/a,l=function(e){var t=e.index,n=e.numberOfSlides,r=e.slidesShownPerPosition;return n-t-Math.floor(r)<1}({index:r,numberOfSlides:i,slidesShownPerPosition:s})?o({containerWidth:t,contentWidth:c,gap:n,index:r,slidesShownPerPosition:s,slotAndGapWidth:a}):r*a;return l?Math.round(-l):0},a=function(e){var t=e.containerWidth,n=e.gap,r=e.index,o=e.numberOfSlides,a=e.slotWidth,c=(a+n)*o;if(c<=t||0===t)return!0;var s=i({containerWidth:t,gap:n,index:r,numberOfSlides:o,slotWidth:a}),l=c-t;return Math.abs(s)+n>=l},c=function(e){var t=e.containerWidth,n=e.currentIndex,r=e.gap,o=e.index,a=e.numberOfSlides,c=e.slotWidth,s=c+r;return s*a<=t||0===t||i({containerWidth:t,gap:r,index:n,numberOfSlides:a,slotWidth:c})+s*o<t+s},s=function(e,t,n){return e||"".concat(t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')," ").concat(n)},l=function(e){var t,n,r,o,i,a,c,s=e.highResOnly,l=e.lowResOnly,u=e.slot.images;return l?"".concat(null!==(o=null==u||null===(i=u["236x"])||void 0===i?void 0:i.url)&&void 0!==o?o:""," 1x"):s?"".concat(null!==(a=null==u||null===(c=u["564x"])||void 0===c?void 0:c.url)&&void 0!==a?a:""," 1x"):[(null==u?void 0:u["474x"])&&"".concat(null!==(t=u["474x"].url)&&void 0!==t?t:""," 2x"),(null==u?void 0:u["736x"])&&"".concat(null!==(n=u["736x"].url)&&void 0!==n?n:""," 3x"),(null==u?void 0:u.orig)&&"".concat(null!==(r=u.orig.url)&&void 0!==r?r:""," 4x")].filter(Boolean).join(", ")},u=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(n===t)return r*t*-1;var i=Math.floor(n-t),a=t+o;return r===e-1?-1*r*a+i:-1*r*a}},865607:function(e,t,n){"use strict";n.d(t,{O:function(){return l},Z:function(){return u}});var r=n(76911),o=n(898781),i=n(966113),a=n(908390),c=n(515198),s={xs:12,sm:16,md:20,lg:24};function l(e){var t=e.children,n=(0,o.ZP)();return(0,c.jsx)(a.u,{link:(0,c.jsx)(a.rU,{href:i.vB,target:"blank",children:(0,c.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:n._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:n._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function u(e){var t=e.hasVerifiedIdentity,n=e.iconOnly,i=e.isVerifiedMerchant,u=e.showText,d=e.size,p=(0,o.ZP)(),f=(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(a.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[d]}),u&&(0,c.jsx)(a.xu,{marginStart:2,children:(0,c.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,c.jsxs)(r.Fragment,{children:[i&&!n&&(0,c.jsx)(l,{children:f}),i&&n&&f,t&&!i&&(0,c.jsx)(a.JO,{accessibilityLabel:p._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[d]})]})}},998651:function(e,t,n){"use strict";n.d(t,{L:function(){return c},r:function(){return a}});var r=n(385740),o=n(909499),i=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function a(e,t){var n=e.query,i=e.rs,a=e.scope,c=(0,r.BE)(),s=!(null!=c&&c.viewType||null!=c&&c.viewParameter),l=(0,o.wF)(a);if(!s&&l){var u=null!=c?c:{};t({event_type:l,view_type:u.viewType,view_parameter:u.viewParameter,aux_data:{query:n,rs:i||"Unknown"}})}"hashtag_closeup"===i?t({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===i&&t({event_type:101,component:0,element:10349,view_type:142})}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0;return e.reduce((function(e,n){var r;return t&&n.story_type&&i.includes(n.story_type)&&0===(null===(r=n.display_options)||void 0===r?void 0:r.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},987318:function(e,t,n){"use strict";n.d(t,{H:function(){return i},o:function(){return o}});var r=(0,n(425288).Z)("LimitedLogin"),o=r.Provider,i=r.useHook},801645:function(e,t,n){"use strict";n.d(t,{NN:function(){return s},UE:function(){return a},cZ:function(){return c},sh:function(){return l}});var r,o=null,i=null,a=function(e){o=e},c=function(e){i=e},s=function(e){r=e},l=function(e){var t=e.resourceUrl,n=e.currentPageUrl,a=e.subHeaderText;o&&o(),i&&i(a),r&&r({event_type:9850,view_type:9,view_parameter:63,aux_data:{resource_url:t,current_page_url:n}})}},990823:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s},tY:function(){return u},Yh:function(){return l}});var r=n(506979),o=n(784590),i=n(19121);var a=0,c=1;function s(e){var t,n=(0,i.Z)(),r=n.isAuth&&n.id===e,a=(0,o.Z)(!n.isAuth||r?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:r&&n.has_quicksave_board||!(!n.isAuth||null===(t=(null!=a?a:{}).data)||void 0===t||!t.has_quicksave_board)}}function l(e){var t,n=(0,r.useDispatch)(),a=(0,i.Z)(),c=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,s=(0,o.Z)(c&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id}}:null);return a.isAuth&&void 0===a.save_behavior&&s&&null!==(t=s.data)&&void 0!==t&&t.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:s.data.save_behavior}}),{showEnabledSaveBehavior:c}}function u(e){var t,n=(0,i.Z)();return e&&(n.save_behavior===a?t={type:"classic"}:n.save_behavior===c&&(t={type:"inline"})),{saveBehaviorType:t}}},59644:function(e,t){"use strict";t.Z=function(e,t){return"".concat(e,":").concat(t||"")}},436395:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(784590),o=n(609500);function i(){var e=(0,o.useParams)().username;return(0,r.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},447948:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e,t,n,r,o){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:n,url:r,localPinId:o}}}function a(e){return{type:"PIN_UNSAVE",payload:{id:e}}}n.d(t,{Gb:function(){return a},I1:function(){return u},Ib:function(){return p},NA:function(){return l},Ur:function(){return i},Vw:function(){return s},b9:function(){return h},i0:function(){return f},mO:function(){return o},q1:function(){return d},t_:function(){return c},yR:function(){return r},yj:function(){return y}});var c=function(e,t,n){return{type:"PIN_UNDO_SAVE",payload:{pinId:e,boardId:t,boardSectionId:n}}};function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l(e){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,undoAction:e.undoAction,undoActionOptions:e.undoActionOptions,undoText:e.undoText}}}function u(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function d(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function f(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function h(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function y(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}},483025:function(e,t,n){"use strict";var r=n(819063),o={AggregatedCommentResource:r.rm,AggregatedCommentFeedResource:r.LR,AggregatedCommentReplyResource:r.rm,AggregatedCommentReplyFeedResource:r.LR,AggregatedActivityFeedResource:r.LR,BestPinsFeedAltResource:r.LR,BoardArchiveResource:r.LR,BoardCollaboratorsResource:r.LR,BoardContentRecommendationResource:r.LR,BoardFeedResource:r.LR,BoardFollowingResource:r.LR,BoardInviteResource:r.sf,BoardInvitesResource:r.Ht,BoardlessPinsResource:r.LR,BoardPickerBoardsResource:{all_boards:r.LR,boards_shortlist:r.LR},BoardSectionEditResource:r._F,BoardSectionsRepinResource:r.LR,BoardSectionsResource:r.LR,BoardsFeedResource:r.LR,BoardResource:r.IY,BoardSectionResource:r._F,BoardSectionPinsResource:r.LR,BoardToolsFeedResource:r.LR,ContactRequestsResource:r.LR,ConversationsResource:r.LR,ConversationMessagesResource:r.dq,DidItCommentsResource:r.LR,DidItLikedByResource:r.Gn,DidItUserFeedResource:r.LR,ExploreArticleBlockPinResource:r.LR,ExploreArticleBlockSearchResource:r.LR,ExploreArticleBlockUserResource:r.LR,ExploreArticleBlockUserDidItDataResource:r.LR,ExploreArticleResource:r.yg,FollowingFeedResource:r.LR,HolidaySpotlightRelatedFeedResource:r.LR,HolidaySpotlightResource:r.LR,InterestFollowingResource:r.LR,InterestResource:r.cC,MoreIdeasTabsBoardsResource:r.LR,NewsHubResource:r.LR,NewsHubDetailsResource:r.LR,NewsHubSummaryResource:r.t6,NuxInterestsResource:r.LR,NuxTopicToCreatorsResource:r.Gn,PinResource:r.Cj,PinCatalogResource:r.LR,PinsFromBrandResource:r.LR,ReactionsResource:r.fE,RelatedArticlesResource:r.LR,RelatedInterestsResource:r.LR,RelatedModulesResource:r.LR,RelatedPinFeedResource:r.LR,RelatedProductFeedResource:r.LR,RelatedStreamResource:r.LR,RepinResource:r.Cj,BaseSearchResource:{results:r.LR},SearchResource:r.LR,SectionToolsFeedResource:r.LR,ShareSuggestionsTypeaheadResource:{items:r.LR},ShoppingFeedModularizedResource:r.LR,StoryFeedResource:r.LR,StoryPinTaggedProductsResource:r.LR,SuggestedCreatorFollowsResource:r.Gn,TodayArticleFeedResource:r.LR,IdeasHubTodayArticlesResource:r.LR,TodayArticleResource:r.iF,TodayTabInterestFeedResource:r.LR,TodayTabResource:r.LR,TopicFeedResource:r.LR,UnifiedCommentsResource:r.LR,UserActivityPinsResource:r.LR,UserFollowingResource:r.LR,UserRecentActivityResource:r.LR,UserHomefeedResource:r.LR,UserPinsResource:r.LR,UserSettingsResource:r.EA,UserStoryPinsFeedResource:r.LR,UserResource:r.EA,VideosFeedResource:r.LR,VisualLiveSearchResource:{results:r.LR},VisualLiveSearchProductFeedResource:r.LR,VisualSearchFlashlightUnifiedResource:r.LR,SeoTier1CandidateResource:r.LR};t.Z=o},819063:function(e,t,n){"use strict";n.d(t,{Cj:function(){return p},EA:function(){return s},Gn:function(){return A},Ht:function(){return E},IY:function(){return d},LR:function(){return I},_F:function(){return y},cC:function(){return P},dq:function(){return m},fE:function(){return h},iF:function(){return w},rm:function(){return l},sN:function(){return T},sf:function(){return O},t6:function(){return j},yg:function(){return b}});var r=n(833314);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),s=new r.fK.Entity(c.user),l=new r.fK.Entity(c.aggregatedComment,{user:s,tagged_users:[s]}),u=new r.fK.Entity(c.article),d=new r.fK.Entity(c.board),p=new r.fK.Entity(c.pin),f=new r.fK.Entity(c.reaction),h=new r.fK.Array(f),y=new r.fK.Entity(c.boardsection),v=new r.fK.Entity(c.conversationMessage,{sender:s,users:[s],board:d,pin:p,user:s}),m=new r.fK.Array(v),_=new r.fK.Entity(c.contactrequest),b=new r.fK.Entity(c.story),g=new r.fK.Entity(c.triedit),w=new r.fK.Entity(c.todayArticle,{article_creator_user:s,content_pin:p,content_pin_official_user:s,video_pin:p}),P=new r.fK.Entity(c.topic,{},{processStrategy:function(e,t,n){return i(i({},e),{},{slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}}),O=new r.fK.Entity(c.invite,{invited_by_user:s,invited_user:s,board:d},{idAttribute:function(e){return"".concat(e.board.id,":").concat(e.invited_user.id)}}),S=function(e){switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},x=new r.fK.Union({user:s,board:d,invite:O,pin:p,topic:P,triedit:g},S),j=new r.fK.Entity(c.notification,{content_items:[{content_object:x}],header_icon_objects:[x]}),E=new r.fK.Array(O),A=new r.fK.Array(s),T=new r.fK.Array(d),I=new r.fK.Array({aggregatedComment:l,article:u,board:d,boardsection:y,contactrequest:_,conversationMessage:v,notification:j,pin:p,story:b,todayArticle:w,topic:P,triedit:g,user:s},S,(function(e){switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));b.define({objects:I})},550858:function(e,t,n){"use strict";n.d(t,{Qi:function(){return p},RK:function(){return d},$_:function(){return u}});var r=n(766935),o=n(844974);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="REDUX_STATE",l=function(){return!!navigator.serviceWorker},u=function(){return l()&&JSON.parse((0,o.qn)(s))||{}},d=function(e){return(0,r.Z)((function(t){var n={};n[e]=t,l()&&function(e){if(window.requestIdleCallback)return window.requestIdleCallback(e);var t=Date.now();setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)}((function(){return function(e){l()&&(0,o.Nh)(s,JSON.stringify(a(a({},u()),e)))}(n)}))}),1e3)},p=function(){(0,o.L_)(s)}},422946:function(e,t,n){"use strict";n.d(t,{DV:function(){return _},J:function(){return O}});var r=n(59644),o=n(932995),i=n(483025),a=n(998651),c=n(648284),s=n(819063),l=n(338739);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"},b=new Set(["PinResource","RepinResource"]),g={ApiResource:function(e){return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?"call-to-create-pins:".concat(e.pin_id):"/v3/users/me/interests/"===(null==e?void 0:e.url)?"recommended-interests:".concat(null===(t=e.data)||void 0===t?void 0:t.blend_type):"";var t},AggregatedActivityFeedResource:function(e){return"trieditfeed:".concat(e.aggregated_pin_data_id)},AggregatedCommentFeedResource:function(e){return"aggregated-comments:".concat(e.objectId)},AggregatedCommentReplyFeedResource:function(e){return"".concat(_.AGGREGATED_COMMENT_REPLIES,":").concat(e.objectId)},BoardlessPinsResource:function(e){return"boardless-pins:".concat(e.userId)},BestPinsFeedAltResource:function(e){return"idea-page-best-pins:".concat(e.interest)},BoardArchiveResource:function(e){return"archived-boards"},BoardCollaboratorsResource:function(e){return"board-collaborators:".concat(e.board_id)},BoardContentRecommendationResource:function(e){return"recommendation-feed:".concat(e.id)},BoardFeedResource:function(e){return"boardfeed:".concat(e.board_id)},BoardSectionsRepinResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionsResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionPinsResource:function(e){return"board-section-pins:".concat(e.section_id)},BoardsFeedResource:function(e){return"profile-boards:".concat(e.username)},BoardToolsFeedResource:function(e){return"board-tools:".concat(e.boardId)},ConversationsResource:function(e){return"conversations"},DidItLikedByResource:function(e){return"triedit-likes:".concat(e.didItDataId)},DidItUserFeedResource:function(e){return"profile-tried:".concat(e.username)},ExploreArticleBlockSearchResource:function(e){return"explore-search:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockUserResource:function(e){return"explore-user:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockPinResource:function(e){return"explore-pin:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockUserDidItDataResource:function(e){return"explore-did_it:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleResource:function(e){var t=e.response;if(!t)return"";var n="explore_tab_pin".length,r=t.resource_response.data,o=(r?r.objects[0]:{story_type:""}).story_type;return"explore-".concat(o.slice(n),":").concat(r.id)},FollowingFeedResource:function(){return"following"},HolidaySpotlightRelatedFeedResource:function(e){return"holiday-spotlight-related:".concat(e.storyType)},HolidaySpotlightResource:function(e){return"holiday-spotlight:".concat(e.storyType)},InterestResource:function(e){return"klp-pins:".concat(e.interest)},MoreIdeasTabsBoardsResource:function(){return"homefeed-more-ideas-tabs"},NewsHubResource:function(){return"notifications"},NewsHubDetailsResource:function(e){return"newshubdetail:".concat(e.news_id)},NuxInterestsResource:function(e){return"nuxTopics"},PinsFromBrandResource:function(e){return"brand-pins:".concat(e.pin)},ReactionsResource:function(e){return"reactions:".concat(e.pin_id)},RelatedArticlesResource:function(e){return"related-articles:".concat(e.article_id)},RelatedModulesResource:function(e){return"related-modules:".concat(e.pin_id)},RelatedPinFeedResource:function(e){return"related-pins:".concat(e.pin)},RelatedProductFeedResource:function(e){return"pin"===e.shop_source?"closeup-related-products:".concat(e.pin):"related-products:".concat(e.pin)},RelatedStreamResource:function(e){return"related-story-pins:".concat(e.pinId)},SearchResource:function(e){var t="search:".concat(e.scope,":").concat(e.query,":").concat(e.filters||"",":").concat(e.article||"");return e.auto_correction_disabled?"".concat(t,":auto-correction-disabled"):t},BaseSearchResource:function(e){var t="search:".concat(e.scope,":").concat(e.query,":").concat(e.filters||"",":").concat(e.appliedProductFilters,":").concat(e.article||"");return e.auto_correction_disabled?"".concat(t,":auto-correction-disabled"):t},SectionToolsFeedResource:function(e){return"section-tools:".concat(e.sectionId)},ShareSuggestionsTypeaheadResource:function(e){return"share-suggestions:".concat(e.board||e.user,":").concat(e.term)},ShoppingFeedModularizedResource:function(e){return e.saved_products_only?"board-shop-saved:".concat(e.board_id):"board-shop-related:".concat(e.board_id)},StoryFeedResource:function(e){return"story-feed:".concat(e.feed_type,":").concat(e.request_params)},SuggestedCreatorFollowsResource:function(){return"suggested-creator-follows"},StoryPinTaggedProductsResource:function(){return"story-pin-tagged-products"},TodayArticleFeedResource:function(e){return"today-article:".concat(e.id)},IdeasHubTodayArticlesResource:function(e){return"today-article:".concat(e.interest_id)},TodayTabInterestFeedResource:function(e){return"today-article-interestfeed:".concat(e.interest_id)},TodayTabResource:function(){return"today-tab"},SeoTier1CandidateResource:function(){return"tier1-feed"},UnifiedCommentsResource:function(e){return"unified-comments:".concat(e.aggregated_pin_id)},UserActivityPinsResource:function(e){return"profile-pins-feed:".concat(e.user_id)},UserHomefeedResource:function(e){return e.pin_quiz?"pin-quiz":"homefeed"},UserFollowingResource:function(e){return"user-following:".concat(e.username)},UserRecentActivityResource:function(){return"user-recent-activity"},UserStoryPinsFeedResource:function(e){return"story-pins-feed:".concat(e.user_id)},VideosFeedResource:function(e){return"videos-feed"},VisualLiveSearchResource:function(e){return"visual-search:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualLiveSearchProductFeedResource:function(e){return"visual-search-products:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualSearchFlashlightUnifiedResource:function(e){return"related-products-unified:".concat(e.pin_id)},BoardFollowingResource:function(e){return"board-following:".concat(e.username)},InterestFollowingResource:function(e){return"topic-following:".concat(e.username)},UserPinsResource:function(e){return"profile-pins:".concat(e.username)},TopicFeedResource:function(e){return e.best_pins?"best-topic-pins:".concat(e.interest):"topic-pins:".concat(e.interest)}},w={ApiResource:function(e){var t=e.options;return null!=t&&t.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:_.CALL_TO_CREATE_RESPONSES_FEED,id:t.pin_id}:null},AggregatedActivityFeedResource:function(e){var t=e.options.aggregated_pin_data_id;return{type:_.TRIED_IT_FEED,id:t}},AggregatedCommentFeedResource:function(e){var t=e.options.objectId;return{type:_.AGGREGATED_COMMENTS,id:t}},AggregatedCommentReplyFeedResource:function(e){var t=e.options,n=t.isUnifiedComment,r=t.objectId;return{type:n?_.AGGREGATED_COMMENT_REPLIES:_.AGGREGATED_COMMENTS,id:r,reversed:!0}},BoardFeedResource:function(e){var t=e.options.board_id;return{type:_.BOARDFEED,id:t}},BoardlessPinsResource:function(e){var t=e.options.userId;return{type:_.BOARDLESS_PINS,id:t}},BoardSectionPinsResource:function(e){var t=e.options.section_id;return{type:_.BOARD_SECTION_PINS,id:t}},BoardSectionsResource:function(e){var t=e.options.board_id;return{type:_.BOARD_SECTIONS,id:t}},BoardsResource:function(e){var t=e.options,n=t.username,o=t.sort;return{type:_.PROFILE_BOARDS,id:(0,r.Z)(n,o)}},BaseSearchResource:function(e){var t,n=e.options,r=n.auto_correction_disabled,o=n.appliedProductFilters,i=n.scope,s=n.filters,l=n.query_pin_sigs,u=n.query,d=n.user,p=e.response;return{type:_.SEARCH_PINS,id:(0,c.Tb)({appliedProductFilters:o,autoCorrectionDisabled:r,filters:s,query:u,selectedPinImgSig:l,scope:i,user:d}),items:null!==(t=p.resource_response.data)&&void 0!==t&&t.results?(0,a.L)(p.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:function(e){var t=e.options.objectId;return{type:_.AGGREGATED_COMMENTS,id:t,reversed:!0}},DidItUserFeedResource:function(e){var t=e.options.username;return{type:_.TRIED_IT_FEED,id:t}},IdeasHubTodayArticlesResource:function(e){var t=e.options.interest_id;return{type:_.TODAY_TAB,id:t}},RelatedArticlesResource:function(e){var t=e.options.article_id;return{type:_.TODAY_TAB,id:t}},StoryPinDraftsResource:function(e){var t=e.options.userId;return{type:_.STORY_PIN_DATA,id:t}},TodayTabInterestFeedResource:function(e){var t=e.options.interest_id;return{type:_.TODAY_ARTICLE_INTEREST_FEED,id:t}},TodayTabResource:function(){return{type:_.TODAY_TAB,id:"todayTab"}},UnifiedCommentsPreviewResource:function(e){var t=e.options.aggregated_pin_id;return{type:_.UNIFIED_COMMENTS,id:t}},UnifiedCommentsResource:function(e){var t=e.options,n=t.aggregated_pin_id,r=t.is_reversed;return{type:_.UNIFIED_COMMENTS,id:n,reversed:r}},UserActivityPinsResource:function(e){var t=e.options.user_id;return{type:_.PROFILE_PINS_FEED,id:t}},UserStoryPinsFeedResource:function(e){var t=e.response,n=e.options.user_id;return{type:_.STORY_PINS_FEED,id:n,items:t.resource_response.data||[]}}},P=function(e,t){var n=t.pinId,r=t.oldFeedId,o=t.newFeedId;return r===o?e:function(e,t){var n=t.pinId,r=t.feedId;return e[r]?v(v({},e),{},m({},r,[{type:"pin",id:n}].concat(p(e[r])))):e}(function(e,t){var n=t.pinId,r=t.feedId;return e[r]?v(v({},e),{},m({},r,e[r].filter((function(e){return!("pin"===e.type&&e.id===n)})))):e}(e,{pinId:n,feedId:r}),{pinId:n,feedId:o})},O=function(e,t){return e in g?g[e](t):null},S=function(e,t){switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===_.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}},x=function(e,t){return t?"board-section-pins:".concat(t):"boardfeed:".concat(e)},j=function(e,t,n){var r=n||i.Z[e];if(r===s.LR)return t.result;if(r===s.sN)return t.result.map((function(e){return{id:e,schema:"board"}}));if(r===s.Gn)return t.result.map((function(e){return{id:e,schema:"user"}}));if(r===s.Ht)return t.result.map((function(e){return{id:e,schema:"invite"}}));if(r===s.fE)return t.result.map((function(e){return{id:e,schema:"reaction"}}));if("object"===d(r)){var o=Object.entries(r).find((function(e){var t=u(e,2);t[0];return t[1]===s.LR}));if(o)return t.result[o[0]]}return null},E=function(e,t){return e.map((function(e){var n=e.id,r=e.schema;return r?{id:n,type:r,trackingParams:"pin"===r?t.pins[n].tracking_params:void 0,user_id:void 0}:null})).filter(Boolean)},A=function(e,t,n){return Object.keys(e).reduce((function(r,o){var i=e[o]||[],a=i.filter((function(e){return!(e.type===t&&e.id===n)}));return i.length!==a.length&&(r[o]=a),r}),v({},e))};t.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.zP:case l.aW:var n=t.payload,r=n.resource,i=n.options,a=n.normalizedResponse,c=n.schema;if(a&&r in g){var s=j(r,a,c);if(s&&Array.isArray(s)){var u=g[r](i);if("ShoppingFeedModularizedResource"===r){var d,f=null!=i?i:{},h=f.board_id,y=f.saved_products_only,O="board-shop-related:".concat(h),T="board-shop-saved:".concat(h),I="board-shop-saved-preview:".concat(h),k=p(e[O]||[]),R=p(e[T]||[]),C=p(e[I]||[]),D=E(s,a.entities);return D.forEach((function(e){var t;y?R.push(e):a.entities.pins&&(null===(t=a.entities.pins[e.id])||void 0===t?void 0:t.board)===h?C.push(e):k.push(e)})),v(v({},e),{},(m(d={},O,k),m(d,T,R),m(d,I,C),d))}if("BoardToolsFeedResource"===r||"SectionToolsFeedResource"===r)return v(v({},e),{},m({},u,s));var N=(t.type===l.aW&&e[u]||[]).concat(E(s,a.entities));return v(v({},e),{},m({},u,N))}}else{var L,M=n.response.resource_response.data;if(null===(L=n.options)||void 0===L||!L.redux_normalize_feed)return e;var B=w[n.resource](n);if(B){var Z=B.type,z=B.id,U=B.items,F=B.reversed,V=(U||M||[]).map((function(e){return S(e,Z)}));F&&(V=V.reverse());var G="".concat(Z,":").concat(z),H=e[G];if(H||t.type!==l.aW){var W=H||[],q=V;return t.type===l.aW&&(q=F?V.concat(W):W.concat(V)),v(v({},e),{},m({},G,q))}}}break;case"FEED_ITEM_REORDERED":var Y=t.payload,K=Y.feedType,X=Y.feedId,$=Y.itemType,J=Y.targetItemId,Q=Y.sourceItemId,ee="".concat(K,":").concat(X),te=e[ee]||[],ne=-1,re=-1;if([_.BOARDFEED,_.BOARD_SECTION_PINS,_.BOARD_SECTIONS,"profileBoards"].includes(K)&&(ne=te.findIndex((function(e){return e.type===$&&e.id===Q})),re=te.findIndex((function(e){return e.type===$&&e.id===J}))),-1!==ne&&-1!==re)return v(v({},e),{},m({},ee,(0,o.Z)(te,ne,re)));break;case"FEED_ITEMS_REMOVED":var oe=t.payload,ie=oe.feedType,ae=oe.feedId,ce=oe.inverseSelection,se=oe.itemType,le=oe.itemIds,ue=void 0===le?[]:le,de="".concat(ie,":").concat(ae),pe=e[de]||[];if(pe&&pe.length>0&&(ie===_.BOARD_SECTION_PINS||ie===_.BOARDFEED)){var fe=pe.filter((function(e){var t=ue.includes(e.id);return!(e.type===se&&(ce&&!t||!ce&&t))})),he=!!fe.find((function(e){return"pin"===e.type}));return v(v({},e),{},m({},de,he?fe:[]))}if(pe&&pe.length>0&&ie===_.BOARD_SECTIONS){var ye=pe.filter((function(e){var t=ue.includes(e.id);return!(e.type===se&&t)}));return v(v({},e),{},m({},de,ye))}if(pe&&pe.length>0&&(ie===_.AGGREGATED_COMMENTS||ie===_.BOARDLESS_PINS||ie===_.PROFILE_PINS_FEED||ie===_.STORY_PINS_FEED||ie===_.UNIFIED_COMMENTS||ie===_.TRIED_IT_FEED||ie===_.STORY_PIN_DATA)){var ve=pe.filter((function(e){var t=ue.includes(e.id);return!(e.type===se&&t)}));return v(v({},e),{},m({},de,ve))}break;case"FEED_ITEMS_ADDED":var me=t.payload,_e=me.feedType,be=me.feedId,ge=me.itemType,we=me.itemIds,Pe=void 0===we?[]:we,Oe=me.prepend,Se="".concat(_e,":").concat(be),xe=e[Se]||[];if(xe&&(_e===_.BOARD_SECTION_PINS||_e===_.BOARDFEED||_e===_.BOARDLESS_PINS)){var je=Pe.map((function(e){return{id:e,type:ge}})),Ee=0;"story"===(xe[0]||{}).type&&(Ee=1),"story"===(xe[1]||{}).type&&(Ee=2);var Ae=[].concat(p(xe.slice(0,Ee)),p(je),p(xe.slice(Ee)));return v(v({},e),{},m({},Se,Ae))}if(xe&&_e===_.BOARD_SECTIONS){var Te=p(Pe).reverse().map((function(e){return{id:e,type:"boardsection"}})),Ie=xe?[].concat(p(Te),p(xe)):p(Te);return v(v({},e),{},m({},Se,Ie))}if(_e===_.AGGREGATED_COMMENTS||_e===_.AGGREGATED_COMMENT_REPLIES||_e===_.PROFILE_PINS_FEED||_e===_.STORY_PINS_FEED||_e===_.UNIFIED_COMMENTS){var ke=Pe.map((function(e){return{id:e,type:ge}})),Re=xe?[].concat(p(Oe?ke:xe),p(Oe?xe:ke)):ke;return v(v({},e),{},m({},Se,Re))}if(_e===_.TRIED_IT_FEED){var Ce=Pe.map((function(e){return{id:e,type:ge}})),De=xe?[].concat(p(Ce),p(xe)):Ce;return v(v({},e),{},m({},Se,De))}break;case"FEED_INVALIDATE":var Ne=t.payload,Le=Ne.feedType,Me=Ne.feedId,Be="".concat(Le,":").concat(Me),Ze=e[Be]||[];if(Ze)return v(v({},e),{},m({},Be,null));break;case"APPEND_FEED_ITEMS":var ze,Ue=t.payload,Fe=Ue.id,Ve=Ue.items,Ge=Ue.options,He=e[Fe];return He?(ze=Ge.isPrepend?He[0]&&"story"===He[0].type?[].concat(He[0],Ve,He.slice(1)):Ve.concat(He):He.concat(Ve),v(v({},e),{},m({},Fe,ze))):v(v({},e),{},m({},Fe,Ve));case"PIN_DELETE":var We=t.payload.pinId;return A(e,"pin",We);case"BOARD_ARCHIVE":var qe=t.payload,Ye=qe.boardId,Ke=qe.username,Xe="profile-boards:".concat(null!=Ke?Ke:"");if(e[Xe])return v(v({},e),{},m({},Xe,e[Xe].filter((function(e){return e.id!==Ye}))));break;case"BOARD_UNARCHIVE":var $e=t.payload.boardId,Je="archived-boards";if(e[Je])return v(v({},e),{},m({},Je,e[Je].filter((function(e){return e.id!==$e}))));break;case"BOARD_DELETE":var Qe=t.payload.boardId;return A(e,"board",Qe);case"BOARD_SECTION_DELETE":var et=t.payload.boardSectionId;return A(e,"boardsection",et);case"PINS_MOVE":var tt=t.payload,nt=tt.source,rt=tt.target,ot=tt.pinIds,it=tt.userId,at=nt.boardlessPins&&it&&"boardless-pins:".concat(it)||nt.boardId&&x(nt.boardId,nt.sectionId),ct=x(rt.boardId,rt.sectionId);return ot.reduce((function(e,t){return P(e,{pinId:t,oldFeedId:at,newFeedId:ct})}),e);case"PINS_MOVE_ALL":var st=t.payload,lt=st.source,ut=st.target,dt=st.excludePinIds,pt=x(lt.boardId,lt.sectionId),ft=x(ut.boardId,ut.sectionId),ht=v(v({},e),{},m({},pt,dt.map((function(e){return{type:"pin",id:e}}))));return delete ht[ft],ht;case"PIN_EDIT":var yt=t.payload,vt=yt.pinId,mt=yt.boardId,_t=yt.section,bt=yt.source,gt=bt.boardId,wt=bt.sectionId,Pt=x(gt,wt),Ot=x(mt,null==_t?void 0:_t.id);return P(e,{pinId:vt,oldFeedId:Pt,newFeedId:Ot});case l.AF:if(b.has(t.payload.resource)){var St,xt=t.payload.response.resource_response.data,jt=xt.board;if("quick_saves"===jt.layout)St="boardless-pins:".concat(t.payload.options.user_id);else{var Et=t.payload.options.section;St=Et?"board-section-pins:".concat(Et):"boardfeed:".concat(jt.id)}if(e[St]){var At=v({},e),Tt={id:xt.id,type:"pin",trackingParams:null==xt?void 0:xt.tracking_params};return At[St]=[Tt].concat(e[St]),At}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){var It=t.payload.normalizedResponse.result,kt=t.payload.normalizedResponse.entities.boardsections[It].board,Rt="board-sections:".concat(kt);if(e[Rt]){var Ct=v({},e),Dt={id:It,type:"boardsection"};return Ct[Rt]=[Dt].concat(e[Rt]),Ct}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){for(var Nt=t.payload.normalizedResponse.result,Lt={id:Nt,type:"aggregatedcomment"},Mt=["aggregated-comments","unified-comments"],Bt=v({},e),Zt=0,zt=Mt;Zt<zt.length;Zt++){var Ut=zt[Zt],Ft="".concat(Ut,":").concat(t.payload.options.objectId);e[Ft]&&(Bt=v(v({},Bt),{},m({},Ft,[Lt].concat(Bt[Ft]))))}return Bt}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){var Vt="".concat(_.AGGREGATED_COMMENT_REPLIES,":").concat(t.payload.options.objectId);return v(v({},e),{},m({},Vt,[].concat(p(e[Vt]||[]),[{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}])))}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){var Gt=t.payload.options.reaction_pin_id;if("reaction"===t.payload.options.action_type){var Ht="reactions:".concat(t.payload.options.pin_id),Wt=v({},e),qt={id:"".concat(Gt,":").concat(t.payload.options.user_id),type:"reaction",trackingParams:void 0};return Wt[Ht]=[qt].concat(e[Ht]),Wt}if("unreaction"===t.payload.options.action_type){var Yt="".concat(Gt,":").concat(t.payload.options.user_id);return A(e,"reaction",Yt)}}break;case"COMPLETE_STORY":var Kt=t.payload.storyId;return A(e,"story",Kt)}return e}},852025:function(e,t,n){"use strict";n.d(t,{k:function(){return i},s:function(){return a}});var r=n(76911),o=(0,r.createContext)(Object.freeze({})),i=o.Provider;function a(){return(0,r.useContext)(o)}},596493:function(e,t,n){"use strict";n.d(t,{Ac:function(){return i},c7:function(){return o},cg:function(){return r}});var r=-1,o=5,i=6},475970:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(76911),o=n(898781),i=n(908390),a=n(515198);function c(e){var t=e.size,n=e.iconColor,r=e.backgroundColor,c=e.disabled,s=e.onClick,l=(0,o.ZP)(),u=48===t?"lg":"xl";return(0,a.jsx)(i.hU,{accessibilityLabel:l._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:r,icon:"link",iconColor:n||r&&!["white","lightGray","transparent"].includes(r)?n:"gray",size:u,disabled:c,onClick:s})}var s=n(172071),l=n(375436),u=n(67428),d=n(499128),p=n(53987),f=n(867060),h=n(407043),y=n(773285),v=n(609500),m=n(343341),_=n(743473),b=n(827896);function g(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.backgroundColor,n=e.iconColor,P=e.iconSize,O=e.iconWrapperWidth,S=e.isCloseupActionBar,x=e.marginEnd,j=e.onClick,E=e.sharedObject,A=e.spaceBelowIcon,T=e.viewType,I=e.viewParameter,k=e.relayEnvironment,R=(0,o.ZP)(),C=(0,h.v)().logContextEvent,D=(0,y.F)().checkExperiment,N=D("web_share_menu_logging").anyEnabled,L=(0,m.F9)(),M=w((0,r.useState)(""),2),B=M[0],Z=M[1],z=w((0,r.useState)(!1),2),U=z[0],F=z[1],V=w((0,r.useState)(!1),2),G=V[0],H=V[1],W=(0,v.useLocation)(),q=(0,b.Z)(),Y=R._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),K=function(e){var t;if("pin"===E.type&&E.id){t=q(E.id,{shouldTrackForPrevLocation:!0})}return{invite_category:3,invite_channel:e,object_type:E.type,object_id:E.id,name:E.name,description:E.description||"",path:E.url,picture:E.imageUrl,client_tracking_params:t}},X=function(e){S?navigator.clipboard.writeText(e).then((function(){var e;e=R._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),L.showToast((function(t){var n=t.hideToast;return(0,a.jsx)(i.xu,{top:!0,children:(0,a.jsx)(d.ZP,{duration:3e3,onHide:n,text:e})})}))})):navigator.clipboard.writeText(e).then((function(){H(!0),setTimeout((function(){H(!1)}),3e3)}))},$=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=3;break}return X(B),e.abrupt("return");case 3:F(!0),t=K(12),_.Z.createShareInviteData(t,k).then((function(e){var n=e.invite_url;F(!1),n&&(Z(n),_.Z.logShareInvite(t,e,k),X(n))}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,c,"next",e)}function c(e){g(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),J=function(){if($(),N){var e=f.yF[E.type];e||s.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:E.type}),S&&C({event_type:101,component:14147,element:13103,object_id_str:E.id,view_type:T,view_parameter:I,aux_data:e?{invite_object:e}:void 0}),j&&j()}};return(0,p.am)(W)&&S&&D("web_copy_link_btn_replace").anyEnabled?(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.zx,{accessibilityLabel:R._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:R._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:function(){return J()},size:"lg",color:"gray",fullWidth:!0})}):(0,a.jsxs)(u.Z,{isCloseupActionBar:!0,width:O||P,marginEnd:x||!1,children:[(0,a.jsx)(i.xu,{alignItems:S?"center":"stretch",display:S?"flex":"block",marginBottom:A,width:S?"100%":"auto",children:(0,a.jsx)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:P,children:(0,a.jsx)(c,{backgroundColor:t,iconColor:n,size:P,onClick:J,disabled:U})})}),!S&&(0,a.jsx)(l.Z,{text:G?Y:R._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},750869:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},827021:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ge}});var r=n(76911),o=n(172071),i=n(116303),a=n(898781),c=n(977558),s=n(349700),l=n(407043),u=n(773285),d=n(385740),p=48,f="error",h=n(908390),y=n(515198);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t,n=e.idx,o=e.item,m=e.onSendMessage,_=e.onViewConversation,b=e.sentHistory,g=e.objectAttachment,w=(0,a.ZP)(),P=(0,l.v)().logContextEvent,O=v((0,r.useState)(!1),2),S=O[0],x=O[1],j=(0,d.SU)(),E=j.viewType,A=j.viewParameter,T=o.id||"string"==typeof o.email&&o.email||"",I=b[T]===f,k=Object.prototype.hasOwnProperty.call(b,T)&&!I,R=null!==(t=b[T])&&void 0!==t?t:"";(0,r.useEffect)((function(){I&&x(!1)}),[I]);var C="",D=o.full_name,N=o.email;"string"!=typeof D||D.match(/^\s*$/)?"string"!=typeof N||N.match(/^\s*$/)||(C=N):C=D;var L,M,B="";k?B=w._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):S&&(B=w._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact')),"pinner"===g.type||"user"===g.type?(L=13530,M=13532):"board"===g.type?(L=13527,M=13529):(L=13524,M=13526);var Z=(0,(0,u.F)().checkExperiment)("web_share_show_more_contacts").anyEnabled;return(0,y.jsx)(h.xu,{"data-test-id":"sharesheet-contact-item",width:74,marginBottom:5,children:(0,y.jsx)(h.iP,{onTap:k?function(){P({view_type:E,view_parameter:A,event_type:10399,component:14309,element:M}),_(R)}:function(){P({event_type:101,component:13029,element:1039,aux_data:{result_index:n+1,rs:o.debug_reason.reason}}),P({view_type:E,view_parameter:A,event_type:10399,component:14309,element:L,aux_data:{result_index:n+1,rs:o.debug_reason.reason}}),x(!0),m(o)},children:(0,y.jsxs)(h.kC,{direction:"column",alignItems:"center",children:[(0,y.jsxs)(h.xu,{alignItems:"center","data-test-id":S?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:p,justifyContent:"center",marginBottom:2,width:p,children:[S&&(0,y.jsx)(h.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:p,justifyContent:"center",position:"absolute",rounding:"circle",width:p,zIndex:new h.Ry(c.fe),children:(0,y.jsx)(h.JO,{accessibilityLabel:(0,s.Wc)(w._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:C}),icon:"check",color:"light",size:24})}),(0,y.jsx)(i.Z,{size:"fit",src:o.image_large_url,name:C})]}),(0,y.jsxs)(h.xu,{"data-test-id":"sharesheet-contact-item-label",width:Z?"100%":p,paddingX:Z?1:void 0,children:[(0,y.jsx)(h.xv,{lineClamp:1,size:"100",align:"center",children:C}),(0,y.jsx)(h.xv,{color:"subtle",size:"100",align:"center",children:B})]})]})})})}var b=n(784590),g=n(313951),w=n(17676);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t,n=(0,l.v)().logContextEvent,o=(0,a.ZP)(),i=e.onHide,c=e.onSendMessage,s=e.onShowImportContacts,f=e.objectAttachment,v=e.sentHistory,m=(0,b.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}).isLoaded,S=(0,(0,u.F)().checkExperiment)("web_share_show_more_contacts").anyEnabled?9:4,x=(null===(t=(0,w.E)().shareSuggestions[""])||void 0===t?void 0:t.slice(0,S))||[],j=x.length>0,E=(0,d.SU)(),A=E.viewType,T=E.viewParameter;(0,r.useEffect)((function(){m&&n({event_type:j?7511:7512,component:56,view_type:70,view_parameter:256})}),[j,n,m]);var I=(0,g.Z5)(),k=I.dropdownOpen,R=I.conversationOpen,C=I.newMessageOpen,D=function(e){R(e),k(),i()},N=x.map((function(e,t){var n="".concat(e.id||e.email||t),r={item:e,idx:t,onSendMessage:c,onViewConversation:D,sentHistory:v,objectAttachment:f};return(0,y.jsx)(_,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),n)})),L=!j&&!m;return(0,y.jsxs)(h.kC,{direction:"column",children:[(0,y.jsx)(h.kC,{alignItems:"center",height:49,justifyContent:"center",children:(0,y.jsx)(h.xv,{align:"center",size:"200",weight:"bold",children:o._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,y.jsx)(h.kC,{flex:"none",minHeight:81,justifyContent:L?"center":void 0,children:L?(0,y.jsx)(h.xu,{paddingY:2,children:(0,y.jsx)(h.$j,{accessibilityLabel:o._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,y.jsxs)(h.kC,{wrap:!0,children:[(0,y.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:74,children:[(0,y.jsx)(h.xu,{height:p,marginBottom:2,width:p,children:(0,y.jsx)(h.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:function(){var e;e="pinner"===f.type||"user"===f.type?13531:"board"===f.type?13528:13525,n({view_type:A,view_parameter:T,event_type:10399,component:14309,element:e}),C(f),k(),i()},size:"lg"})}),(0,y.jsx)(h.xv,{lineClamp:1,size:"100",children:o._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),j?N:(0,y.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:74,children:[(0,y.jsx)(h.xu,{height:p,marginBottom:2,width:p,children:(0,y.jsx)(h.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:s,size:"lg"})}),(0,y.jsx)(h.xv,{lineClamp:1,size:"100",children:o._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function x(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var j=n(936776),E=n(750869);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=D(i);function i(){var e;k(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return B(L(e=o.call.apply(o,[this].concat(n))),"state",{textValue:e.props.initialTextValue||"",emailValue:""}),B(L(e),"handleSendEmail",(function(t,n){if(t){var r={type:"email_share_suggestion",id:"",email:t,debug_reason:{reason:"",readable_reason:""}};e.props.onSendMessage(r,n)}})),B(L(e),"handleTextValueChange",(function(t){var n=t.value;e.setState({textValue:n})})),B(L(e),"handleEmailValueChange",(function(t){var n=t.value;e.setState({emailValue:n})})),e}return t=i,(n=[{key:"renderCloseButton",value:function(){var e=this.props,t=e.i18n,n=e.onCancelDraft;return(0,y.jsx)(h.hU,{accessibilityLabel:t._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:n,size:"sm",iconColor:"gray"})}},{key:"render",value:function(){var e=this,t=this.props.width;return(0,y.jsxs)(h.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:t,color:"default",children:[(0,y.jsxs)(h.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,y.jsx)(h.xu,{flex:"grow",marginEnd:8,children:(0,y.jsx)(h.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,y.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,y.jsx)(h.xu,{paddingY:1,marginBottom:4,children:(0,y.jsx)(h.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,y.jsx)(h.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,y.jsx)(h.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,y.jsx)(h.zx,{size:"lg",color:"red",onClick:function(){return e.handleSendEmail(e.state.emailValue||"",e.state.textValue||"")},type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,j.Z)(this.state.emailValue)})})]})]})}}])&&R(t.prototype,n),r&&R(t,r),i}(r.Component);function z(e){var t=(0,a.ZP)();return(0,y.jsx)(Z,I(I({},e),{},{i18n:t}))}var U=n(567831),F=n(475970),V=n(31149),G=n(107193),H=n(659522),W=n(331744),q=n(757146);function Y(e){var t=e.size,n=void 0===t?48:t;return(0,y.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,y.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,y.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,y.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,y.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,y.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,y.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var K=n(375436),X=n(67428),$=n(19121);function J(e){var t=e.iconSize,n=e.iconWrapperWidth,r=e.marginBottom,o=e.marginEnd,i=e.onCreatePincodeClick,c=e.sharedObject,s=(0,a.ZP)(),l=(0,$.Z)();return i&&[E.d.BOARD,E.d.PINNER,E.d.USER].includes(c.type)&&l.isAuth&&(c.id===l.id||l.isEmployee)?(0,y.jsxs)(X.Z,{width:n,marginEnd:o,children:[(0,y.jsx)(h.xu,{marginBottom:r,children:(0,y.jsx)(h.iP,{fullWidth:!1,onTap:i,children:(0,y.jsx)(Y,{size:t})})}),(0,y.jsx)(K.Z,{text:s._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var Q=n(464240),ee=n(22641),te=n(704217),ne=n(780280),re=n(743473),oe=n(827896),ie=n(867060),ae=n(343341);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ye(e)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e={backgroundColor:"#ffffff",border:"none",padding:0},be=new Set(["JP","TW","TH"]),ge=function(e,t){(0,G.default)((function(t){t&&(t.getUserID()?e():t.login((function(){e()})))}),t)},we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(c,e);var t,n,i,a=fe(c);function c(){var e;ue(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return me(ye(e=a.call.apply(a,[this].concat(n))),"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),me(ye(e),"logShareInviteLink",(function(){var t=e.state,n=t.copyLinkLogged,r=t.inviteData,o=e.getShareOptions(12);n||(re.Z.logShareInvite(o,r,e.props.relayEnvironment),e.setState({copyLinkLogged:!0}))})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.getWhatsAppURL()}},{key:"getShareOptions",value:function(e){var t,n=this.props,r=n.sharedObject,o=n.getClientTrackingParams;return"pin"===r.type&&r.id&&(t=o(r.id,{shouldTrackForPrevLocation:!0})),{invite_category:3,invite_channel:e,object_type:r.type,object_id:r.id,name:r.name,description:r.description||"",path:r.url,picture:r.imageUrl,client_tracking_params:t}}},{key:"getWhatsAppURL",value:function(){var e=this,t=this.getShareOptions(10);re.Z.createShareInviteData(t,this.props.relayEnvironment).then((function(t){var n="".concat(t.title,"\n").concat(t.invite_url);if(n){var r=encodeURIComponent(n);e.setState({whatsappInviteData:t,whatsappURL:"https://web.whatsapp.com/send?text="+r})}else e.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,U.Z)(e.props.sharedObject.url)})}))}},{key:"checkWritePermissions",value:function(){return!!this.props.viewer.isWriteBanned}},{key:"handleSocialShareClick",value:function(e,t){if(!this.checkWritePermissions()){var n=this.props,r=n.onCreatePincodeClick,i=n.onExternalSend,a=n.logContextEvent,c=n.viewType,s=n.viewParameter,l=n.inShareMenuLoggingExp,u=n.sharedObject,d=l?ie.cc[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),l||(d=257)):"twitter"===e||9===t?(this.openTwitterDialog(),l||(d=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),l||(d=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),l||(d=951)):"pincode"===e||16===t?r&&r():"copylink"===e||12===t?(this.openShareUrlLink(),l||(d=100)):"email"===e||1===t?(this.openEmailDialog(),l||(d=258)):"line"!==e&&8!==t||(this.openLineDialog(),l||(d=952)),i&&i();var p=ie.yF[u.type];p||o.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:u.type}),a({event_type:101,component:l?14121:153,element:d,object_id_str:l?u.id:void 0,view_type:l?c:void 0,view_parameter:l?s:void 0,aux_data:l?{invite_object:p}:void 0});var f={board:ie.LO,pinner:ie.Pu,user:ie.Pu,pin:ie.dB,did_it:ie.dB,today_article:ie.dB};a({event_type:10399,component:14309,object_id_str:u.id||void 0,view_type:c,view_parameter:s,aux_data:{invite_object:p},element:f[u.type][t]})}}},{key:"openEmailDialog",value:function(){this.props.onEmailIconClick()}},{key:"openFacebookDialog",value:function(){var e=this,t=this.props,n=t.unauthId,r=t.viewer;ge((function(){re.Z.shareFacebookInvite({options:e.getShareOptions(5),unauthId:n,viewer:r},e.props.relayEnvironment)}),r)}},{key:"openFbMessengerDialog",value:function(){var e=this,t=this.props,n=t.unauthId,r=t.viewer;ge((function(){re.Z.shareFbMessengerInvite({options:e.getShareOptions(6),unauthId:n,viewer:r},e.props.relayEnvironment)}),r)}},{key:"openWhatsAppDialog",value:function(){var e=this.getShareOptions(10);this.state.whatsAppLogged||(re.Z.logShareInvite(e,this.state.whatsappInviteData,this.props.relayEnvironment),this.setState({whatsAppLogged:!0}))}},{key:"openShareUrlLink",value:function(){this.logShareInviteLink()}},{key:"openTwitterDialog",value:function(){re.Z.shareTwitterInvite(this.getShareOptions(9),this.props.relayEnvironment)}},{key:"openLineDialog",value:function(){re.Z.shareLineInvite(this.getShareOptions(8),this.props.relayEnvironment)}},{key:"renderEmail",value:function(){var e=this;return(0,y.jsxs)(X.Z,{width:74,marginEnd:!1,children:[(0,y.jsx)(h.xu,{display:"inlineBlock",marginBottom:2,children:(0,y.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:function(){return e.handleSocialShareClick("email",1)},style:_e,children:(0,y.jsx)(V.Z,{size:48})})}),(0,y.jsx)(K.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}},{key:"renderShareOptions",value:function(){var e=this,t=this.props,n=t.i18n,o=t.onCreatePincodeClick,i=t.sharedObject,a=t.showLineShare,c=t.showMessengerShare,s=t.isPublisherSharingObject,l=t.viewType,u=t.viewParameter,d=p,f=74;return(0,y.jsx)(r.Fragment,{children:(0,y.jsxs)(h.kC,{justifyContent:"start",wrap:!0,children:[a&&(0,y.jsxs)(X.Z,{width:f,marginEnd:!1,children:[(0,y.jsx)(h.xu,{marginBottom:2,children:(0,y.jsx)("button",{"aria-label":n._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:function(){return e.handleSocialShareClick("line",8)},style:_e,children:(0,y.jsx)(W.Z,{size:d})})}),(0,y.jsx)(K.Z,{text:n._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,y.jsxs)(X.Z,{width:f,marginEnd:!1,children:[(0,y.jsx)(h.xu,{marginBottom:2,children:(0,y.jsx)("button",{"aria-label":n._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:function(){return e.handleSocialShareClick("whatsapp",10)},style:_e,tabIndex:"-1",children:(0,y.jsx)(h.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,y.jsx)(ee.Z,{size:d})})})}),(0,y.jsx)(K.Z,{text:n._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),c&&(0,y.jsxs)(X.Z,{width:f,marginEnd:!1,children:[(0,y.jsx)(h.xu,{marginBottom:2,children:(0,y.jsx)("button",{"aria-label":n._('Share on Messenger', 'sharesheet.shareSocialBar.ShareMessenger', 'Button that will share via Messenger'),onClick:function(){return e.handleSocialShareClick("messenger",6)},style:_e,children:(0,y.jsx)(q.Z,{size:d})})}),(0,y.jsx)(K.Z,{text:n._('Messenger', 'sharesheet.shareSocialBar.ShareMessengerLabel', 'Messenger button label')})]}),(0,y.jsxs)(X.Z,{width:f,marginEnd:!1,children:[(0,y.jsx)(h.xu,{marginBottom:2,children:(0,y.jsx)("button",{"aria-label":n._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:function(){return e.handleSocialShareClick("facebook",5)},style:_e,children:(0,y.jsx)(H.Z,{size:d})})}),(0,y.jsx)(K.Z,{text:n._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,y.jsxs)(X.Z,{width:f,marginEnd:!1,children:[(0,y.jsx)(h.xu,{marginBottom:2,children:(0,y.jsx)("button",{"aria-label":n._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:function(){return e.handleSocialShareClick("twitter",9)},style:_e,"data-test-id":"twitter-share-icon",children:(0,y.jsx)(Q.Z,{size:d})})}),(0,y.jsx)(K.Z,{text:n._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(J,{iconSize:d,iconWrapperWidth:f,marginBottom:2,marginEnd:!1,onCreatePincodeClick:o,sharedObject:i}),(0,y.jsx)(F.default,{sharedObject:i,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:d,iconWrapperWidth:f,onClick:function(){return e.handleSocialShareClick("copylink",12)},isCloseupActionBar:!1,spaceBelowIcon:2,viewType:l,viewParameter:u,relayEnvironment:this.props.relayEnvironment},"copylink"),!s&&this.renderEmail()]})]})})}},{key:"render",value:function(){var e=this.props.paddingX;return(0,y.jsxs)(h.xu,{paddingX:e,children:[(0,y.jsx)(h.kC,{alignContent:"center",alignItems:"center",height:49,justifyContent:"center",children:(0,y.jsx)(h.xv,{size:"200",weight:"bold",children:this.props.i18n._('Share', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,y.jsx)(h.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:81,children:this.renderShareOptions()})]})}}])&&de(t.prototype,n),i&&de(t,i),c}(r.Component);function Pe(e){var t=(0,l.v)().logContextEvent,n=(0,u.F)().checkExperiment,r=(0,a.ZP)(),o=(0,$.Z)(),i=o.isAuth&&be.has(o.country),c=n("web_messenger_share_channel").anyEnabled,s=(0,ne.B)(),d=n("web_share_menu_logging").anyEnabled,p=n("graphql_migration_sharesheet_sgrowth_web").anyEnabled,f=(0,te.useRelayEnvironment)();return(0,y.jsx)(we,le(le({},e),{},{toastManagerContext:(0,ae.F9)(),viewer:(0,$.Z)(),showLineShare:i,showMessengerShare:c,i18n:r,logContextEvent:t,unauthId:s.unauthId,inShareMenuLoggingExp:d,shareSheetExpEnabled:p,relayEnvironment:p?f:void 0,getClientTrackingParams:(0,oe.Z)()}))}var Oe=n(214494),Se=n(499128),xe=n(717615),je=n(231947),Ee=n(697247);function Ae(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e,t){return e.reduce((function(e,n){return Re(Re({},e),{},Ce({},n,t))}),{})};function Ne(e){var t=(0,l.v)().logContextEvent,n=(0,a.ZP)(),i=Te((0,r.useState)(!1),2),c=i[0],s=i[1],d=Te((0,r.useState)(null),2),p=d[0],v=d[1],m=Te((0,r.useState)({}),2),_=m[0],b=m[1],w=Te((0,r.useState)(function(e,t){return"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):""}(e.sendType,n)),1)[0],P=(0,ae.F9)().showOneToast,O=(0,Ee.$)().surface,j=(0,$.Z)(),E=(0,xe.Z)(),A=(0,g.Z5)().conversationCreate,T=(0,g.NG)(),I=(0,r.useRef)();(0,r.useEffect)((function(){var e;return null===(e=I.current)||void 0===e?void 0:e.focus()}),[]);var k=function(n,r){s(!1),e.onMessageSent(),function(n,r){var i=e.sharedObject.id;o.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:i,aux_data:{conversation_id:n,pin_id:r}})}(n,r)},R=function(e,t){o.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),b(Re(Re({},_),De(e,f)));var n=t.message_detail||t.message;n&&P((function(e){var t=e.hideToast;return(0,y.jsx)(Se.ZP,{variant:"error",duration:5e3,onHide:t,text:n})}))},C=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,o){var i,a,c,s,l,u,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.sharedObject,a=e.sendType,c=i.id,(s={emails:r,user_ids:n,text:o,source:x(O)})[a]=c,l=Oe.Z.create("ConversationsResource",s),u=n.length>0?n:r,t.prev=6,t.next=9,l.callCreate();case 9:d=t.sent,p=d&&d.resource_response.data,A(p),k(p.id,"pin"===a?c:null),b(Re(Re({},_),De(u,p.id))),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),R(u,t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Ae(i,r,o,a,c,"next",e)}function c(e){Ae(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}(),D=function(n,r){"conversation_share_suggestion"===n.type?function(t,n,r){var o,i,a=e.sharedObject,c=e.sendType;switch(c){case"pin":i="pinId";break;case"board":i="boardId";break;case"did_it":i="didItId";break;case"user":case"pinner":i="userId"}var s=i?T(t,(Ce(o={text:n},i,a.id),Ce(o,"source",x(O)),o),void 0,j):void 0;s&&s.then((function(){k(t,"pin"===c?a.id:null),b(Re(Re({},_),{},Ce({},t,t)))})).catch((function(e){R([t],e)}))}(n.id,r):"user_share_suggestion"===n.type&&n.username?C([n.id],[],r):C([],[n.email],r),t({event_type:101,component:56,element:276})},N=e.onCreatePincodeClick,L=e.onShowImport,M=e.sendType,B=e.sharedObject,Z=e.onHide,U=e.onExternalSend,F=e.viewType,V=e.viewParameter,G="user"===e.sendType&&(0,je.q6)(j,e.sharedObject.id,E),H=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,je.q6)(j,e.sharedObject.ownerId,E),W=G||H,q=(0,(0,u.F)().checkExperiment)("web_share_show_more_contacts").anyEnabled,Y=(0,y.jsx)(h.xu,{paddingY:1,paddingX:3,children:(0,y.jsx)(h.iz,{})}),K=(0,y.jsxs)(r.Fragment,{children:[q&&Y,(0,y.jsx)(Pe,{onCreatePincodeClick:N,onEmailIconClick:function(){s(!0),v("email")},onExternalSend:U,onHide:Z,sharedObject:B,isPublisherSharingObject:W,viewType:F,viewParameter:V}),!q&&Y]});return c&&"email"===p?(0,y.jsx)(z,{initialTextValue:w,objectId:B.id,objectType:M,onCancelDraft:function(){s(!1),v(null)},onHide:Z,onSendMessage:D,width:394}):(0,y.jsxs)(h.xu,{color:"default",paddingX:3,paddingY:1,width:394,tabIndex:0,ref:I,children:[!q&&K,!W&&(0,y.jsx)(S,{objectAttachment:{type:M,id:B.id},onHide:Z,onSendMessage:D,onShowImportContacts:L,sentHistory:_}),q&&K]})}var Le=n(177471),Me=["facebook","google"];function Be(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function Ze(e,t,n){return"facebook"===e?n._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function ze(e){var t=e.onBack,n=(0,a.ZP)(),r=(0,$.Z)(),o=r.isAuth?r.email:null,i=Me.filter((function(e){return!r.isAuth||!1===r.socialNetwork[e].connected})),c=(0,Le.k)();return(0,y.jsx)(h.xu,{paddingX:1,paddingY:2,children:(0,y.jsxs)(h.kC,{gap:{row:0,column:2},direction:"column",children:[(0,y.jsxs)(h.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,y.jsx)(h.hU,{accessibilityLabel:n._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:t,size:"md"}),(0,y.jsx)(h.xv,{size:"300",weight:"bold",children:n._('Upload contacts from...', ' - ', ' -- ')})]}),(0,y.jsx)(h.kC,{direction:"column",gap:{row:0,column:4},children:i.map((function(e){return(0,y.jsx)(h.xu,{paddingX:2,children:(0,y.jsxs)(h.iP,{onTap:function(){return function(e){c.handleConnect(e,!0,Object.freeze({}),n)}(e)},children:[(0,y.jsx)(h.xv,{size:"200",children:Be(e,n)}),(0,y.jsx)(h.xv,{size:"200",children:Ze(e,o,n)})]})},e)}))})]})})}var Ue=n(749049);function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e){var t=e.element,n=e.onCreatePincodeClick,i=e.onExternalSend,a=e.onHide,s=e.sendType,p=e.sharedObject,f=e.viewType,v=e.viewParameter,m=e.component,_=(0,l.v)().logContextEvent,b=Fe((0,r.useState)(!1),2),g=b[0],w=b[1],P=(0,(0,u.F)().checkExperiment)("web_share_menu_logging").anyEnabled,O=(0,r.useRef)(!1),S=(0,d.SU)().viewParameter;(0,r.useEffect)((function(){var e=ie.yF[s];return e||o.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:s}),_({event_type:7120,component:P?14121:void 0,object_id_str:p.id,element:P?t:void 0,view_type:f,view_parameter:v,aux_data:P?{invite_object:e}:void 0}),_({event_type:10400,component:m,object_id_str:p.id,element:(0,Ue.O)(e),view_type:f,view_parameter:v||S,aux_data:{invite_object:e}}),function(){P||_({event_type:7121,object_id_str:p.id,view_type:f,view_parameter:v}),O.current||_({event_type:10403,component:14309,object_id_str:p.id,element:13478,view_type:f,view_parameter:S,aux_data:{invite_object:e}});var t=O.current?7493:7492;_({event_type:t,component:P?14121:void 0,object_id_str:P?p.id:void 0,element:P?13097:void 0,view_type:f,view_parameter:v,aux_data:P?{invite_object:e}:void 0})}}),[]);var x=function(){w(!0)},j=function(){w(!1)},E=function(){O.current=!0},A=function(){O.current=!0,i&&i()};return g?(0,y.jsx)(ze,{onBack:j}):(0,y.jsx)(h.xu,{overflow:"hidden",rounding:4,zIndex:new h.Ry(c.fe-1),color:"default",children:(0,y.jsx)(Ne,{onCreatePincodeClick:n,onHide:a,onShowImport:x,onMessageSent:E,onExternalSend:A,sendType:s,sharedObject:p,viewType:f,viewParameter:v})})}},375436:function(e,t,n){"use strict";var r=n(207112),o=n(908390),i=n(515198);t.Z=function(e){var t=e.text;return(0,i.jsx)(o.xv,{align:"center",size:"100",children:(0,i.jsx)(r.Z,{maxWidthPx:128,maxHeightPx:50,children:t})})}},67428:function(e,t,n){"use strict";var r=n(908390),o=n(515198);t.Z=function(e){var t=e.width,n=e.marginEnd,i=e.children,a=e.isCloseupActionBar;return(0,o.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:n?2:0,width:t,marginBottom:a?0:5,children:i})}},749049:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var r=function(e){switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},116674:function(e,t,n){"use strict";n.d(t,{X:function(){return f},f:function(){return p}});var r=n(76911);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var i=n(425288),a=n(623568),c=n(515198);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,i.Z)("ReportData"),d=u.Provider,p=u.useHook;function f(e){var t=e.children,n=s((0,r.useReducer)(o,null),2),i=n[0],l=n[1],u=(0,r.useCallback)((function(){return l({type:"REPORT_CONTENT_DISMISS"})}),[]),p=(0,r.useCallback)((function(e,t,n){return l({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"aggregatedComment"}})}),[]),f=(0,r.useCallback)((function(e,t,n){return l({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"conversation"}})}),[]),h=(0,r.useCallback)((function(e,t,n){return l({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}})}),[]),y=(0,r.useCallback)((function(e,t,n){var r,o=e.id,i=e.is_downstream_promotion,c=e.promoter,s=e.rich_metadata,u=e.rich_summary,d=e.videos,p=(0,a.VX)(s,u),f=(0,a.jL)(i,c);if((0,a.iR)(d)&&d){var h=d.video_list,y=void 0===h?{}:h,v=y[Object.keys(y)[0]];r=v&&v.duration}l({type:"REPORT_CONTENT_SHOW",payload:{id:o,isProduct:p,isPromoted:f,videoDuration:r,viewParameter:t,viewType:n,type:"pin"}})}),[]),v=(0,r.useMemo)((function(){return{reportData:i,dismiss:u,reportComment:p,reportConversation:f,reportImage:h,reportPin:y}}),[i,u,p,f,h,y]);return(0,c.jsx)(d,{value:v,children:t})}},152028:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(81226),o=n(898781),i=n(908390),a=n(515198);function c(e){var t=e.duration,n=(0,o.ZP)();return(0,a.jsxs)(i.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(i.JO,{accessibilityLabel:n._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,r.Z)(t)})})]})}},926749:function(e,t,n){"use strict";n.d(t,{ZP:function(){return U}});var r=n(76911),o=n(664229),i=n.n(o),a=n(722767),c=["eventData","component","objectId","view","viewParameter"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=n(121630),f=n(944546),h=n(407043),y=n(158103),v=n(908390),m=n(515198);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=["height","width","windowHeight","windowWidth","viewability"];function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=[0,.25,.5,.75,.95,.97],C=[0,.5,.8,.99,1],D="-64px 0px 0px 0px",N={rootMargin:D,threshold:C},L={rootMargin:D,threshold:f.iM},M=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function B(){return(new Date).getTime()}function Z(e){return!!e.volume&&e.volume>0}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(u,e);var t,n,o,s=x(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),T(E(t=s.call(this,e)),"videoWrapperRef",(0,r.createRef)()),T(E(t),"handleWindowResize",(function(){if(!t.fullscreen){var e=t.getDimensions(),n=t.currentInterval,r=n.height,o=n.width;e.height!==r||e.width!==o?t.startNewInterval(e):(t.currentInterval.windowHeight=e.windowHeight,t.currentInterval.windowWidth=e.windowWidth)}})),T(E(t),"handlePlayheadDown",(function(e){var n=e.event,r=t.props.onPlayheadDown;t.setState({seeking:!0}),r&&r({event:n})})),T(E(t),"handlePlayheadUp",(function(e){var n=e.event,r=t.props.onPlayheadUp;t.setState({seeking:!1}),r&&r({event:n})})),T(E(t),"handleLoop",(function(){t.videoTime=0})),T(E(t),"handleTimeChange",(function(e){var n=t.state,r=n.seeking,o=n.ready;if(t.currentInterval.videoDuration){var i=1e3*e.time,a=function(e,t,n,r){if(e>t)return null;if(n<=0)return null;var o,i=I(r);try{for(i.s();!(o=i.n()).done;){var a=o.value,c=a*n;if(e<=c&&t>c)return a}}catch(s){i.e(s)}finally{i.f()}return null}(t.videoTime,i,t.currentInterval.videoDuration,R);if("number"==typeof a&&t.props.playing&&!r&&o){var c=B();t.logVideoEvent(6906,P(P({},t.currentInterval),{},{startTime:c,endTime:c,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a}))}t.videoTime=i,t.props.onTimeChange&&t.props.onTimeChange(e)}})),T(E(t),"handleDurationChange",(function(e){t.currentInterval.videoDuration=1e3*e.duration,t.props.onDurationChange&&t.props.onDurationChange(e)})),T(E(t),"handleReady",(function(e){t.state.ready||t.setState({ready:!0}),t.props.onReady&&t.props.onReady(e)})),T(E(t),"handleEnded",(function(e){t.logFourthQuartileEvent(),t.props.loop&&(t.startNewInterval(),t.currentInterval.videoStartTime=0),t.props.onEnded&&t.props.onEnded(e)})),T(E(t),"handleVisibilityChange",(function(e,n){if(0!==e.length){var r=e.slice(-1)[0],o=function(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],o=t[n+1];if(null==o)return r;if(r<=e&&e<o)return r}return null}(Number.parseFloat(r.intersectionRatio.toFixed(2)),C);"number"==typeof o&&(t.visible=o>=.5),null==o||o===t.currentInterval.viewability||t.fullscreen||(0===o?t.startNewInterval({viewability:o,playbackState:M.PAUSED}):t.startNewInterval({viewability:o}))}})),T(E(t),"handleFullscreenChange",(function(e){var n=e.event,r=e.fullscreen;if(r){var o=window.screen,i=o.height,a=o.width;t.startNewInterval({height:i,width:a,windowHeight:i,windowWidth:a})}else r||t.startNewInterval(t.getDimensions());t.fullscreen=r,t.props.onFullscreenChange&&t.props.onFullscreenChange({event:n,fullscreen:r})})),T(E(t),"handleClose",(function(){t.startNewInterval()})),T(E(t),"handleContextMenu",(function(e){e.preventDefault()})),t.state={ready:!1,seeking:!1};var n=B();return t.handleWindowResize=i()(t.handleWindowResize,1e3),t.currentInterval={videoDuration:0,startTime:n,endTime:n,videoStartTime:0,videoEndTime:0,isAudible:Z(e),playbackState:t.getPlaybackState(e,t.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},t.videoTime=0,t.fullscreen=!1,t.visible=null,t}return t=u,(n=[{key:"componentDidMount",value:function(){this.currentInterval=P(P({},this.currentInterval),this.getDimensions()),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}},{key:"componentDidUpdate",value:function(e,t){var n={};Z(e)&&!Z(this.props)?n.isAudible=!1:!Z(e)&&Z(this.props)&&(n.isAudible=!0);var r=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==r&&(n.playbackState=r),Object.keys(n).length>0&&this.startNewInterval(n)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}},{key:"getPlaybackState",value:function(e,t){return t.ready?e.playing&&!t.seeking?M.PLAYING:M.PAUSED:M.LOADING}},{key:"getDimensions",value:function(){var e,t;if(this.videoWrapperRef.current){var n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logVideoEvent",value:function(e,t){var n=this.props,r=n.closeupStoryPinViewability,o=n.contextLogData,i=n.logContextEvent,a=t.height,s=t.width,u=t.windowHeight,p=t.windowWidth,f=t.viewability,h=g(t,b);if(null!=a&&null!=s&&null!=u&&null!=p&&null!=f){var y=r||f,v=P(P({},h),{},{height:a,width:s,windowHeight:u,windowWidth:p,viewability:y});i(P({event_type:e},function(e){var t=e.eventData.videoEvent,n=t.videoDuration,r=t.startTime,o=t.endTime,i=t.videoStartTime,a=t.videoEndTime,s=t.isAudible,u=t.height,p=t.width,f=t.playbackState,h=t.quartile,y=t.quartilePercentValue,v=t.windowHeight,m=t.windowWidth,_=t.viewability;return{component:e.component,object_id_str:e.objectId,view_type:e.view,view_parameter:e.viewParameter,aux_data:l({},d(e,c)),event_data:{videoEventData:{videoDuration:n,time:r,endTime:o,videoTime:i,endVideoTime:a,isAudible:s,height:u,width:p,playbackState:f,quartile:h,quartilePercentValue:y,windowHeight:v,windowWidth:m,viewability:_}}}}(P(P({},o),{},{view:this.fullscreen?108:o.view,eventData:{videoEvent:v}}))))}}},{key:"logFourthQuartileEvent",value:function(){var e=B();this.logVideoEvent(6906,P(P({},this.currentInterval),{},{startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1}))}},{key:"startNewInterval",value:function(e){var t=B();this.logVideoEvent(6904,P(P({},this.currentInterval),{},{endTime:t,videoEndTime:this.videoTime})),this.currentInterval=P(P(P({},this.currentInterval),e),{},{startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,c=e.accessibilityProgressBarLabel,s=e.accessibilityUnmuteLabel,l=e.aspectRatio,u=e.backgroundColor,d=e.captions,f=e.contextLogData,h=e.controls,_=e.cropHeight,b=e.hlsConfig,g=e.inAdsDesktopVideoExperiment,w=e.isAutoPlay,P=e.loop,O=e.objectFit,S=e.onLoadedChange,x=e.onControlsPause,j=e.onControlsPlay,E=e.onSeek,A=e.onVolumeChange,T=e.playbackRate,I=e.playing,k=e.playsInline,R=e.poster,C=e.preload,D=e.rootMargin,M=e.src,B=e.surface,Z=e.videoStartTime,z=e.volume,U=this.state.seeking,F=g?L:N;return void 0!==D&&(F.rootMargin=B?(0,p.e)(B):D),(0,m.jsx)(a.Z,{options:F,onVisibilityChange:this.handleVisibilityChange,children:(0,m.jsx)(v.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:_?{display:"flex",alignItems:"center",height:"".concat(_,"px")}:{}},children:(0,m.jsx)(y.default,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:c,accessibilityUnmuteLabel:s,aspectRatio:_?236/_:l,backgroundColor:u,captions:d,contextLogData:f,controls:h,hlsConfig:b,isAutoPlay:w,loop:P,objectFit:O,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:S,onLoop:this.handleLoop,onControlsPause:x,onControlsPlay:j,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:E,onTimeChange:this.handleTimeChange,onVolumeChange:A,playbackRate:T,playing:!U&&I,onPlay:function(){},onPlayError:function(){},playsInline:k,poster:R,preload:C,src:M,videoStartTime:Z,visible:this.visible,volume:z})})})}}])&&O(t.prototype,n),o&&O(t,o),u}(r.Component);function U(e){var t=(0,h.v)().logContextEvent;return(0,m.jsx)(z,P(P({},e),{},{logContextEvent:t}))}T(z,"defaultProps",v.nk.defaultProps)},158103:function(e,t,n){"use strict";n.r(t),n.d(t,{VideoWrapper:function(){return V},default:function(){return G},getPlaylistSourceSrc:function(){return F}});var r=n(76911),o=n(19121),i=n(965900),a=n(407043),c=n(773285),s=n(858416),l=n(780280),u=n(908390),d=n(969315),p=n(179888),f=n(515198),h=["view","viewParameter","component","element","objectId"];function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){var n=e;if(t){var r="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v.pinimg.com",r)}return n}if(Array.isArray(e)&&e[0].src){var o=e[0].src;if(t){var i="control"===t?"v3.pinimg.com":"v2.pinimg.com";o=o.replace("v.pinimg.com",i)}return o}return"unsupported_type_".concat(j(e))}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=w(i);function i(){var e;_(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(O(e=o.call.apply(o,[this].concat(n))),"state",{canPlayVideo:!1,playbackState:p.Cy.DEFAULT}),x(O(e),"errorRetryCount",2),x(O(e),"hasSegmentStarted",!1),x(O(e),"hasPlaybackStarted",!1),x(O(e),"hasVideoSessionStarted",!1),x(O(e),"hasVideoSessionEnded",!1),x(O(e),"lastStallTime",null),x(O(e),"lastPauseTime",null),x(O(e),"logSessionStartOnNextPlay",!1),x(O(e),"playerId",""),x(O(e),"videoSessionId",""),x(O(e),"videoVisibleTime",null),x(O(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:E(e.props.src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),x(O(e),"componentDidMount",(function(){var t=e.props,n=t.contextLogData,r=void 0===n?{}:n,o=t.playing,i=r.is_closeup_video,a=void 0!==i&&i;(0,d.tE)("videoMounted",!1,a),o&&(e.videoVisibleTime=new Date,e.logPlaybackPerformance(p.DR,{initiator:"mount"}))})),x(O(e),"componentDidUpdate",(function(t){var n=e.props,r=n.playing,o=n.visible,i=n.appInFocus;t.appInFocus&&!i&&(e.logPlaybackPerformance(p.$f,{initiator:"update"}),e.logSessionStartOnNextPlay=!0),t.visible&&!1===o&&(e.logSessionStartOnNextPlay=!1,e.updatePauseDuration(),e.logPlaybackPerformance(p.$f,{initiator:"update"})),!1===t.visible&&!0===o&&(e.videoVisibleTime=e.videoVisibleTime||new Date,r?(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(p.DR,{initiator:"update"})):e.logSessionStartOnNextPlay=!0),r&&i&&e.logSessionStartOnNextPlay&&(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(p.DR,{initiator:"update"}),e.logSessionStartOnNextPlay=!1)})),x(O(e),"addSegment",(function(){var t=e.playbackPerformance,n=t.canPlayTime,r=t.loadStartTime,o=t.segments,i=t.srcString,a=-1;n&&r&&0===o.length&&(a=n>r?n-r:0);var c=e.videoPlayerRef&&e.videoPlayerRef.video,s={indicatedKbps:-1,duration:c&&c.duration*p.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:c&&c.clientWidth||-1,viewportHeight:c&&c.clientHeight||-1,watchedDurationMs:0};o.push(s)})),x(O(e),"getCurrentVideoTime",(function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*p.gJ:0})),x(O(e),"getVideoResourceTiming",(function(){var t,n;if(null!==(t=window)&&void 0!==t&&null!==(n=t.performance)&&void 0!==n&&n.getEntriesByName&&e.playbackPerformance.srcString){var r=window.performance.getEntriesByName(e.playbackPerformance.srcString);return r.length>0&&r[0]||null}return null})),x(O(e),"handleCanPlayVideo",(function(t){var n=e.props,r=n.contextLogData,o=void 0===r?{}:r,i=n.onReady,a=n.playing,c=o.is_closeup_video,s=void 0!==c&&c,l=e.state.canPlayVideo;(0,d.tE)("handleCanPlayVideo",!1,s,{firstCanPlayEvent:!l,playing:a}),e.playbackPerformance.hasFatalError=!1,l||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)})),x(O(e),"handleEnded",(function(t){var n=e.props,r=n.loop,o=n.onEnded,i=e.playbackPerformance.segments,a=i&&i[i.length-1];r&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.hasSegmentStarted=!1):r||e.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:r}),e.setState({playbackState:p.Cy.ENDED}),o&&o(t)})),x(O(e),"handleError",(function(){var t,n,r,o,i,a,c,s,l=e.props.contextLogData,u=(void 0===l?{}:l).is_closeup_video,f=void 0!==u&&u,h=e.videoPlayerRef&&e.videoPlayerRef.video;(null==h||null===(t=h.error)||void 0===t?void 0:t.code)!==p.lG.MEDIA_ERR_ABORTED&&(e.playbackPerformance.hasFatalError=!0),e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat((null==h||null===(n=h.error)||void 0===n?void 0:n.message)||""),e.playbackPerformance.errorCode=(null==h||null===(r=h.error)||void 0===r?void 0:r.code)||0,e.playbackPerformance.errorName=(null==h||null===(o=h.error)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.slice(0,100))||"unknown",e.playbackPerformance.errorReason=(null==h||null===(a=h.error)||void 0===a||null===(c=a.message)||void 0===c?void 0:c.slice(0,100))||"unknown";var y={errorName:e.playbackPerformance.errorCode,errorReason:e.playbackPerformance.errorName,errorRetryCount:e.errorRetryCount,playbackState:e.state.playbackState,networkState:(null==h?void 0:h.networkState)||"unknown"};switch((0,d.tE)("fatalError",!1,f,y),null==h||null===(s=h.error)||void 0===s?void 0:s.code){case p.lG.MEDIA_ERR_ABORTED:break;case p.lG.MEDIA_ERR_NETWORK:case p.lG.MEDIA_ERR_DECODE:case p.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:e.errorRetryCount>0&&(null==h||h.load(),e.errorRetryCount-=1)}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:p.Cy.FAILED})})),x(O(e),"handleLoadedMetadata",(function(){e.setState({playbackState:p.Cy.LOADED_METADATA})})),x(O(e),"handleLoadStart",(function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:p.Cy.LOAD_START})})),x(O(e),"handleLoadedData",(function(){e.setState({playbackState:p.Cy.LOADED_DATA})})),x(O(e),"handlePlaying",(function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.hasSegmentStarted||e.addSegment(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:p.Cy.PLAYING}),e.props.clearSeekTime&&e.props.clearSeekTime()})),x(O(e),"handleUserPause",(function(t){var n=e.props.onControlsPause;e.lastPauseTime=new Date,n&&n(t)})),x(O(e),"handleVideoPause",(function(){e.state.playbackState!==p.Cy.STALLING&&e.state.playbackState!==p.Cy.SEEKING&&(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:p.Cy.PAUSED})})),x(O(e),"handleSeeking",(function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&(n.lastStartPlayTime=null),e.state.playbackState!==p.Cy.ENDED&&e.setState({playbackState:p.Cy.SEEKING})})),x(O(e),"handleStalled",(function(){null===e.lastStallTime&&e.state.playbackState!==p.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1,e.setState({playbackState:p.Cy.STALLING}))})),x(O(e),"handleTimeUpdate",(function(t){var n=e.props.onTimeChange;n&&n(t),e.state.playbackState===p.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())})),x(O(e),"resetPlaybackMetrics",(function(){e.hasSegmentStarted=!0,e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=m(m({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]})),x(O(e),"setLastSegmentStartPlayTime",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.lastStartPlayTime&&(n.lastStartPlayTime=e.getCurrentVideoTime())})),x(O(e),"setLastSegmentPlaybackStartDate",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.playbackStartDate&&(n.playbackStartDate=Date.now())})),x(O(e),"setPlaybackStartTime",(function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)})),x(O(e),"setVideoPlayerRef",(function(t){var n=e.props.setVideoRef;if(t&&(n&&n(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var r=e.videoPlayerRef.video;r.addEventListener("loadedmetadata",e.handleLoadedMetadata),r.addEventListener("loadeddata",e.handleLoadedData),r.addEventListener("pause",e.handleVideoPause),r.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}})),x(O(e),"updateStallDuration",(function(){if(null!==e.lastStallTime){var t=e.lastStallTime;e.playbackPerformance.totalStallDurationMs+=new Date-t,e.lastStallTime=null}})),x(O(e),"updatePauseDuration",(function(){if(null!==e.lastPauseTime){var t=e.lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}})),x(O(e),"updateWatchDurationForCurrentSegment",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1],r=n?n.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(n&&null!==r&&"number"==typeof o&&"number"==typeof r){var i=o-r;i>0&&(n.watchedDurationMs+=i,n.lastStartPlayTime=null)}})),x(O(e),"logPlaybackPerformance",(function(t,n){var r=e.props,o=r.contextLogData,i=void 0===o?{}:o,a=r.userId,c=r.isAutoPlay,s=r.logContextEvent,l=i.is_closeup_video,u=void 0!==l&&l,f=e.playbackPerformance,v=f.canPlayTime,_=f.detailedErrors,b=f.errorCode,g=f.errorName,w=f.errorReason,P=f.hasFatalError,O=f.loadStartTime,S=f.totalPauseDurationMs,x=f.totalStallDurationMs,j=f.numberOfStalls,E=f.numberOfSeeks,A=f.playbackStartTimestamp,T=f.segments,I=f.srcString,k=e.videoPlayerRef&&e.videoPlayerRef.video,R=t===p.DR,C=R&&!e.hasVideoSessionStarted,D=!R&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(k&&(C||D)){var N,L=-1;v&&O&&(L=v>O?v-O:0);var M=-1;v&&e.videoVisibleTime&&(M=v>e.videoVisibleTime?v-e.videoVisibleTime:0),R&&(e.videoSessionId=(0,p.Y7)(a),e.playerId=e.playerId||(0,p.EB)());var B=e.getVideoResourceTiming(),Z={averageVideoKbps:-1,autoplaying:c,detailedErrors:_,downloadedKiloBytes:"number"==typeof(null==B?void 0:B.decodedBodySize)&&B.decodedBodySize/p.Fm||0,errorCode:b,errorName:g,errorReason:w,fatalError:P,isCellular:!1,nativeVideoDurationMs:k.duration*p.gJ||-1,numberOfStalls:j,numberOfSeeks:E,overallPausedDurationMs:S,overallBufferDurationMs:x,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:A||-1,segments:[],sessionMark:t,screenPixelScale:null!==(N=window)&&void 0!==N&&N.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:k.clientWidth,startupPlayerHeight:k.clientHeight,startupTimeMs:L,startupLatencyMs:M,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:k.videoWidth,startupVariantHeight:k.videoHeight,videoUrl:I};if(!R){e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var z=T.reduce((function(e,t){return e+(t.watchedDurationMs||0)}),0);Z.overallWatchedDurationMs=z,Z.startupVariantWatchedDurationMs=z,Z.segments=e.playbackPerformance.segments,0===z?(Z.errorName="invalid_watch_duration",Z.rebufferRate=-1):Z.rebufferRate=x/z}(0,d.ZP)(Z,!1,u,m({playbackState:e.state.playbackState},n)),s({event_type:3606,event_data:{videoPerformanceData:Z},view_type:i.view,view_parameter:i.viewParameter,component:i.component,element:i.element,object_id_str:i.objectId,aux_data:m(m({},y(i,h)),{},{is_closeup_video:u,playback_session_id:e.videoSessionId})}),R?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,d.tE)(R?"sessionStart":"sessionEnd",!1,u,m({playbackState:e.state.playbackState},n))}})),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e})}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,c=e.accessibilityUnmuteLabel,s=e.aspectRatio,l=e.captions,d=e.controls,p=e.loop,h=e.loopOverride,y=e.objectFit,v=e.onDurationChange,m=e.onFullscreenChange,_=e.onLoadedChange,b=e.onControlsPlay,g=e.onPlayheadDown,w=e.onPlayheadUp,P=e.onSeek,O=e.onVolumeChange,S=e.playbackRate,x=e.playing,j=e.playsInline,A=e.poster,T=e.preload,I=e.src,k=e.videoStartTime,R=e.volume,C=this.state.canPlayVideo;return(0,f.jsx)(u.nk,{autoplay:C&&x,accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:c,aspectRatio:s,captions:l,controls:d,loop:void 0===h?p:h,objectFit:y,onDurationChange:v,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:m,onLoadedChange:_,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:b,onPlaying:this.handlePlaying,onPlayheadDown:g,onPlayheadUp:w,onReady:this.handleCanPlayVideo,onSeek:P,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:O,onWaiting:this.handleStalled,playbackRate:S,onPlay:function(){},onPlayError:function(){},playing:C&&x,playsInline:j,poster:A,preload:T,ref:this.setVideoPlayerRef,src:E(I,this.props.quicExpGroup),startTime:k||void 0,volume:R})}}])&&b(t.prototype,n),r&&b(t,r),i}(r.Component);var T=(0,r.memo)((function(e){var t=(0,a.v)().logContextEvent,n=(0,l.B)(),r=n.country,u=n.isAuthenticated,p=n.isBot,h=n.isSocialBot,y=n.unauthId,v=n.userAgent,_=v.browserName,b=v.browserVersion,g=v.isMobile,w=e.contextLogData,P=void 0===w?{}:w,O=P.is_closeup_video,S=void 0!==O&&O,x=P.view,j=P.viewParameter,E=(0,i.I)().appUI.appInFocus,T=(0,c.F)().checkExperiment,I=(0,s.RC)().clearSeekTime,k=null;u&&(k=T("web_video_quic").group.length?T("web_video_quic").group:null);var R=(0,o.Z)(),C={browserName:_,browserVersion:b,country:r,isAuthenticated:u,isBot:p,is_closeup_video:S,isMobile:g,isSocialBot:h,view:x,viewParameter:j};return(0,d.r$)(C),(0,f.jsx)(A,m(m({},e),{},{userId:R.id||y,appInFocus:E,quicExpGroup:k,logContextEvent:t,clearSeekTime:I}))})),I=n(562559),k=n(366284);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){if(Array.isArray(e)){var t=e.find((function(e){return"video/m3u8"===e.type}));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=M(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),U(Z(t=o.call(this,e)),"componentDidUpdate",(function(e,n){var r;e.videoStartTime&&t.props.videoStartTime&&e.videoStartTime<t.props.videoStartTime&&null!==(r=t.videoPlayerRef)&&void 0!==r&&r.video&&(t.videoPlayerRef.video.currentTime=t.props.videoStartTime)})),U(Z(t),"setVideoPlayerRef",(function(e){e&&(t.videoPlayerRef=e)})),U(Z(t),"handleOnEnded",(function(e){var n=e.event,r=t.props,o=r.loop,i=r.onLoop,a=r.onEnded;a&&(a({event:n}),t.videoPlayerRef&&t.videoPlayerRef.video&&o&&(t.videoPlayerRef.video.play(),i&&i()))}));var n=F(e.src);return t.state={useHlsVideo:!e.preferMp4&&!(0,k.G6)(e.requestContext.userAgent.browserName)&&!!n},t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,c=e.accessibilityUnmuteLabel,s=e.aspectRatio,l=e.appInFocus,u=e.backgroundColor,d=e.captions,p=e.contextLogData,h=e.controls,y=e.hlsConfig,v=e.isAutoPlay,m=e.loop,_=e.objectFit,b=e.onDurationChange,g=e.onEnded,w=e.onFullscreenChange,P=e.onLoadedChange,O=e.onControlsPause,S=e.onControlsPlay,x=e.onPlayheadDown,j=e.onPlayheadUp,E=e.onReady,A=e.onSeek,k=e.onTimeChange,R=e.onVolumeChange,C=e.playbackRate,N=e.playing,L=e.playsInline,M=e.poster,B=e.preferMp4,Z=e.preload,z=e.src,U=e.videoStartTime,V=e.visible,G=e.volume,H=this.state.useHlsVideo,W=F(z),q=D(D({},y),{},{startPosition:U||-1}),Y=!g&&m;return H&&W?(0,f.jsx)(I.Z,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:c,aspectRatio:s,appInFocus:l,backgroundColor:u,captions:d,contextLogData:p,controls:h,hlsConfig:q,isAutoPlay:v,loop:m,loopOverride:Y,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:w,onLoadedChange:P,onControlsPause:O,onControlsPlay:S,onPlayheadDown:x,onPlayheadUp:j,onReady:E,onSeek:A,onTimeChange:k,onVolumeChange:R,playbackRate:C,onPlay:function(){},onPlayError:function(){},playing:N,playsInline:L,poster:M,preload:Z,setVideoRef:this.setVideoPlayerRef,src:W,visible:V,volume:G}):(0,f.jsx)(T,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:c,aspectRatio:s,captions:d,contextLogData:p,controls:h,isAutoPlay:v,loop:m,loopOverride:Y,objectFit:_,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:w,onLoadedChange:P,onControlsPause:O,onControlsPlay:S,onPlayheadDown:x,onPlayheadUp:j,onReady:E,onSeek:A,onTimeChange:k,onVolumeChange:R,playbackRate:C,onPlay:function(){},onPlayError:function(){},playing:N,playsInline:L,poster:M,preload:Z,setVideoRef:this.setVideoPlayerRef,src:B?z:W||z,videoStartTime:U,visible:V,volume:G})}}])&&N(t.prototype,n),r&&N(t,r),i}(r.PureComponent);function G(e){var t=(0,i.I)().appUI.appInFocus,n=(0,l.B)();return(0,f.jsx)(V,D(D({},e),{},{appInFocus:t,requestContext:n}))}},944546:function(e,t,n){"use strict";n.d(t,{HJ:function(){return o},VS:function(){return r},iM:function(){return i}});var r=2,o="V_HLSV3_MOBILE",i=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},395164:function(e,t,n){"use strict";n.d(t,{T:function(){return c},Z:function(){return s}});var r=n(635240),o=n(226198),i=n(314880),a=[];function c(e){var t;try{t=JSON.stringify({errorObj:e})}catch(f){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}var n,c,s,l=(n={report_context:JSON.stringify({current_url:window.location.href,client_version:(0,r.Z)()}),report_data:t},Object.keys(n).map((function(e){return e+"="+encodeURIComponent(n[e])})).join("&")),u=window.btoa(l);if(-1===a.indexOf(u)){var d=new XMLHttpRequest;d.open("post","/_/_/logClientError/",!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded");var p=(0,i.H)();p&&d.setRequestHeader("X-Pinterest-PWS-Handler",p),d.setRequestHeader("X-CSRFToken",(c=o.fS,2===(s=("; "+document.cookie).split("; "+c.name+"=")).length?s.pop().split(";").shift():"")),d.send(l),a.push(u)}a.length>100&&a.shift()}function s(){window.addEventListener("error",(function(e){var t=e.error||{};c({extraData:t.extraData,name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(function(e){var t,n,r,o,i;if(e&&e.reason&&e.reason instanceof Error){var a=e.reason,s="string"==typeof a.message?a.message:String(a);c({name:null!==(t=a.name)&&void 0!==t?t:"unhandledrejection",message:s,message_detail:a.message_detail,original_message:a.original_message,stack:a.stack,filename:a.fileName,line:null!==(n=null!==(r=a.lineno)&&void 0!==r?r:a.line)&&void 0!==n?n:a.lineNumber,column:null!==(o=null!==(i=a.column)&&void 0!==i?i:a.colno)&&void 0!==o?o:a.columnNumber})}}))}},314880:function(e,t,n){"use strict";n.d(t,{H:function(){return o},V:function(){return i}});var r=null;function o(){return r}function i(e){r=e}},610977:function(e,t,n){"use strict";n.d(t,{DC:function(){return i},dV:function(){return r},gD:function(){return o},go:function(){return a}});var r="__PWS_ROOT__",o="__PWS_DATA__",i="__PWS_ERROR__",a="__GRAPHQL_DATA__"},635240:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(610977),o="";function i(){return function(){if(o.length>0)return o;var e=document.getElementById(r.gD);if(!e)throw new Error("Unable to retrieve appVersion because #".concat(r.gD," was not found in the DOM."));var t=e.textContent.indexOf('"appVersion"');if(t>-1){var n=t+14,i=t+21;return o=e.textContent.slice(n,i)}throw new Error("Unable to retrieve appVersion because appVersion property was not found in PWS DATA.")}()}},464228:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(76911),o=(0,r.createContext)();function i(){return(0,r.useContext)(o)}t.Z=o}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/7835-bee9ea2cecb07951.js.map