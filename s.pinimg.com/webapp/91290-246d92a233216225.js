"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[91290],{542554:function(e,t,r){r.r(t),r.d(t,{AMPPageContainer:function(){return u}});var n=r(908390),o=r(134879),i=r(444445),c=r(780280),a=r(995081),d=r(515198),u=function(e){var t=e.children,r=e.dataLayoutShiftBoundaryId,u=e.hasFixedHeader,s=void 0!==u&&u,l=e.hasGutter,_=void 0===l||l,f=e.height,p=e.showKeychainError,b=void 0!==p&&p,I=e.useViewport,v=void 0!==I&&I,y=(0,c.B)(),E=(0,a.jd)(y.userAgent.platform)?a.Vf:0;return(0,d.jsx)(n.xu,{"data-layout-shift-boundary-id":r||"PageContainer",height:v?"calc(100vh - ".concat(E,"px)"):f,paddingX:_?i.D6:void 0,paddingY:s||b?void 0:3,children:(0,d.jsx)(o.C,{value:!!_,children:t})})};t.default=u},678638:function(e,t,r){r.d(t,{$n:function(){return O},A4:function(){return P},CE:function(){return I},ET:function(){return R},F$:function(){return h},Kw:function(){return T},Nv:function(){return g},PA:function(){return m},X_:function(){return B},d9:function(){return S},e1:function(){return b},o4:function(){return A},vB:function(){return y}});var n=r(563339),o=r(483025),i=r(254176),c=r(422946),a=r(248327),d=r(833314),u=r(214494),s=r(956800),l=r(414327);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return function(t){var r=e.boardId,n=e.sectionIdBefore,o=e.sectionIdAfter,i=e.sourceSectionId,a=e.targetSectionId;t((0,s._f)({feedType:c.DV.BOARD_SECTIONS,feedId:r,itemType:"boardsection",sourceItemId:i,targetItemId:a}));var d={section_id:i,section_before:n||void 0,section_after:o||void 0};return u.Z.create("BoardSectionsReorderResource",d).callUpdate({showError:!1})}}function I(e,t){return function(r){return r((0,a.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}function v(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function y(e,t,r){var o=e.boardId,a=e.name,d=e.nameSource,_=e.pinImport,p=e.initialPinIds,b=void 0===p?[]:p,I=0;"RECOMMENDATION"===d?I=1:"EDITED_RECOMMENDATION"===d&&(I=2);var y=f({board_id:o,initial_pins:_&&!_.all?_.pinIds:b,name:a,name_source:I},r?{orbac_subject_id:r}:Object.freeze({}));return function(e){return u.Z.create("BoardSectionResource",y).callCreate({showError:!1}).then((function(r){var a=r.resource_response.data;e(v(o,a)),e((0,s.vX)({feedId:o,feedType:c.DV.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),e((0,i.Tq)(o,"pin_count")),e((0,l.jB)("BoardSectionsRepinResource",{board_id:o}));var d=_||{all:!1,pinIds:[]},u=d.all,f=d.pinIds;return u?new Promise((function(r,i){return e((0,n.Z)({inverseSelection:!0,selectedPinIds:f,source:{boardId:o,sectionId:null},target:{boardId:o,sectionId:a.id}},t)).then((function(){return r(a)})).catch(i)})):(f.length>0&&e((0,s.N8)(c.DV.BOARDFEED,o)),a)}))}}function E(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function h(e,t,r){return function(n){return u.Z.create("BoardSectionEditResource",f({section_id:t},r?{orbac_subject_id:r}:Object.freeze({}))).callDelete({showError:!1}).then((function(){return Promise.all([n(E(e,t)),n((0,s.EX)({feedId:e,feedType:c.DV.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),n((0,i.Tq)(e,"pin_count")),n((0,l.jB)("BoardSectionsRepinResource",{board_id:e}))])}))}}function O(e,t,r,n){return function(o){return u.Z.create("BoardSectionEditResource",f({section_id:t,title:r},n?{orbac_subject_id:n}:Object.freeze({}))).callCreate({showError:!1}).then((function(t){var r=t.resource_response.data;return o(function(e,t){return function(r){var n,o,a,d,u,l=t.board;l&&l.id!==e?(r(E(e,null!==(n=t.id)&&void 0!==n?n:"")),r((0,s.EX)({feedId:e,feedType:c.DV.BOARD_SECTIONS,itemIds:[null!==(o=t.id)&&void 0!==o?o:""],itemType:"boardsection"})),r((0,i.Tq)(e,"pin_count")),r(v(null!==(a=l.id)&&void 0!==a?a:"",t)),r((0,s.vX)({feedId:null!==(d=l.id)&&void 0!==d?d:"",feedType:c.DV.BOARD_SECTIONS,itemIds:[null!==(u=t.id)&&void 0!==u?u:""],itemType:"boardsection"})),r((0,i.Tq)(e,"pin_count"))):r({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,r)),o((0,l.jB)("BoardSectionsRepinResource",{board_id:e})),r}))}}function S(e,t,r){return function(n){return u.Z.create("BoardSectionsMergeResource",{source_section_id:t,target_section_id:r}).callUpdate({showError:!1}).then((function(o){return Promise.all([n(E(e,t)),n((0,l.jB)("BoardSectionsRepinResource",{board_id:e})),n(I(r)),n((0,s.N8)(c.DV.BOARD_SECTION_PINS,r))]).then((function(){return o}))}))}}var D=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}},m=function(e,t){return function(r){return u.Z.create("BoardSectionEditResource",f(f({},t),{},{section_id:e})).callCreate().then((function(e){return r(D(0,t)),e.resource_response.data}))}},P=function(e){return function(t){var r={section_id:e};return u.Z.create("BoardSectionResource",r).callGet().then((function(e){var r,n=(null===(r=e.resource_response)||void 0===r?void 0:r.data)||{id:"",title:""};return t(D(0,n)),e}))}},A=function(e,t,r,n){return function(o){var i=u.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return o(function(e,t,r,n){return{type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:r,pinCount:n}}}(e,t,r,n)),i}},g=function(e,t,r){return function(n){var i={board_id:e,initial_pins:t,name:r},c="BoardSectionResource";return u.Z.create(c,i).callCreate().then((function(r){var a=r.resource_response.data,u=(0,d.Fv)(a,o.Z[c]);return n((0,l.XM)(c,i,r,u)),t.length&&n({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:a.id},pinIds:t}}),r}))}},T=function(e){return function(t){var r=e.source,n=e.target,i=e.pinIds;if(t({type:"PINS_MOVE",payload:e}),r.boardlessPins||n.boardId!==r.boardId){var c={board_id:n.boardId,pin_ids:i,section_id:n.sectionId};return u.Z.create("BulkEditResource",c).callUpdate()}if(n.sectionId){var a={section_id:n.sectionId,pins:i},s="BoardSectionEditResource";return u.Z.create(s,a).callUpdate().then((function(e){var r=(0,d.Fv)(e.resource_response.data,o.Z[s]);return t((0,l.XM)(s,a,e,r)),e}))}var _={section_id:r.sectionId,pins:i};return u.Z.create("BoardSectionPinsResource",_).callDelete()}},B=function(e){return function(t){t({type:"PINS_MOVE_ALL",payload:e});var r=e.source,n=e.target,o=e.excludePinIds,i={board_id:r.boardId,new_board_id:n.boardId,pin_ids:o,old_section_id:r.sectionId,new_section_id:n.sectionId};return u.Z.create("BulkEditSelectAllResource",i).callUpdate()}},R=function(e,t,r,n){return function(o){return o(g(e,[],t)).then((function(t){var i=t.resource_response.data.id;return o(B({source:{boardId:e,sectionId:n},target:{boardId:e,sectionId:i},excludePinIds:r}))}))}}},576028:function(e,t,r){r.d(t,{V:function(){return u},u:function(){return d}});var n=r(214494),o=r(254176);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return function(t){var r={board_id:e};return n.Z.create("BoardResource",r).callGet().then((function(e){var r=e&&e.resource_response&&e.resource_response.data;return r&&t((0,o.yT)(r)),e}))}};function u(e,t,r){return function(i,a){var d=a().boards[e],u=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},s=c(c({allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null},r?{orbac_subject_id:r}:Object.freeze({})),u);return i((0,o.yT)(c(c({},s),{},{id:e}))),n.Z.create("BoardResource",c(c({},s),{},{board_id:e})).callUpdate().then((function(e){var r=e&&e.resource_response&&e.resource_response.data||t;return i((0,o.yT)(r)),e})).catch((function(e){throw d&&i((0,o.yT)(d)),e}))}}},563339:function(e,t,r){r.d(t,{Z:function(){return f},S:function(){return _}});var n=r(214494),o=r(254176),i=r(422946),c=r(678638),a=r(124237);var d=function(e){return function(t){a.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},u=r(956800),s=function(e){return(0,u.N8)(e.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,e.sectionId||e.boardId)};function l(e,t){var r=e.source,n=e.target;n.boardId!==r.boardId?(t((0,o.Tq)(r.boardId,"pin_count")),t((0,o.Tq)(n.boardId,"pin_count"))):r.sectionId&&n.sectionId||t((0,o.Tq)(n.boardId,"pin_count")),r.sectionId&&t((0,c.CE)(r.sectionId)),n.sectionId&&t((0,c.CE)(n.sectionId))}function _(e){return function(t){var r=e.selectedPinIds,n=e.source,o=e.target;t((0,u.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,u.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,itemIds:r,itemType:"pin"})),l(e,t)}}function f(e,t){return function(r){return function(e,t,r){var o=e.inverseSelection,c=e.selectedPinIds,a=e.source,l=e.target,_=e.orbacSubjectId;if(a.boardId===l.boardId&&(a.sectionId||null)===(l.sectionId||null))return Promise.reject();if(o){var f={board_id:a.boardId,new_board_id:l.boardId,old_section_id:a.sectionId||void 0,new_section_id:l.sectionId||void 0,pin_ids:c,orbac_subject_id:_};return n.Z.create("BulkEditSelectAllResource",f).callUpdate({showError:!1}).then((function(){return Promise.all([t(s(a)),t(s(l))])})).catch(d(r))}var p=function(e,r){t((0,u.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,itemIds:c,itemType:"pin"})),t((0,u.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,itemIds:c,itemType:"pin"}))};p(a,l);var b=function(){return p(l,a)};if(l.boardId===a.boardId){if(l.sectionId){var I={section_id:l.sectionId,pins:c,orbac_subject_id:_};return n.Z.create("BoardSectionEditResource",I).callUpdate({showError:!1}).catch((function(e){b(),d(r)(e)}))}var v={section_id:a.sectionId,pins:c,orbac_subject_id:_};return n.Z.create("BoardSectionPinsResource",v).callDelete({showError:!1}).catch((function(e){b(),d(r)(e)}))}var y={board_id:l.boardId,section_id:l.sectionId||void 0,pin_ids:c,orbac_subject_id:_};return n.Z.create("BulkEditResource",y).callUpdate({showError:!1}).catch((function(e){b(),d(r)(e)}))}(e,r,t).then((function(){return l(e,r)}))}}},447948:function(e,t,r){function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e,t,r,n,o){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:r,url:n,localPinId:o}}}function c(e){return{type:"PIN_UNSAVE",payload:{id:e}}}r.d(t,{Gb:function(){return c},I1:function(){return s},Ib:function(){return _},NA:function(){return u},Ur:function(){return i},Vw:function(){return d},b9:function(){return p},i0:function(){return f},mO:function(){return o},q1:function(){return l},t_:function(){return a},yR:function(){return n},yj:function(){return b}});var a=function(e,t,r){return{type:"PIN_UNDO_SAVE",payload:{pinId:e,boardId:t,boardSectionId:r}}};function d(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function u(e){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,undoAction:e.undoAction,undoActionOptions:e.undoActionOptions,undoText:e.undoText}}}function s(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function l(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function _(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function f(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function b(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}},404508:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(506979),o=r(941646),i=r(898781),c=r(112690),a=r(52022),d=r(867820),u=r(385740),s=r(908390),l=r(609500),_=r(515198);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],c=!0,a=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);c=!0);}catch(d){a=!0,o=d}finally{try{c||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=e.alignIconLeft,r=e.bgColor,p=e.color,b=e.disableRedirect,I=void 0!==b&&b,v=e.fallbackUrl,y=e.icon,E=void 0===y?"arrow-back":y,h=e.onTouch,O=e.padding,S=e.placement,D=e.shouldUseFallbackUrl,m=e.size,P=void 0===m?"lg":m,A=e.viewParameter,g=e.viewType,T=(0,i.ZP)(),B=(0,l.useHistory)(),R=(0,l.useLocation)(),w=(0,n.useSelector)((function(e){return e.session.isAuthenticated})),N=(0,c.Z)(),j=(0,a.Z)(),C=(0,u.SU)(),Z=C.viewType,U=C.viewParameter,V=f(g?[g,A]:[Z,U],2),x=V[0],k=V[1],L=function(){(0,d.My)("mweb_back_button_click.".concat(String(S),".is_auth_").concat(String(w))),j({action:"click",item:"back-button"}),x&&N({view_type:x,view_parameter:k,element:34,event_type:102}),h&&h(),I||((!R.key||R.state&&"redirect"===R.state.referrer||D)&&v?B.push(v):R.pathname.includes("/password/reset/")&&R.search&&R.search.includes("?nativeShouldDismiss=true")?B.push("/login/?dismissWebview=true"):B.goBack())};return(0,_.jsx)(o.Z,{id:"back-button",children:t?(0,_.jsx)(s.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===E?-1:-2,children:(0,_.jsx)(s.hU,{accessibilityLabel:T._('Back', 'navigation button', 'navigation button'),bgColor:r,iconColor:p||r&&!["white","lightGray","transparent"].includes(r)?p:"gray",icon:E,onClick:L,padding:"auto"!==O?O:2,size:P})}):(0,_.jsx)(s.hU,{accessibilityLabel:T._('Back', 'navigation button', 'navigation button'),bgColor:r,iconColor:p||r&&!["white","lightGray","transparent"].includes(r)?p:"gray",icon:E,onClick:L,padding:"auto"!==O?O:2,size:P})})}},166753:function(e,t,r){var n=r(499128),o=r(139574),i=r(576028),c=r(678638),a=r(447948),d=r(515198);t.Z=function(e){var t=e.boardId,r=e.boardSectionId,u=e.clientTrackingParams,s=e.dispatch,l=e.i18n,_=e.newPinId,f=e.onError,p=e.onSuccess,b=e.originalPinId,I=e.shouldRefresh,v=void 0!==I&&I,y=e.showToast,E=e.sourcePinId;return s((0,o.q)({pinId:_,boardId:t,boardSectionId:r,clientTrackingParams:u})).then((function(){b&&s((0,a.t_)(b,t,r)),s((0,a.t_)(E,t,r)),v&&(r&&s((0,c.A4)(r)),t&&s((0,i.u)(t))),y((function(e){var t=e.hideToast;return(0,d.jsx)(n.ZP,{text:l._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin'),onHide:t})})),p&&p()})).catch((function(){y((function(e){var t=e.hideToast;return(0,d.jsx)(n.ZP,{variant:"error",text:l._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),onHide:t})})),null==f||f()}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/91290-246d92a233216225.js.map