"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[39902,13047,24661,90984],{941646:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(908390),o=r(515198);function i(e){var t=e.children,r=e.display,i=e.id;return(0,o.jsx)(n.xu,{"data-test-id":i,display:r,children:t})}},112690:function(e,t,r){var n=r(407043);t.Z=function(){return(0,n.v)().logContextEvent}},499128:function(e,t,r){r.d(t,{UZ:function(){return d},Vg:function(){return u},ZP:function(){return f}});var n=r(76911),o=r(829407),i=r(50286),s=r(908390),a=r(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=200,d=function(e){var t=e.deviceType,r=e.hiding,n=e.visible,o="desktop"===t,i=0,s=o?"translateY(200px)":"translateY(-200px)",a="opacity 0.1s ease-in-out",l="hidden";return n&&!r&&(i=1,s="translateY(0)",a="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),n&&r&&(s="scale(1.1)",a="opacity transform ".concat(.2,"s")),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:o?10:0,transform:s,transition:a,visibility:l}};function f(e){var t,r=e._dangerouslySetPrimaryAction,c=e.text,f=e.primaryAction,p=e.thumbnailShape,h=e.variant,v=e.dataTestId,b=e.duration,m=void 0===b?2e3:b,g=e.onHide,w=e.href,y=e.onClick,_=e.openNewPage,x=e.iconThumbnail,O=e.imageUrl,P=(0,i.ZP)(),S=l((0,n.useState)(!1),2),k=S[0],j=S[1],A=l((0,n.useState)(!1),2),E=A[0],T=A[1],C=(0,n.useRef)(),z=function(){j(!0),C.current=setTimeout(g,u)},I=function(){C.current=setTimeout(z,m)},L=function(){C.current&&clearTimeout(C.current)};(0,o.Z)((function(){return setTimeout((function(){return T(!0)}),100),I(),L})),x?t=x:O&&(t=(0,a.jsx)(s.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(s.Ee,{alt:"string"==typeof c?c:"".concat(c[0]," ").concat(c[1]),fit:"cover",naturalHeight:1,naturalWidth:1,src:O})}));var R=(0,a.jsx)(s.FN,{_dangerouslySetPrimaryAction:r,primaryAction:f,text:c,thumbnail:t,thumbnailShape:p,variant:h}),H=d({deviceType:P,hiding:k,visible:E}),D=H.marginTop,B=H.opacity,M=H.pointerEvents,F=H.position,Z=H.transform,N=H.transition,U=H.visibility;return(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{transform:Z,transition:N,visibility:U,pointerEvents:M}},"data-test-id":null!=v?v:"toast",onMouseEnter:L,onMouseLeave:I,opacity:B,position:F,marginTop:D,display:"flex",children:w?(0,a.jsx)(s.iP,{role:"link",href:w,onTap:function(e){var t=e.event;return null==y?void 0:y(t)},target:_?"blank":null,rounding:"pill",children:R}):R})}},12610:function(e,t,r){var n;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:function(){return b},LU:function(){return m},ZP:function(){return g}});var a=1e6,l=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,c={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},u={},d={background:"#FF8A8A",transform:"scale(.98)"},f=(s(n={init:function(e){return{transform:"scale(".concat(u[e]?.8:.99,")"),transition:"transform .2s ease-in-out",background:"#8E8E8E"}}},c.enter,{background:"#A0DCC8",transform:"scale(.99)"}),s(n,c.exit,d),s(n,c.stopped,d),s(n,c.paused,d),s(n,c.resumed,{background:"#0FA573",transform:"scale(.99)"}),n),p=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"setMutationObserver",(function(e){return r.mutationObserver=e,r})),s(this,"startMutationObserver",(function(e){r.mutationObserver&&r.mutationObserver.observe(r.node,e)})),s(this,"stopMutationObserver",(function(){r.mutationObserver&&r.mutationObserver.disconnect()})),s(this,"handleIntersectionChange",(function(e){var t=e.intersectionRatio>0||e.isIntersecting;if(t&&!r.inViewport){var n=Date.now();r.startTime=n,r._debug(c.enter,{startTime:n,node:r.node}),r.enterCallbacks.forEach((function(e){return e()}))}else!t&&r.inViewport&&(r._debug(c.exit,!0),r.exitCallbacks.forEach((function(e){return e(r.toJSON())})));r.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=t,this.startTime=0,this.debugId=""}var t,r,n;return t=e,(r=[{key:"onEnterViewport",value:function(e){return this.enterCallbacks.push(e),this}},{key:"onExitViewport",value:function(e){return this.exitCallbacks.push(e),this}},{key:"setDebugId",value:function(e){return this.debugId=e,l&&Object.assign(this.node.style,f.init(e)),this}},{key:"pause",value:function(){var e=this;return this.inViewport&&(this._debug(c.paused,!0),this.exitCallbacks.forEach((function(t){return t(e.toJSON())}))),this}},{key:"resume",value:function(){if(this.inViewport){var e=Date.now();this._debug(c.resumed,{startTime:e}),this.startTime=e}return this}},{key:"stop",value:function(e){var t=this;return this.inViewport&&(this._debug(c.stopped,!0),this.exitCallbacks.forEach((function(r){return r(t.toJSON(e))}))),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{startTime:this.startTime*a,endTime:Date.now()*a,forcedExit:e}}},{key:"toDebugJSON",value:function(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:"".concat((Date.now()-this.startTime)/1e3," seconds")}}},{key:"_debug",value:function(e,t){if(l)switch(window.console.log("ðŸ“Œ ".concat(e," -- ").concat(this.debugId)),!0===t&&window.console.log(this.toDebugJSON()),"object"===o(t)&&window.console.log(t),f[e]&&Object.assign(this.node.style,f[e]),e){case c.flushed:case c.paused:case c.exit:u[this.debugId]=!0}}}])&&i(t.prototype,r),n&&i(t,n),e}();function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=!0,m=!1,g=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"_delegateChange",(function(e){e.forEach((function(e){var r=t.activeImpressions.get(e.target);r&&r.handleIntersectionChange(e)}))})),v(this,"_handleMutations",(function(e,r){var n=t.mutationObservers.get(r);n&&n.offsetHeight<1&&n&&t.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=m,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}var t,r,n;return t=e,(r=[{key:"setExperimentStatus",value:function(e){this.inExperiment!==e&&(this.inExperiment=e)}},{key:"stop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}},{key:"start",value:function(e){var t=this,r=this.activeImpressions.get(e);return r||(r=new p(e),this.activeImpressions.set(e,r),this.observer.observe(e),r.setMutationObserver(new window.MutationObserver((function(e,r){return t._handleMutations(e,r)}))),this.mutationObservers.set(r.mutationObserver,e),r.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),r}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;this.paused||(Array.from(this.activeImpressions.values()).forEach((function(e){return e.pause()})),this.paused=!0,this.pausePriority===m&&(this.pausePriority=e))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;e===m&&this.pausePriority===b||this.paused&&(Array.from(this.activeImpressions.values()).forEach((function(e){return e.resume()})),this.paused=!1,this.pausePriority=m)}},{key:"addObstruction",value:function(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}},{key:"removeObstruction",value:function(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}},{key:"updateObstructions",value:function(){this._calculateRootMargins()}},{key:"_calculateRootMargins",value:function(){var e=this,t=Array.from(this.topObstructions).reduce((function(e,t){var r=t.getBoundingClientRect().bottom;return r>e?r:e}),0),r=window.innerHeight-Array.from(this.bottomObstructions).reduce((function(e,t){var r=t.getBoundingClientRect().top;return r<e?r:e}),window.innerHeight);if(t!==this.topHeight||r!==this.bottomHeight){var n={rootMargin:"".concat(-t,"px 0px ").concat(-r,"px")};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((function(t){return e.observer.observe(t.node)})),this.topHeight=t,this.bottomHeight=r}}}])&&h(t.prototype,r),n&&h(t,n),e}()},124580:function(e,t,r){var n=r(12610);t.Z=new n.ZP},995081:function(e,t,r){r.d(t,{Rq:function(){return n},Vf:function(){return o},jd:function(){return i},oy:function(){return s}});var n=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},o=28,i=function(e){return window.innerHeight>=748&&n(e)},s=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},313047:function(e,t,r){r.r(t),r.d(t,{DEFAULT_HEIGHT:function(){return m},DEFAULT_PADDING_Y:function(){return g},FixedFooter:function(){return _},FixedHeader:function(){return y}});var n=r(76911),o=r(124580),i=r(53987),s=r(773285),a=r(834256),l=r(908390),c=r(643010),u=r(515198),d=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug"],f=["alignCenter","appUpsellFooterConfig","footerInLego","footerWidth","forceShow","hasTopShadow","location","showDockedNavBar","dockNavBarForAuthTablet","isTablet","isModal","onScroll"];function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=64,g=3;function w(e){var t=e.children,r=e.footerConfig,i=e.headerConfig,a=e.height,d=e.hideOnScroll,f=e.hideOnScrollState,p=f.isHidden,h=f.updateHiddenState,b=e.showDockedNavBar,w=e.dockNavBarForAuthTablet,y=e.isTablet,_=e.noPadding,x=e.paddingY,O=void 0===x?g:x,P=e.type,S=e.zIndex,k=i||{},j=k.headerLimitedOverflow,A=k.ignoreObstructions,E=k.zIndexForGestaltBug,T=r||{},C=T.appUpsellFooterConfig,z=T.footerInLego,I=T.footerWidth,L=!!C,R="header"===P?"top":"bottom",H=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}).anyEnabled,D=(0,c.vs)(),B=H?D:(0,c.Yc)(),M=(0,n.useRef)(null),F=(0,n.useRef)(null);(0,n.useEffect)((function(){try{if(!A){var e=M.current;F.current=j&&e&&Array.isArray(e.children)?e.children[0]:e,F.current instanceof HTMLElement&&o.Z.addObstruction(R,F.current)}}catch(t){window.console.error(t),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){A||F.current instanceof HTMLElement&&o.Z.removeObstruction(R,F.current)}}),[A,j,R,B]);var Z,N,U="top"===R?"relative":"fixed",V=_?0:O,Y=(null!=a?a:m)+((null==i?void 0:i.overrideTop)||0),q=d||b||w?v({transition:z?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},p?{transform:"translateY(".concat("top"===R?-Y:Y,"px)"),opacity:z?0:1}:Object.freeze({})):{},G="relative"!==U||null!=i&&i.noGutter?0:2,W=G?-G:0,J=B?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";return B&&("header"===P?Z=-1:N=-1),(0,u.jsx)(l.xu,{ref:M,dangerouslySetInlineStyle:{__style:v(v(v(v(v({top:Z,bottomStyle:N},!S||E?{zIndex:E||1}:Object.freeze({})),j?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({})),null!=i&&i.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({})),null!=r&&r.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),q)},zIndex:E?void 0:S,"data-test-id":P,display:L?"flex":void 0,height:a&&!z?a:void 0,position:U,bottom:"footer"===P,top:"header"===P,left:!0,right:!0,marginStart:z?"auto":W,marginEnd:z?"auto":W,onTransitionEnd:function(){(d||b||w)&&F.current&&(p?o.Z.removeObstruction(R,F.current):o.Z.addObstruction(R,F.current))},width:z||"fixed"!==U?void 0:"100%",children:(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:v(v({backgroundColor:(null==i?void 0:i.isTranslucent)&&J||(null==i?void 0:i.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:z?L?void 0:null!=a?a:m:"100%",boxShadow:z?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:!z||b&&!y?void 0:16},j?{pointerEvents:"auto"}:Object.freeze({})),null!=i&&i.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},paddingX:("footer"!==P||_?0:4)+G,paddingY:V,position:"relative",width:z&&I?I:L?void 0:"100%",rounding:!z||b&&!y?void 0:"pill",display:z||null!=r&&r.alignCenter?"flex":void 0,marginStart:z?"auto":void 0,marginEnd:z?"auto":void 0,alignItems:null!=r&&r.alignCenter?"center":void 0,children:"function"==typeof t?t({updateHiddenState:h}):t})})}function y(e){var t=e.hasBorder,r=e.headerLimitedOverflow,n=e.ignoreObstructions,o=e.isTranslucent,i=e.isTransparentBackground,s=e.noGutter,c=e.overrideTop,f=e.useRoundedCorners,h=e.zIndexForGestaltBug,b=p(e,d),m=b.noPadding,y=b.paddingY,_=void 0===y?g:y,x=b.zIndex,O=m?0:_;return(0,u.jsx)(l.Le,{top:c||0,height:r?44+2*O*4:void 0,zIndex:x||void 0,children:(0,u.jsx)(a.Z,{hideOnScroll:b.hideOnScroll,children:function(e){return(0,u.jsx)(w,v(v({},b),{},{hideOnScrollState:e,type:"header",headerConfig:{isTranslucent:o,isTransparentBackground:i,headerLimitedOverflow:r,hasBorder:t,ignoreObstructions:n,noGutter:s,overrideTop:c,zIndexForGestaltBug:h,useRoundedCorners:f}}))}})})}function _(e){var t=e.alignCenter,r=e.appUpsellFooterConfig,n=e.footerInLego,o=e.footerWidth,s=e.forceShow,l=e.hasTopShadow,c=e.location,d=e.showDockedNavBar,h=e.dockNavBarForAuthTablet,b=e.isTablet,m=e.isModal,g=e.onScroll,y=p(e,f),_=!!c&&(0,i.uM)(c)&&(!!d||!!h);return(0,u.jsx)(a.Z,{appUpsellFooterConfig:r,forceShow:s,hideOnScroll:y.hideOnScroll,location:c,isDockedNavOnPlp:_,isModal:m,onScroll:g,children:function(e){return(0,u.jsx)(w,v(v({},y),{},{hideOnScrollState:e,showDockedNavBar:d,dockNavBarForAuthTablet:h,isTablet:b,type:"footer",footerConfig:{alignCenter:t,appUpsellFooterConfig:r,footerInLego:n,footerWidth:o,hasTopShadow:l}}))}})}},834256:function(e,t,r){r.d(t,{Z:function(){return v},m:function(){return h}});var n=r(76911),o=r(700380);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=20,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,i=c(u);function u(){var e;s(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(d(e=i.call.apply(i,[this].concat(r))),"state",{isHidden:!!e.props.appUpsellFooterConfig||!!e.props.isDockedNavOnPlp}),p(d(e),"lastScrollPos",0),p(d(e),"updateHiddenState",(function(t){e.reqAnimationId=window.requestAnimationFrame((function(){e.setState({isHidden:t})}))})),p(d(e),"handleScroll",(0,o.Z)((function(){var t=e.props,r=t.appUpsellFooterConfig,n=t.isModal,o=t.onScroll,i=t.isDockedNavOnPlp,s=e.state.isHidden,a=window.scrollY,l=a-e.lastScrollPos,c="none",u=document.documentElement||{},d=u.scrollHeight,f=u.clientHeight;if(!Number.isNaN(d)&&!Number.isNaN(f))if(l<0){var p=window.scrollMinY||0;c=a<=Math.abs(p+Math.max(l,h))?"start":"none"}else{c=a>=(window.scrollMaxY||d-f)-Math.max(l,h)?"end":"none"}var v=n?0:55;r?l>h&&s&&a>=500?r.shouldShowAfterScroll()&&(e.updateHiddenState(!1),o&&o(!1)):(l<-h&&!s||a<=v)&&(e.updateHiddenState(!0),o&&o(!0)):!e.props.hideOnScroll&&i?"start"===c&&!s||a<=v?(e.updateHiddenState(!0),o&&o(!0)):(a>v||"end"===c)&&s&&(e.updateHiddenState(!1),o&&o(!1)):(l<-h||"start"===c)&&s||a<=v?(e.updateHiddenState(!1),o&&o(!1)):(l>h||"end"===c)&&!s&&(e.updateHiddenState(!0),o&&o(!0));e.lastScrollPos=a}),30)),e}return t=u,(r=[{key:"componentDidMount",value:function(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.forceShow,n=this.state.isHidden;return t({isHidden:!r&&n,updateHiddenState:this.updateHiddenState})}}])&&a(t.prototype,r),n&&a(t,n),u}(n.Component)},542554:function(e,t,r){r.r(t),r.d(t,{AMPPageContainer:function(){return c}});var n=r(908390),o=r(134879),i=r(444445),s=r(780280),a=r(995081),l=r(515198),c=function(e){var t=e.children,r=e.dataLayoutShiftBoundaryId,c=e.hasFixedHeader,u=void 0!==c&&c,d=e.hasGutter,f=void 0===d||d,p=e.height,h=e.showKeychainError,v=void 0!==h&&h,b=e.useViewport,m=void 0!==b&&b,g=(0,s.B)(),w=(0,a.jd)(g.userAgent.platform)?a.Vf:0;return(0,l.jsx)(n.xu,{"data-layout-shift-boundary-id":r||"PageContainer",height:m?"calc(100vh - ".concat(w,"px)"):p,paddingX:f?i.D6:void 0,paddingY:u||v?void 0:3,children:(0,l.jsx)(o.C,{value:!!f,children:t})})};t.default=c},134879:function(e,t,r){r.d(t,{C:function(){return i},V:function(){return s}});var n=r(76911),o=(0,n.createContext)(!1),i=o.Provider,s=function(){return(0,n.useContext)(o)}},343341:function(e,t,r){r.d(t,{F9:function(){return s},Zo:function(){return o},nE:function(){return i}});var n=(0,r(425288).Z)("toastManagerContext"),o=n.Provider,i=n.Consumer,s=n.useHook},829407:function(e,t,r){var n=r(76911);t.Z=function(e){(0,n.useEffect)(e,[])}},962482:function(e,t,r){var n=r(898781),o=r(908390),i=r(515198);t.Z=function(e){var t=e.isInModal,r=(0,n.ZP)();return(0,i.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,i.jsx)(o.$j,{accessibilityLabel:r._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},97494:function(e,t,r){r.r(t),r.d(t,{default:function(){return M}});var n=r(76911),o=r(404508),i=r(962482),s=r(542554),a=r(8038),l=r(499128),c=r(19121),u=r(344090),d=r(759929),f=r(313047),p=r(349700),h=r(323468),v=r(826067),b=r(50286),m=r(283943),g=r(898781),w=r(112690),y=r(134906),_=r(609500),x=r(908390),O=r(343341),P=r(515198);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(c){return void r(c)}a.done?t(l):Promise.resolve(l).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){A(i,n,o,s,a,"next",e)}function a(e){A(i,n,o,s,a,"throw",e)}s(void 0)}))}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=H(e);if(t){var o=H(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(m,e);var t,r,n,c,b=I(m);function m(){var e;T(this,m);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return D(R(e=b.call.apply(b,[this].concat(r))),"state",{confirmPassword:"",confirmPasswordError:"",isLinkValid:void 0,isLoading:!1,password:"",passwordError:""}),D(R(e),"handleBlur",(function(){e.setState({confirmPasswordError:e.validateConfirmPassword(),passwordError:e.validatePassword()})})),D(R(e),"handleChangePassword",(function(t){var r=t.value;e.setState({password:r},(function(){e.setState({passwordError:e.validatePassword()})}))})),D(R(e),"handleChangeConfirmPassword",(function(t){var r=t.value;e.setState({confirmPassword:r},(function(){e.setState({confirmPasswordError:e.validateConfirmPassword()})}))})),D(R(e),"handleSubmit",function(){var t=E(regeneratorRuntime.mark((function t(r){var n,o,i,s,c,u,f,p,h,b,m,g,w,y,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,o=n.history,i=n.i18n,s=n.location,c=n.logContextEvent,u=n.params.username,f=n.showToast,p=(0,v.mB)(s.search),h=p.e,b=p.t,m=e.state,g=m.confirmPassword,w=m.confirmPasswordError,y=m.password,_=m.passwordError,r.preventDefault(),!w&&!_){t.next=7;break}return t.abrupt("return");case 7:(0,a.Z)({expiration:h,new:y,new_confirm:g,token:b,username:u}).then((function(t){t.resource_response.data.password_changed&&(c({event_type:52,component:141,view_type:7,view_parameter:53}),e.setState({isLoading:!1}),f((function(e){var t=e.hideToast;return(0,P.jsx)(l.ZP,{text:i._('Your password has been changed successfully.', 'Confirmation toast of successful password change', 'Confirmation toast of successful password change'),onHide:t})})),window.setTimeout((function(){return window.location.href="/"}),d.w))})).catch((function(t){1201===t.api_error_code?(c({event_type:52,component:141,view_type:7,view_parameter:53}),f((function(e){var t=e.hideToast;return(0,P.jsx)(l.ZP,{text:i._('Your password has been changed successfully.', 'Confirmation toast of successful password change', 'Confirmation toast of successful password change'),onHide:t})})),o.push("/login/")):e.setState({isLoading:!1,passwordError:t.message})})),e.setState({isLoading:!0});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D(R(e),"validateConfirmPassword",(function(){var t=e.props.i18n,r=e.state,n=r.confirmPassword,o=r.password,i=(0,y.sG)({message:t._('Passwords do not match', 'Error message when confirm password does not match', 'Error message when confirm password does not match'),targetValue:o});return(0,y.a3)(n,[i,(0,y.aH)({message:t._('Required', 'Required field validation error message', 'Required field validation error message')})])})),D(R(e),"validatePassword",(function(){return(0,y.a3)(e.state.password,[(0,y.oR)({message:e.props.i18n._('Oops! Your password can only have letters, numbers and basic symbols.', 'Error message when password contains invalid characters', 'Error message when password contains invalid characters')}),(0,h.q)({blackPassStr:e.props.i18n._('Please try using a stronger password', 'Blacklisted password validation error', 'Blacklisted password validation error'),samePasswordStr:e.props.i18n._('Password and username can\'t match', 'Matching password validation error', 'Matching password validation error'),shortPassStr:e.props.i18n._('Oops! Your password needs 6+ characters.', 'Too short password validation error', 'Too short password validation error')}),(0,y.aH)({message:e.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})])})),e}return t=m,(r=[{key:"componentDidMount",value:(c=E(regeneratorRuntime.mark((function e(){var t,r,n,o,i,s,a,l,c,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.shouldSkipDirectlyToInvalidLink){e.next=5;break}this.setState({isLinkValid:!1}),e.next=18;break;case 5:if(t=this.props,r=t.currentUsername,n=t.isLimitedLoginUser,o=t.location,i=t.logout,s=t.params.username,a=(0,v.mB)(o.search),l=a.e,c=a.t,s!==r||!n||!i){e.next=17;break}return e.prev=8,e.next=11,i();case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),this.setState({isLoading:!1,passwordError:e.t0.message}),e.abrupt("return");case 17:(0,u.Z)({expiration:l,token:c,username:s}).then((function(e){var t=e.resource_response.data.is_link_valid,r=void 0!==t&&t;d.setState({isLinkValid:r})})).catch((function(){d.setState({isLinkValid:!1})}));case 18:case"end":return e.stop()}}),e,this,[[8,13]])}))),function(){return c.apply(this,arguments)})},{key:"renderInvalidLink",value:function(){return(0,P.jsxs)(x.xu,{margin:3,children:[(0,P.jsx)(x.X6,{size:"500",align:"center",accessibilityLevel:1,children:this.props.i18n._('Sorry', 'passwordReset.expired.title', 'Heading for reset password page when link is invalid')}),(0,P.jsxs)(x.xu,{marginTop:4,maxWidth:450,display:"flex",direction:"column",marginStart:"auto",marginEnd:"auto","data-test-id":"expired-reset-password-container",children:[(0,P.jsx)(x.xv,{align:"center",children:this.props.i18n._('The password reset link was invalid / expired (valid for 24 hrs), possibly because it has already been used.', 'passwordReset.expired.description', 'Text displayed explaining that the link is invalid')}),(0,P.jsx)(x.xu,{marginTop:4,children:(0,P.jsx)(x.xv,{align:"center",children:(0,p.nk)(this.props.i18n._('Please request a {{ passwordResetLink }}.', 'passwordReset.expired.resetPassword', 'Text displayed for expired password reset invalid link page (passwordResetLink: link for the reset password page)'),{passwordResetLink:(0,P.jsx)(x.rU,{display:"inlineBlock",tapStyle:"none",href:"/password/reset",underline:"hover",children:(0,P.jsx)(x.xv,{weight:"bold",children:this.props.i18n._('new password reset', 'passwordReset.expired.newPasswordLink', 'The pasword reset link was invalid / expired (valid for 24 hrs),\n                          Possibly because it has already been used.\n                          Please request a [new password reset].')})},"resetpasswordlink")})})})]})]})}},{key:"renderPasswordResetForm",value:function(){var e=this.props,t=e.i18n,r=e.isDesktop,n=this.state,o=n.confirmPassword,s=n.confirmPasswordError,a=n.isLoading,l=n.password,c=n.passwordError,u=!s&&!c,d=""!==s||""!==c||!l||!o;return(0,P.jsx)(x.W2,{children:(0,P.jsxs)(x.xu,{paddingY:3,maxWidth:r?450:void 0,margin:"auto",children:[(0,P.jsx)(x.X6,{align:r?"center":"start",children:t._('Pick a new password', 'Heading for the reset password page', 'Heading for the reset password page')}),(0,P.jsxs)("form",{autoComplete:"off",onSubmit:this.handleSubmit,children:[(0,P.jsxs)(x.xu,{marginTop:3,marginBottom:3,children:[(0,P.jsx)(x.__,{htmlFor:"password",children:(0,P.jsx)(x.xv,{children:t._('New password', 'New password field label', 'New password field label')})}),(0,P.jsx)(x.xu,{marginTop:2,children:(0,P.jsx)(x.nv,{errorMessage:c,id:"password",onBlur:this.handleBlur,onChange:this.handleChangePassword,placeholder:t._('Password', 'Field label', 'Field label'),size:"lg",type:"password",value:l})})]}),(0,P.jsxs)(x.xu,{marginTop:3,marginBottom:3,children:[(0,P.jsx)(x.__,{htmlFor:"confirm-password",children:(0,P.jsx)(x.xv,{children:t._('Type it again', 'Confirm password field label', 'Confirm password field label')})}),(0,P.jsx)(x.xu,{marginTop:2,children:(0,P.jsx)(x.nv,{errorMessage:s,id:"confirm-password",onBlur:this.handleBlur,onChange:this.handleChangeConfirmPassword,placeholder:t._('Confirm password', 'Field label', 'Field label'),size:"lg",type:"password",value:o})})]}),(0,P.jsx)(x.xu,{display:"flex",justifyContent:"end",marginTop:4,children:(0,P.jsx)(x.zx,{fullWidth:!r,disabled:r?d:!u,color:"red",text:t._('Change Password', 'Button text for submit button on password reset page', 'Button text for submit button on password reset page'),type:"submit"})})]}),a?(0,P.jsx)(i.Z,{}):null]})})}},{key:"render",value:function(){var e=this.props,t=e.i18n,r=e.isDesktop,n=this.state.isLinkValid;return void 0===n?(0,P.jsx)(i.Z,{}):(0,P.jsxs)(s.default,{hasFixedHeader:!0,children:[!r&&(0,P.jsx)(f.FixedHeader,{children:(0,P.jsxs)(x.xu,{display:"flex",alignItems:"center","data-test-id":"mweb-reset-pass-header",children:[(0,P.jsx)(x.xu,{column:2,children:(0,P.jsx)(o.Z,{icon:"cancel",fallbackUrl:"/"})}),(0,P.jsx)(x.xu,{column:8,children:(0,P.jsx)(x.xv,{align:"center",weight:"bold",children:t._('Reset Password', 'Title for reset password page', 'Title for reset password page')})})]})}),n?this.renderPasswordResetForm():this.renderInvalidLink()]})}}])&&C(t.prototype,r),n&&C(t,n),m}(n.PureComponent);function M(e){var t=(0,O.F9)().showToast,r=(0,b.HG)(),n=(0,c.Z)(),o=n.isLimitedLogin,i=n.username,s=(0,g.ZP)(),a=(0,m.aU)(),l=(0,w.Z)();return(0,P.jsx)(B,j(j({},e),{},{history:(0,_.useHistory)(),i18n:s,location:(0,_.useLocation)(),params:(0,_.useParams)(),isLimitedLoginUser:o,isDesktop:r,currentUsername:null!=i?i:"",logContextEvent:l,logout:a,showToast:t}))}},404508:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(506979),o=r(941646),i=r(898781),s=r(112690),a=r(52022),l=r(867820),c=r(385740),u=r(908390),d=r(609500),f=r(515198);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=e.alignIconLeft,r=e.bgColor,h=e.color,v=e.disableRedirect,b=void 0!==v&&v,m=e.fallbackUrl,g=e.icon,w=void 0===g?"arrow-back":g,y=e.onTouch,_=e.padding,x=e.placement,O=e.shouldUseFallbackUrl,P=e.size,S=void 0===P?"lg":P,k=e.viewParameter,j=e.viewType,A=(0,i.ZP)(),E=(0,d.useHistory)(),T=(0,d.useLocation)(),C=(0,n.useSelector)((function(e){return e.session.isAuthenticated})),z=(0,s.Z)(),I=(0,a.Z)(),L=(0,c.SU)(),R=L.viewType,H=L.viewParameter,D=p(j?[j,k]:[R,H],2),B=D[0],M=D[1],F=function(){(0,l.My)("mweb_back_button_click.".concat(String(x),".is_auth_").concat(String(C))),I({action:"click",item:"back-button"}),B&&z({view_type:B,view_parameter:M,element:34,event_type:102}),y&&y(),b||((!T.key||T.state&&"redirect"===T.state.referrer||O)&&m?E.push(m):T.pathname.includes("/password/reset/")&&T.search&&T.search.includes("?nativeShouldDismiss=true")?E.push("/login/?dismissWebview=true"):E.goBack())};return(0,f.jsx)(o.Z,{id:"back-button",children:t?(0,f.jsx)(u.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===w?-1:-2,children:(0,f.jsx)(u.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:r,iconColor:h||r&&!["white","lightGray","transparent"].includes(r)?h:"gray",icon:w,onClick:F,padding:"auto"!==_?_:2,size:S})}):(0,f.jsx)(u.hU,{accessibilityLabel:A._('Back', 'navigation button', 'navigation button'),bgColor:r,iconColor:h||r&&!["white","lightGray","transparent"].includes(r)?h:"gray",icon:w,onClick:F,padding:"auto"!==_?_:2,size:S})})}},759929:function(e,t,r){r.d(t,{k:function(){return s},w:function(){return i}});var n=r(379764),o=r(908390),i=2e3,s=new o.H3([n.Z])},830539:function(e,t,r){var n=r(76911);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(n){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),o=n[0].inst,u=n[1];return a((function(){o.value=r,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,r,t]),s((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},165016:function(e,t,r){var n=r(76911),o=r(768138);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=o.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var d=a(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var r=n(e);return void 0!==o&&o(t,r)?t:(s=e,a=r)}var s,a,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,o]);var p=s(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),u(p),p}},768138:function(e,t,r){e.exports=r(830539)},273897:function(e,t,r){e.exports=r(165016)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/duplo-ResetPasswordPage-c3e418f562406522.js.map